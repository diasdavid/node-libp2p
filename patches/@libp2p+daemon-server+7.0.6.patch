diff --git a/node_modules/@libp2p/daemon-server/dist/index.min.js b/node_modules/@libp2p/daemon-server/dist/index.min.js
index a1d8ce1..7c3804c 100644
--- a/node_modules/@libp2p/daemon-server/dist/index.min.js
+++ b/node_modules/@libp2p/daemon-server/dist/index.min.js
@@ -1,7 +1,30 @@
 (function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.Libp2PDaemonServer = factory()}(typeof self !== 'undefined' ? self : this, function () {
-"use strict";var Libp2PDaemonServer=(()=>{var wi=Object.create;var ye=Object.defineProperty;var Ei=Object.getOwnPropertyDescriptor;var xi=Object.getOwnPropertyNames;var Ii=Object.getPrototypeOf,Ai=Object.prototype.hasOwnProperty;var H=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var bt=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),J=(r,t)=>{for(var e in t)ye(r,e,{get:t[e],enumerable:!0})},Pn=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of xi(t))!Ai.call(r,n)&&n!==e&&ye(r,n,{get:()=>t[n],enumerable:!(o=Ei(t,n))||o.enumerable});return r};var St=(r,t,e)=>(e=r!=null?wi(Ii(r)):{},Pn(t||!r||!r.__esModule?ye(e,"default",{value:r,enumerable:!0}):e,r)),Ci=r=>Pn(ye({},"__esModule",{value:!0}),r);var ao=bt((zu,co)=>{var Yt=1e3,Qt=Yt*60,Jt=Qt*60,kt=Jt*24,zs=kt*7,Hs=kt*365.25;co.exports=function(r,t){t=t||{};var e=typeof r;if(e==="string"&&r.length>0)return Ws(r);if(e==="number"&&isFinite(r))return t.long?Xs(r):Ks(r);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(r))};function Ws(r){if(r=String(r),!(r.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(t){var e=parseFloat(t[1]),o=(t[2]||"ms").toLowerCase();switch(o){case"years":case"year":case"yrs":case"yr":case"y":return e*Hs;case"weeks":case"week":case"w":return e*zs;case"days":case"day":case"d":return e*kt;case"hours":case"hour":case"hrs":case"hr":case"h":return e*Jt;case"minutes":case"minute":case"mins":case"min":case"m":return e*Qt;case"seconds":case"second":case"secs":case"sec":case"s":return e*Yt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:return}}}}function Ks(r){var t=Math.abs(r);return t>=kt?Math.round(r/kt)+"d":t>=Jt?Math.round(r/Jt)+"h":t>=Qt?Math.round(r/Qt)+"m":t>=Yt?Math.round(r/Yt)+"s":r+"ms"}function Xs(r){var t=Math.abs(r);return t>=kt?ke(r,t,kt,"day"):t>=Jt?ke(r,t,Jt,"hour"):t>=Qt?ke(r,t,Qt,"minute"):t>=Yt?ke(r,t,Yt,"second"):r+" ms"}function ke(r,t,e,o){var n=t>=e*1.5;return Math.round(r/e)+" "+o+(n?"s":"")}});var Qr=bt((Hu,uo)=>{function Ys(r){e.debug=e,e.default=e,e.coerce=a,e.disable=i,e.enable=n,e.enabled=s,e.humanize=ao(),e.destroy=f,Object.keys(r).forEach(u=>{e[u]=r[u]}),e.names=[],e.skips=[],e.formatters={};function t(u){let l=0;for(let g=0;g<u.length;g++)l=(l<<5)-l+u.charCodeAt(g),l|=0;return e.colors[Math.abs(l)%e.colors.length]}e.selectColor=t;function e(u){let l,g=null,b,p;function y(...h){if(!y.enabled)return;let w=y,E=Number(new Date),R=E-(l||E);w.diff=R,w.prev=l,w.curr=E,l=E,h[0]=e.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let k=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(et,Q)=>{if(et==="%%")return"%";k++;let rt=e.formatters[Q];if(typeof rt=="function"){let Vt=h[k];et=rt.call(w,Vt),h.splice(k,1),k--}return et}),e.formatArgs.call(w,h),(w.log||e.log).apply(w,h)}return y.namespace=u,y.useColors=e.useColors(),y.color=e.selectColor(u),y.extend=o,y.destroy=e.destroy,Object.defineProperty(y,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(b!==e.namespaces&&(b=e.namespaces,p=e.enabled(u)),p),set:h=>{g=h}}),typeof e.init=="function"&&e.init(y),y}function o(u,l){let g=e(this.namespace+(typeof l>"u"?":":l)+u);return g.log=this.log,g}function n(u){e.save(u),e.namespaces=u,e.names=[],e.skips=[];let l,g=(typeof u=="string"?u:"").split(/[\s,]+/),b=g.length;for(l=0;l<b;l++)g[l]&&(u=g[l].replace(/\*/g,".*?"),u[0]==="-"?e.skips.push(new RegExp("^"+u.slice(1)+"$")):e.names.push(new RegExp("^"+u+"$")))}function i(){let u=[...e.names.map(c),...e.skips.map(c).map(l=>"-"+l)].join(",");return e.enable(""),u}function s(u){if(u[u.length-1]==="*")return!0;let l,g;for(l=0,g=e.skips.length;l<g;l++)if(e.skips[l].test(u))return!1;for(l=0,g=e.names.length;l<g;l++)if(e.names[l].test(u))return!0;return!1}function c(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function a(u){return u instanceof Error?u.stack||u.message:u}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.enable(e.load()),e}uo.exports=Ys});var lo=bt((q,Oe)=>{q.formatArgs=Js;q.save=Zs;q.load=qs;q.useColors=Qs;q.storage=js();q.destroy=(()=>{let r=!1;return()=>{r||(r=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();q.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Qs(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let r;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(r=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(r[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Js(r){if(r[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+r[0]+(this.useColors?"%c ":" ")+"+"+Oe.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;r.splice(1,0,t,"color: inherit");let e=0,o=0;r[0].replace(/%[a-zA-Z%]/g,n=>{n!=="%%"&&(e++,n==="%c"&&(o=e))}),r.splice(o,0,t)}q.log=console.debug||console.log||(()=>{});function Zs(r){try{r?q.storage.setItem("debug",r):q.storage.removeItem("debug")}catch{}}function qs(){let r;try{r=q.storage.getItem("debug")}catch{}return!r&&typeof process<"u"&&"env"in process&&(r=process.env.DEBUG),r}function js(){try{return localStorage}catch{}}Oe.exports=Qr()(q);var{formatters:tc}=Oe.exports;tc.j=function(r){try{return JSON.stringify(r)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var ho=bt((Wu,fo)=>{"use strict";fo.exports=(r,t)=>{t=t||process.argv;let e=r.startsWith("-")?"":r.length===1?"-":"--",o=t.indexOf(e+r),n=t.indexOf("--");return o!==-1&&(n===-1?!0:o<n)}});var mo=bt((Ku,po)=>{"use strict";var ec=H("os"),dt=ho(),G=process.env,Zt;dt("no-color")||dt("no-colors")||dt("color=false")?Zt=!1:(dt("color")||dt("colors")||dt("color=true")||dt("color=always"))&&(Zt=!0);"FORCE_COLOR"in G&&(Zt=G.FORCE_COLOR.length===0||parseInt(G.FORCE_COLOR,10)!==0);function rc(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function nc(r){if(Zt===!1)return 0;if(dt("color=16m")||dt("color=full")||dt("color=truecolor"))return 3;if(dt("color=256"))return 2;if(r&&!r.isTTY&&Zt!==!0)return 0;let t=Zt?1:0;if(process.platform==="win32"){let e=ec.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in G)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in G)||G.CI_NAME==="codeship"?1:t;if("TEAMCITY_VERSION"in G)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(G.TEAMCITY_VERSION)?1:0;if(G.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in G){let e=parseInt((G.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(G.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(G.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(G.TERM)||"COLORTERM"in G?1:(G.TERM==="dumb",t)}function Jr(r){let t=nc(r);return rc(t)}po.exports={supportsColor:Jr,stdout:Jr(process.stdout),stderr:Jr(process.stderr)}});var yo=bt((O,Ue)=>{var oc=H("tty"),_e=H("util");O.init=dc;O.log=ac;O.formatArgs=sc;O.save=uc;O.load=lc;O.useColors=ic;O.destroy=_e.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");O.colors=[6,2,3,4,5,1];try{let r=mo();r&&(r.stderr||r).level>=2&&(O.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}O.inspectOpts=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(n,i)=>i.toUpperCase()),o=process.env[t];return/^(yes|on|true|enabled)$/i.test(o)?o=!0:/^(no|off|false|disabled)$/i.test(o)?o=!1:o==="null"?o=null:o=Number(o),r[e]=o,r},{});function ic(){return"colors"in O.inspectOpts?!!O.inspectOpts.colors:oc.isatty(process.stderr.fd)}function sc(r){let{namespace:t,useColors:e}=this;if(e){let o=this.color,n="\x1B[3"+(o<8?o:"8;5;"+o),i=`  ${n};1m${t} \x1B[0m`;r[0]=i+r[0].split(`
+"use strict";var Libp2PDaemonServer=(()=>{var Pc=Object.create;var dr=Object.defineProperty;var kc=Object.getOwnPropertyDescriptor;var Rc=Object.getOwnPropertyNames;var Bc=Object.getPrototypeOf,Cc=Object.prototype.hasOwnProperty;var W=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var ut=(r,t)=>{for(var e in t)dr(r,e,{get:t[e],enumerable:!0})},Ei=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Rc(t))!Cc.call(r,o)&&o!==e&&dr(r,o,{get:()=>t[o],enumerable:!(n=kc(t,o))||n.enumerable});return r};var mt=(r,t,e)=>(e=r!=null?Pc(Bc(r)):{},Ei(t||!r||!r.__esModule?dr(e,"default",{value:r,enumerable:!0}):e,r)),Oc=r=>Ei(dr({},"__esModule",{value:!0}),r);var Xl={};ut(Xl,{Server:()=>Ln,createServer:()=>Zl});var Pn=W("node:buffer");function ae(r){return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function Kt(r=0){return ae(Pn.Buffer.alloc(r))}function lt(r=0){return ae(Pn.Buffer.allocUnsafe(r))}var Dc=Math.pow(2,7),_c=Math.pow(2,14),Uc=Math.pow(2,21),kn=Math.pow(2,28),Rn=Math.pow(2,35),Bn=Math.pow(2,42),Cn=Math.pow(2,49),k=128,rt=127;function z(r){if(r<Dc)return 1;if(r<_c)return 2;if(r<Uc)return 3;if(r<kn)return 4;if(r<Rn)return 5;if(r<Bn)return 6;if(r<Cn)return 7;if(Number.MAX_SAFE_INTEGER!=null&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function On(r,t,e=0){switch(z(r)){case 8:t[e++]=r&255|k,r/=128;case 7:t[e++]=r&255|k,r/=128;case 6:t[e++]=r&255|k,r/=128;case 5:t[e++]=r&255|k,r/=128;case 4:t[e++]=r&255|k,r>>>=7;case 3:t[e++]=r&255|k,r>>>=7;case 2:t[e++]=r&255|k,r>>>=7;case 1:{t[e++]=r&255,r>>>=7;break}default:throw new Error("unreachable")}return t}function Mc(r,t,e=0){switch(z(r)){case 8:t.set(e++,r&255|k),r/=128;case 7:t.set(e++,r&255|k),r/=128;case 6:t.set(e++,r&255|k),r/=128;case 5:t.set(e++,r&255|k),r/=128;case 4:t.set(e++,r&255|k),r>>>=7;case 3:t.set(e++,r&255|k),r>>>=7;case 2:t.set(e++,r&255|k),r>>>=7;case 1:{t.set(e++,r&255),r>>>=7;break}default:throw new Error("unreachable")}return t}function Dn(r,t){let e=r[t],n=0;if(n+=e&rt,e<k||(e=r[t+1],n+=(e&rt)<<7,e<k)||(e=r[t+2],n+=(e&rt)<<14,e<k)||(e=r[t+3],n+=(e&rt)<<21,e<k)||(e=r[t+4],n+=(e&rt)*kn,e<k)||(e=r[t+5],n+=(e&rt)*Rn,e<k)||(e=r[t+6],n+=(e&rt)*Bn,e<k)||(e=r[t+7],n+=(e&rt)*Cn,e<k))return n;throw new RangeError("Could not decode varint")}function Kc(r,t){let e=r.get(t),n=0;if(n+=e&rt,e<k||(e=r.get(t+1),n+=(e&rt)<<7,e<k)||(e=r.get(t+2),n+=(e&rt)<<14,e<k)||(e=r.get(t+3),n+=(e&rt)<<21,e<k)||(e=r.get(t+4),n+=(e&rt)*kn,e<k)||(e=r.get(t+5),n+=(e&rt)*Rn,e<k)||(e=r.get(t+6),n+=(e&rt)*Bn,e<k)||(e=r.get(t+7),n+=(e&rt)*Cn,e<k))return n;throw new RangeError("Could not decode varint")}function Ut(r,t,e=0){return t==null&&(t=lt(z(r))),t instanceof Uint8Array?On(r,t,e):Mc(r,t,e)}function Pt(r,t=0){return r instanceof Uint8Array?Dn(r,t):Kc(r,t)}var _n=new Float32Array([-0]),Yt=new Uint8Array(_n.buffer);function vi(r,t,e){_n[0]=r,t[e]=Yt[0],t[e+1]=Yt[1],t[e+2]=Yt[2],t[e+3]=Yt[3]}function Ii(r,t){return Yt[0]=r[t],Yt[1]=r[t+1],Yt[2]=r[t+2],Yt[3]=r[t+3],_n[0]}var Un=new Float64Array([-0]),nt=new Uint8Array(Un.buffer);function Si(r,t,e){Un[0]=r,t[e]=nt[0],t[e+1]=nt[1],t[e+2]=nt[2],t[e+3]=nt[3],t[e+4]=nt[4],t[e+5]=nt[5],t[e+6]=nt[6],t[e+7]=nt[7]}function Ai(r,t){return nt[0]=r[t],nt[1]=r[t+1],nt[2]=r[t+2],nt[3]=r[t+3],nt[4]=r[t+4],nt[5]=r[t+5],nt[6]=r[t+6],nt[7]=r[t+7],Un[0]}var $c=BigInt(Number.MAX_SAFE_INTEGER),Vc=BigInt(Number.MIN_SAFE_INTEGER),yt=class r{lo;hi;constructor(t,e){this.lo=t|0,this.hi=e|0}toNumber(t=!1){if(!t&&this.hi>>>31>0){let e=~this.lo+1>>>0,n=~this.hi>>>0;return e===0&&(n=n+1>>>0),-(e+n*4294967296)}return this.lo+this.hi*4294967296}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let e=~this.lo+1>>>0,n=~this.hi>>>0;return e===0&&(n=n+1>>>0),-(BigInt(e)+(BigInt(n)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){let t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){let t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){let t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return n===0?e===0?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}static fromBigInt(t){if(t===0n)return ue;if(t<$c&&t>Vc)return this.fromNumber(Number(t));let e=t<0n;e&&(t=-t);let n=t>>32n,o=t-(n<<32n);return e&&(n=~n|0n,o=~o|0n,++o>Ti&&(o=0n,++n>Ti&&(n=0n))),new r(Number(o),Number(n))}static fromNumber(t){if(t===0)return ue;let e=t<0;e&&(t=-t);let n=t>>>0,o=(t-n)/4294967296>>>0;return e&&(o=~o>>>0,n=~n>>>0,++n>4294967295&&(n=0,++o>4294967295&&(o=0))),new r(n,o)}static from(t){return typeof t=="number"?r.fromNumber(t):typeof t=="bigint"?r.fromBigInt(t):typeof t=="string"?r.fromBigInt(BigInt(t)):t.low!=null||t.high!=null?new r(t.low>>>0,t.high>>>0):ue}},ue=new yt(0,0);ue.toBigInt=function(){return 0n};ue.zzEncode=ue.zzDecode=function(){return this};ue.length=function(){return 1};var Ti=4294967296n;function Li(r){let t=0,e=0;for(let n=0;n<r.length;++n)e=r.charCodeAt(n),e<128?t+=1:e<2048?t+=2:(e&64512)===55296&&(r.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function Ni(r,t,e){if(e-t<1)return"";let o,i=[],s=0,c;for(;t<e;)c=r[t++],c<128?i[s++]=c:c>191&&c<224?i[s++]=(c&31)<<6|r[t++]&63:c>239&&c<365?(c=((c&7)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,i[s++]=55296+(c>>10),i[s++]=56320+(c&1023)):i[s++]=(c&15)<<12|(r[t++]&63)<<6|r[t++]&63,s>8191&&((o??(o=[])).push(String.fromCharCode.apply(String,i)),s=0);return o!=null?(s>0&&o.push(String.fromCharCode.apply(String,i.slice(0,s))),o.join("")):String.fromCharCode.apply(String,i.slice(0,s))}function Mn(r,t,e){let n=e,o,i;for(let s=0;s<r.length;++s)o=r.charCodeAt(s),o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=o&63|128):(o&64512)===55296&&((i=r.charCodeAt(s+1))&64512)===56320?(o=65536+((o&1023)<<10)+(i&1023),++s,t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=o&63|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=o&63|128);return e-n}function kt(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function hr(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}var Kn=class{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,kt(this,10);return t}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw kt(this,4);return hr(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw kt(this,4);return hr(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw kt(this,4);let t=Ii(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw kt(this,4);let t=Ai(this.buf,this.pos);return this.pos+=8,t}bytes(){let t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw kt(this,t);return this.pos+=t,e===n?new Uint8Array(0):this.buf.subarray(e,n)}string(){let t=this.bytes();return Ni(t,0,t.length)}skip(t){if(typeof t=="number"){if(this.pos+t>this.len)throw kt(this,t);this.pos+=t}else do if(this.pos>=this.len)throw kt(this);while(this.buf[this.pos++]&128);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){let t=new yt(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw kt(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw kt(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw kt(this,8);let t=hr(this.buf,this.pos+=4),e=hr(this.buf,this.pos+=4);return new yt(t,e)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){let t=Dn(this.buf,this.pos);return this.pos+=z(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}};function $n(r){return new Kn(r instanceof Uint8Array?r:r.subarray())}function _(r,t,e){let n=$n(r);return t.decode(n,void 0,e)}var Zi=W("node:buffer");var Hn={};ut(Hn,{base10:()=>Wc});var ff=new Uint8Array(0);function ki(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function vt(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function Ri(r){return new TextEncoder().encode(r)}function Bi(r){return new TextDecoder().decode(r)}function Gc(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var o=0;o<r.length;o++){var i=r.charAt(o),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=o}var c=r.length,a=r.charAt(0),l=Math.log(c)/Math.log(256),d=Math.log(256)/Math.log(c);function u(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var f=0,h=0,m=0,b=p.length;m!==b&&p[m]===0;)m++,f++;for(var v=(b-m)*d+1>>>0,P=new Uint8Array(v);m!==b;){for(var T=p[m],E=0,S=v-1;(T!==0||E<h)&&S!==-1;S--,E++)T+=256*P[S]>>>0,P[S]=T%c>>>0,T=T/c>>>0;if(T!==0)throw new Error("Non-zero carry");h=E,m++}for(var L=v-h;L!==v&&P[L]===0;)L++;for(var X=a.repeat(f);L<v;++L)X+=r.charAt(P[L]);return X}function y(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var f=0;if(p[f]!==" "){for(var h=0,m=0;p[f]===a;)h++,f++;for(var b=(p.length-f)*l+1>>>0,v=new Uint8Array(b);p[f];){var P=e[p.charCodeAt(f)];if(P===255)return;for(var T=0,E=b-1;(P!==0||T<m)&&E!==-1;E--,T++)P+=c*v[E]>>>0,v[E]=P%256>>>0,P=P/256>>>0;if(P!==0)throw new Error("Non-zero carry");m=T,f++}if(p[f]!==" "){for(var S=b-m;S!==b&&v[S]===0;)S++;for(var L=new Uint8Array(h+(b-S)),X=h;S!==b;)L[X++]=v[S++];return L}}}function g(p){var f=y(p);if(f)return f;throw new Error(`Non-${t} character`)}return{encode:u,decodeUnsafe:y,decode:g}}var Fc=Gc,zc=Fc,Oi=zc;var Vn=class{name;prefix;baseEncode;constructor(t,e,n){this.name=t,this.prefix=e,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Gn=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,n){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Di(this,t)}},Fn=class{decoders;constructor(t){this.decoders=t}or(t){return Di(this,t)}decode(t){let e=t[0],n=this.decoders[e];if(n!=null)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function Di(r,t){return new Fn({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}var zn=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,n,o){this.name=t,this.prefix=e,this.baseEncode=n,this.baseDecode=o,this.encoder=new Vn(t,e,n),this.decoder=new Gn(t,e,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function Te({name:r,prefix:t,encode:e,decode:n}){return new zn(r,t,e,n)}function Zt({name:r,prefix:t,alphabet:e}){let{encode:n,decode:o}=Oi(e,r);return Te({prefix:t,name:r,encode:n,decode:i=>vt(o(i))})}function Hc(r,t,e,n){let o={};for(let d=0;d<t.length;++d)o[t[d]]=d;let i=r.length;for(;r[i-1]==="=";)--i;let s=new Uint8Array(i*e/8|0),c=0,a=0,l=0;for(let d=0;d<i;++d){let u=o[r[d]];if(u===void 0)throw new SyntaxError(`Non-${n} character`);a=a<<e|u,c+=e,c>=8&&(c-=8,s[l++]=255&a>>c)}if(c>=e||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s}function qc(r,t,e){let n=t[t.length-1]==="=",o=(1<<e)-1,i="",s=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],s+=8;s>e;)s-=e,i+=t[o&c>>s];if(s!==0&&(i+=t[o&c<<e-s]),n)for(;i.length*e&7;)i+="=";return i}function V({name:r,prefix:t,bitsPerChar:e,alphabet:n}){return Te({prefix:t,name:r,encode(o){return qc(o,n,e)},decode(o){return Hc(o,n,e,r)}})}var Wc=Zt({prefix:"9",name:"base10",alphabet:"0123456789"});var qn={};ut(qn,{base16:()=>Yc,base16upper:()=>Zc});var Yc=V({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Zc=V({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Wn={};ut(Wn,{base2:()=>Xc});var Xc=V({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Yn={};ut(Yn,{base256emoji:()=>ea});var _i=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Qc=_i.reduce((r,t,e)=>(r[e]=t,r),[]),Jc=_i.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function jc(r){return r.reduce((t,e)=>(t+=Qc[e],t),"")}function ta(r){let t=[];for(let e of r){let n=Jc[e.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(n)}return new Uint8Array(t)}var ea=Te({prefix:"\u{1F680}",name:"base256emoji",encode:jc,decode:ta});var Zn={};ut(Zn,{base32:()=>Rt,base32hex:()=>ia,base32hexpad:()=>ca,base32hexpadupper:()=>aa,base32hexupper:()=>sa,base32pad:()=>na,base32padupper:()=>oa,base32upper:()=>ra,base32z:()=>ua});var Rt=V({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),ra=V({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),na=V({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),oa=V({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ia=V({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),sa=V({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ca=V({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),aa=V({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ua=V({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Xn={};ut(Xn,{base36:()=>la,base36upper:()=>fa});var la=Zt({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),fa=Zt({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Qn={};ut(Qn,{base58btc:()=>U,base58flickr:()=>da});var U=Zt({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),da=Zt({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var jn={};ut(jn,{base64:()=>Jn,base64pad:()=>ha,base64url:()=>pa,base64urlpad:()=>ma});var Jn=V({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ha=V({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pa=V({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ma=V({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var to={};ut(to,{base8:()=>ya});var ya=V({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var eo={};ut(eo,{identity:()=>ga});var ga=Te({prefix:"\0",name:"identity",encode:r=>Bi(r),decode:r=>Ri(r)});var Lf=new TextEncoder,Nf=new TextDecoder;var no={};ut(no,{identity:()=>$t});var xa=Ki,Ui=128,Ea=127,va=~Ea,Ia=Math.pow(2,31);function Ki(r,t,e){t=t||[],e=e||0;for(var n=e;r>=Ia;)t[e++]=r&255|Ui,r/=128;for(;r&va;)t[e++]=r&255|Ui,r>>>=7;return t[e]=r|0,Ki.bytes=e-n+1,t}var Sa=ro,Aa=128,Mi=127;function ro(r,n){var e=0,n=n||0,o=0,i=n,s,c=r.length;do{if(i>=c)throw ro.bytes=0,new RangeError("Could not decode varint");s=r[i++],e+=o<28?(s&Mi)<<o:(s&Mi)*Math.pow(2,o),o+=7}while(s>=Aa);return ro.bytes=i-n,e}var Ta=Math.pow(2,7),La=Math.pow(2,14),Na=Math.pow(2,21),Pa=Math.pow(2,28),ka=Math.pow(2,35),Ra=Math.pow(2,42),Ba=Math.pow(2,49),Ca=Math.pow(2,56),Oa=Math.pow(2,63),Da=function(r){return r<Ta?1:r<La?2:r<Na?3:r<Pa?4:r<ka?5:r<Ra?6:r<Ba?7:r<Ca?8:r<Oa?9:10},_a={encode:xa,decode:Sa,encodingLength:Da},Ua=_a,Ye=Ua;function Ze(r,t=0){return[Ye.decode(r,t),Ye.decode.bytes]}function Le(r,t,e=0){return Ye.encode(r,t,e),t}function Ne(r){return Ye.encodingLength(r)}function le(r,t){let e=t.byteLength,n=Ne(r),o=n+Ne(e),i=new Uint8Array(o+e);return Le(r,i,0),Le(e,i,n),i.set(t,o),new Pe(r,e,t,i)}function Bt(r){let t=vt(r),[e,n]=Ze(t),[o,i]=Ze(t.subarray(n)),s=t.subarray(n+i);if(s.byteLength!==o)throw new Error("Incorrect length");return new Pe(e,o,s,t)}function $i(r,t){if(r===t)return!0;{let e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&ki(r.bytes,e.bytes)}}var Pe=class{code;size;digest;bytes;constructor(t,e,n,o){this.code=t,this.size=e,this.digest=n,this.bytes=o}};var Vi=0,Ma="identity",Gi=vt;function Ka(r){return le(Vi,Gi(r))}var $t={code:Vi,name:Ma,encode:Gi,digest:Ka};var ao={};ut(ao,{sha256:()=>co,sha512:()=>$a});var so=mt(W("crypto"),1);function io({name:r,code:t,encode:e}){return new oo(r,t,e)}var oo=class{name;code;encode;constructor(t,e,n){this.name=t,this.code=e,this.encode=n}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?le(this.code,e):e.then(n=>le(this.code,n))}else throw Error("Unknown type, must be binary type")}};var co=io({name:"sha2-256",code:18,encode:r=>vt(so.default.createHash("sha256").update(r).digest())}),$a=io({name:"sha2-512",code:19,encode:r=>vt(so.default.createHash("sha512").update(r).digest())});function zi(r,t){let{bytes:e,version:n}=r;switch(n){case 0:return Ga(e,uo(r),t??U.encoder);default:return Fa(e,uo(r),t??Rt.encoder)}}var Hi=new WeakMap;function uo(r){let t=Hi.get(r);if(t==null){let e=new Map;return Hi.set(r,e),e}return t}var J=class r{code;version;multihash;bytes;"/";constructor(t,e,n,o){this.code=e,this.version=t,this.multihash=n,this.bytes=o,this["/"]=o}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:e}=this;if(t!==Xe)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==za)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,n=le(t,e);return r.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return r.equals(this,t)}static equals(t,e){let n=e;return n!=null&&t.code===n.code&&t.version===n.version&&$i(t.multihash,n.multihash)}toString(t){return zi(this,t)}toJSON(){return{"/":zi(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let e=t;if(e instanceof r)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){let{version:n,code:o,multihash:i,bytes:s}=e;return new r(n,o,i,s??qi(n,o,i.bytes))}else if(e[Ha]===!0){let{version:n,multihash:o,code:i}=e,s=Bt(o);return r.create(n,i,s)}else return null}static create(t,e,n){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==Xe)throw new Error(`Version 0 CID must use dag-pb (code: ${Xe}) block encoding`);return new r(t,e,n,n.bytes)}case 1:{let o=qi(t,e,n.bytes);return new r(t,e,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return r.create(0,Xe,t)}static createV1(t,e){return r.create(1,t,e)}static decode(t){let[e,n]=r.decodeFirst(t);if(n.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=r.inspectBytes(t),n=e.size-e.multihashSize,o=vt(t.subarray(n,n+e.multihashSize));if(o.byteLength!==e.multihashSize)throw new Error("Incorrect length");let i=o.subarray(e.multihashSize-e.digestSize),s=new Pe(e.multihashCode,e.digestSize,i,o);return[e.version===0?r.createV0(s):r.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,n=()=>{let[u,y]=Ze(t.subarray(e));return e+=y,u},o=n(),i=Xe;if(o===18?(o=0,e=0):i=n(),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let s=e,c=n(),a=n(),l=e+a,d=l-s;return{version:o,codec:i,multihashCode:c,digestSize:a,multihashSize:d,size:l}}static parse(t,e){let[n,o]=Va(t,e),i=r.decode(o);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return uo(i).set(n,t),i}};function Va(r,t){switch(r[0]){case"Q":{let e=t??U;return[U.prefix,e.decode(`${U.prefix}${r}`)]}case U.prefix:{let e=t??U;return[U.prefix,e.decode(r)]}case Rt.prefix:{let e=t??Rt;return[Rt.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function Ga(r,t,e){let{prefix:n}=e;if(n!==U.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);let o=t.get(n);if(o==null){let i=e.encode(r).slice(1);return t.set(n,i),i}else return o}function Fa(r,t,e){let{prefix:n}=e,o=t.get(n);if(o==null){let i=e.encode(r);return t.set(n,i),i}else return o}var Xe=112,za=18;function qi(r,t,e){let n=Ne(r),o=n+Ne(t),i=new Uint8Array(o+e.byteLength);return Le(r,i,0),Le(t,i,n),i.set(e,o),i}var Ha=Symbol.for("@ipld/js-cid/CID");var Qe={...eo,...Wn,...to,...Hn,...qn,...Zn,...Xn,...Qn,...jn,...Yn},Xf={...ao,...no};function Yi(r,t,e,n){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:n}}}var Wi=Yi("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),lo=Yi("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);let t=lt(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),qa={utf8:Wi,"utf-8":Wi,hex:Qe.base16,latin1:lo,ascii:lo,binary:lo,...Qe},mr=qa;function Mt(r,t="utf8"){let e=mr[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return t==="utf8"||t==="utf-8"?ae(Zi.Buffer.from(r,"utf-8")):e.decoder.decode(`${e.prefix}${r}`)}function fo(r){let t=r??8192,e=t>>>1,n,o=t;return function(s){if(s<1||s>e)return lt(s);o+s>t&&(n=lt(t),o=0);let c=n.subarray(o,o+=s);return o&7&&(o=(o|7)+1),c}}var fe=class{fn;len;next;val;constructor(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}};function ho(){}var mo=class{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}},Wa=fo();function Ya(r){return globalThis.Buffer!=null?lt(r):Wa(r)}var je=class{len;head;tail;states;constructor(){this.len=0,this.head=new fe(ho,0,0),this.tail=this.head,this.states=null}_push(t,e,n){return this.tail=this.tail.next=new fe(t,e,n),this.len+=e,this}uint32(t){return this.len+=(this.tail=this.tail.next=new yo((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(yr,10,yt.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){let e=yt.fromBigInt(t);return this._push(yr,e.length(),e)}uint64Number(t){return this._push(On,z(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){let e=yt.fromBigInt(t).zzEncode();return this._push(yr,e.length(),e)}sint64Number(t){let e=yt.fromNumber(t).zzEncode();return this._push(yr,e.length(),e)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(po,1,t?1:0)}fixed32(t){return this._push(Je,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){let e=yt.fromBigInt(t);return this._push(Je,4,e.lo)._push(Je,4,e.hi)}fixed64Number(t){let e=yt.fromNumber(t);return this._push(Je,4,e.lo)._push(Je,4,e.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(vi,4,t)}double(t){return this._push(Si,8,t)}bytes(t){let e=t.length>>>0;return e===0?this._push(po,1,0):this.uint32(e)._push(Xa,e,t)}string(t){let e=Li(t);return e!==0?this.uint32(e)._push(Mn,e,t):this._push(po,1,0)}fork(){return this.states=new mo(this),this.head=this.tail=new fe(ho,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new fe(ho,0,0),this.len=0),this}ldelim(){let t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n!==0&&(this.tail.next=t.next,this.tail=e,this.len+=n),this}finish(){let t=this.head.next,e=Ya(this.len),n=0;for(;t!=null;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e}};function po(r,t,e){t[e]=r&255}function Za(r,t,e){for(;r>127;)t[e++]=r&127|128,r>>>=7;t[e]=r}var yo=class extends fe{next;constructor(t,e){super(Za,t,e),this.next=void 0}};function yr(r,t,e){for(;r.hi!==0;)t[e++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[e++]=r.lo&127|128,r.lo=r.lo>>>7;t[e++]=r.lo}function Je(r,t,e){t[e]=r&255,t[e+1]=r>>>8&255,t[e+2]=r>>>16&255,t[e+3]=r>>>24}function Xa(r,t,e){t.set(r,e)}globalThis.Buffer!=null&&(je.prototype.bytes=function(r){let t=r.length>>>0;return this.uint32(t),t>0&&this._push(Qa,t,r),this},je.prototype.string=function(r){let t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push(Ja,t,r),this});function Qa(r,t,e){t.set(r,e)}function Ja(r,t,e){r.length<40?Mn(r,t,e):t.utf8Write!=null?t.utf8Write(r,e):t.set(Mt(r),e)}function go(){return new je}function M(r,t){let e=go();return t.encode(r,e,{lengthDelimited:!1}),e.finish()}var ke;(function(r){r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32"})(ke||(ke={}));function gr(r,t,e,n){return{name:r,type:t,encode:e,decode:n}}function Ct(r){function t(o){if(r[o.toString()]==null)throw new Error("Invalid enum value");return r[o]}let e=function(i,s){let c=t(i);s.int32(c)},n=function(i){let s=i.int32();return t(s)};return gr("enum",ke.VARINT,e,n)}function K(r,t){return gr("message",ke.LENGTH_DELIMITED,r,t)}var It;(function(r){let t;(function(o){o.IDENTIFY="IDENTIFY",o.CONNECT="CONNECT",o.STREAM_OPEN="STREAM_OPEN",o.STREAM_HANDLER="STREAM_HANDLER",o.DHT="DHT",o.LIST_PEERS="LIST_PEERS",o.CONNMANAGER="CONNMANAGER",o.DISCONNECT="DISCONNECT",o.PUBSUB="PUBSUB",o.PEERSTORE="PEERSTORE"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.IDENTIFY=0]="IDENTIFY",o[o.CONNECT=1]="CONNECT",o[o.STREAM_OPEN=2]="STREAM_OPEN",o[o.STREAM_HANDLER=3]="STREAM_HANDLER",o[o.DHT=4]="DHT",o[o.LIST_PEERS=5]="LIST_PEERS",o[o.CONNMANAGER=6]="CONNMANAGER",o[o.DISCONNECT=7]="DISCONNECT",o[o.PUBSUB=8]="PUBSUB",o[o.PEERSTORE=9]="PEERSTORE"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.connect!=null&&(i.uint32(18),wr.codec().encode(o.connect,i)),o.streamOpen!=null&&(i.uint32(26),xr.codec().encode(o.streamOpen,i)),o.streamHandler!=null&&(i.uint32(34),Er.codec().encode(o.streamHandler,i)),o.dht!=null&&(i.uint32(42),St.codec().encode(o.dht,i)),o.connManager!=null&&(i.uint32(50),Ir.codec().encode(o.connManager,i)),o.disconnect!=null&&(i.uint32(58),Sr.codec().encode(o.disconnect,i)),o.pubsub!=null&&(i.uint32(66),Vt.codec().encode(o.pubsub,i)),o.peerStore!=null&&(i.uint32(74),de.codec().encode(o.peerStore,i)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.connect=wr.codec().decode(o,o.uint32());break;case 3:s.streamOpen=xr.codec().decode(o,o.uint32());break;case 4:s.streamHandler=Er.codec().decode(o,o.uint32());break;case 5:s.dht=St.codec().decode(o,o.uint32());break;case 6:s.connManager=Ir.codec().decode(o,o.uint32());break;case 7:s.disconnect=Sr.codec().decode(o,o.uint32());break;case 8:s.pubsub=Vt.codec().decode(o,o.uint32());break;case 9:s.peerStore=de.codec().decode(o,o.uint32());break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(It||(It={}));var H;(function(r){let t;(function(o){o.OK="OK",o.ERROR="ERROR"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.OK=0]="OK",o[o.ERROR=1]="ERROR"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{if(s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.error!=null&&(i.uint32(18),vr.codec().encode(o.error,i)),o.streamInfo!=null&&(i.uint32(26),Re.codec().encode(o.streamInfo,i)),o.identify!=null&&(i.uint32(34),br.codec().encode(o.identify,i)),o.dht!=null&&(i.uint32(42),et.codec().encode(o.dht,i)),o.peers!=null)for(let c of o.peers)i.uint32(50),Qt.codec().encode(c,i);o.pubsub!=null&&(i.uint32(58),Ar.codec().encode(o.pubsub,i)),o.peerStore!=null&&(i.uint32(66),Tr.codec().encode(o.peerStore,i)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={peers:[]},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.error=vr.codec().decode(o,o.uint32());break;case 3:s.streamInfo=Re.codec().decode(o,o.uint32());break;case 4:s.identify=br.codec().decode(o,o.uint32());break;case 5:s.dht=et.codec().decode(o,o.uint32());break;case 6:s.peers.push(Qt.codec().decode(o,o.uint32()));break;case 7:s.pubsub=Ar.codec().decode(o,o.uint32());break;case 8:s.peerStore=Tr.codec().decode(o,o.uint32());break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(H||(H={}));var br;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.id!=null&&e.id.byteLength>0&&(n.uint32(10),n.bytes(e.id)),e.addrs!=null)for(let i of e.addrs)n.uint32(18),n.bytes(i);o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={id:new Uint8Array(0),addrs:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.id=e.bytes();break;case 2:o.addrs.push(e.bytes());break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(br||(br={}));var wr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.peer!=null&&e.peer.byteLength>0&&(n.uint32(10),n.bytes(e.peer)),e.addrs!=null)for(let i of e.addrs)n.uint32(18),n.bytes(i);e.timeout!=null&&(n.uint32(24),n.int64(e.timeout)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={peer:new Uint8Array(0),addrs:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.peer=e.bytes();break;case 2:o.addrs.push(e.bytes());break;case 3:o.timeout=e.int64();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(wr||(wr={}));var xr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.peer!=null&&e.peer.byteLength>0&&(n.uint32(10),n.bytes(e.peer)),e.proto!=null)for(let i of e.proto)n.uint32(18),n.string(i);e.timeout!=null&&(n.uint32(24),n.int64(e.timeout)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={peer:new Uint8Array(0),proto:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.peer=e.bytes();break;case 2:o.proto.push(e.string());break;case 3:o.timeout=e.int64();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(xr||(xr={}));var Er;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.addr!=null&&e.addr.byteLength>0&&(n.uint32(10),n.bytes(e.addr)),e.proto!=null)for(let i of e.proto)n.uint32(18),n.string(i);o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={addr:new Uint8Array(0),proto:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.addr=e.bytes();break;case 2:o.proto.push(e.string());break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Er||(Er={}));var vr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),e.msg!=null&&e.msg!==""&&(n.uint32(10),n.string(e.msg)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={msg:""},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.msg=e.string();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(vr||(vr={}));var Re;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),e.peer!=null&&e.peer.byteLength>0&&(n.uint32(10),n.bytes(e.peer)),e.addr!=null&&e.addr.byteLength>0&&(n.uint32(18),n.bytes(e.addr)),e.proto!=null&&e.proto!==""&&(n.uint32(26),n.string(e.proto)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={peer:new Uint8Array(0),addr:new Uint8Array(0),proto:""},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.peer=e.bytes();break;case 2:o.addr=e.bytes();break;case 3:o.proto=e.string();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Re||(Re={}));var St;(function(r){let t;(function(o){o.FIND_PEER="FIND_PEER",o.FIND_PEERS_CONNECTED_TO_PEER="FIND_PEERS_CONNECTED_TO_PEER",o.FIND_PROVIDERS="FIND_PROVIDERS",o.GET_CLOSEST_PEERS="GET_CLOSEST_PEERS",o.GET_PUBLIC_KEY="GET_PUBLIC_KEY",o.GET_VALUE="GET_VALUE",o.SEARCH_VALUE="SEARCH_VALUE",o.PUT_VALUE="PUT_VALUE",o.PROVIDE="PROVIDE"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.FIND_PEER=0]="FIND_PEER",o[o.FIND_PEERS_CONNECTED_TO_PEER=1]="FIND_PEERS_CONNECTED_TO_PEER",o[o.FIND_PROVIDERS=2]="FIND_PROVIDERS",o[o.GET_CLOSEST_PEERS=3]="GET_CLOSEST_PEERS",o[o.GET_PUBLIC_KEY=4]="GET_PUBLIC_KEY",o[o.GET_VALUE=5]="GET_VALUE",o[o.SEARCH_VALUE=6]="SEARCH_VALUE",o[o.PUT_VALUE=7]="PUT_VALUE",o[o.PROVIDE=8]="PROVIDE"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.peer!=null&&(i.uint32(18),i.bytes(o.peer)),o.cid!=null&&(i.uint32(26),i.bytes(o.cid)),o.key!=null&&(i.uint32(34),i.bytes(o.key)),o.value!=null&&(i.uint32(42),i.bytes(o.value)),o.count!=null&&(i.uint32(48),i.int32(o.count)),o.timeout!=null&&(i.uint32(56),i.int64(o.timeout)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.peer=o.bytes();break;case 3:s.cid=o.bytes();break;case 4:s.key=o.bytes();break;case 5:s.value=o.bytes();break;case 6:s.count=o.int32();break;case 7:s.timeout=o.int64();break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(St||(St={}));var et;(function(r){let t;(function(o){o.BEGIN="BEGIN",o.VALUE="VALUE",o.END="END"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.BEGIN=0]="BEGIN",o[o.VALUE=1]="VALUE",o[o.END=2]="END"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.peer!=null&&(i.uint32(18),Qt.codec().encode(o.peer,i)),o.value!=null&&(i.uint32(26),i.bytes(o.value)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.peer=Qt.codec().decode(o,o.uint32());break;case 3:s.value=o.bytes();break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(et||(et={}));var Qt;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.id!=null&&e.id.byteLength>0&&(n.uint32(10),n.bytes(e.id)),e.addrs!=null)for(let i of e.addrs)n.uint32(18),n.bytes(i);o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={id:new Uint8Array(0),addrs:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.id=e.bytes();break;case 2:o.addrs.push(e.bytes());break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Qt||(Qt={}));var Ir;(function(r){let t;(function(o){o.TAG_PEER="TAG_PEER",o.UNTAG_PEER="UNTAG_PEER",o.TRIM="TRIM"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.TAG_PEER=0]="TAG_PEER",o[o.UNTAG_PEER=1]="UNTAG_PEER",o[o.TRIM=2]="TRIM"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.peer!=null&&(i.uint32(18),i.bytes(o.peer)),o.tag!=null&&(i.uint32(26),i.string(o.tag)),o.weight!=null&&(i.uint32(32),i.int64(o.weight)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.peer=o.bytes();break;case 3:s.tag=o.string();break;case 4:s.weight=o.int64();break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(Ir||(Ir={}));var Sr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),e.peer!=null&&e.peer.byteLength>0&&(n.uint32(10),n.bytes(e.peer)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={peer:new Uint8Array(0)},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.peer=e.bytes();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Sr||(Sr={}));var Vt;(function(r){let t;(function(o){o.GET_TOPICS="GET_TOPICS",o.LIST_PEERS="LIST_PEERS",o.PUBLISH="PUBLISH",o.SUBSCRIBE="SUBSCRIBE"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.GET_TOPICS=0]="GET_TOPICS",o[o.LIST_PEERS=1]="LIST_PEERS",o[o.PUBLISH=2]="PUBLISH",o[o.SUBSCRIBE=3]="SUBSCRIBE"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.topic!=null&&(i.uint32(18),i.string(o.topic)),o.data!=null&&(i.uint32(26),i.bytes(o.data)),s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.topic=o.string();break;case 3:s.data=o.bytes();break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(Vt||(Vt={}));var tr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.from!=null&&(n.uint32(10),n.bytes(e.from)),e.data!=null&&(n.uint32(18),n.bytes(e.data)),e.seqno!=null&&(n.uint32(26),n.bytes(e.seqno)),e.topicIDs!=null)for(let i of e.topicIDs)n.uint32(34),n.string(i);e.signature!=null&&(n.uint32(42),n.bytes(e.signature)),e.key!=null&&(n.uint32(50),n.bytes(e.key)),o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={topicIDs:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.from=e.bytes();break;case 2:o.data=e.bytes();break;case 3:o.seqno=e.bytes();break;case 4:o.topicIDs.push(e.string());break;case 5:o.signature=e.bytes();break;case 6:o.key=e.bytes();break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(tr||(tr={}));var Ar;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.topics!=null)for(let i of e.topics)n.uint32(10),n.string(i);if(e.peerIDs!=null)for(let i of e.peerIDs)n.uint32(18),n.bytes(i);o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={topics:[],peerIDs:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.topics.push(e.string());break;case 2:o.peerIDs.push(e.bytes());break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Ar||(Ar={}));var de;(function(r){let t;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.GET_PROTOCOLS="GET_PROTOCOLS",o.GET_PEER_INFO="GET_PEER_INFO"})(t=r.Type||(r.Type={}));let e;(function(o){o[o.UNSPECIFIED=0]="UNSPECIFIED",o[o.GET_PROTOCOLS=1]="GET_PROTOCOLS",o[o.GET_PEER_INFO=2]="GET_PEER_INFO"})(e||(e={})),function(o){o.codec=()=>Ct(e)}(t=r.Type||(r.Type={}));let n;r.codec=()=>(n==null&&(n=K((o,i,s={})=>{if(s.lengthDelimited!==!1&&i.fork(),o.type!=null&&(i.uint32(8),r.Type.codec().encode(o.type,i)),o.id!=null&&(i.uint32(18),i.bytes(o.id)),o.protos!=null)for(let c of o.protos)i.uint32(26),i.string(c);s.lengthDelimited!==!1&&i.ldelim()},(o,i)=>{let s={protos:[]},c=i==null?o.len:o.pos+i;for(;o.pos<c;){let a=o.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(o);break;case 2:s.id=o.bytes();break;case 3:s.protos.push(o.string());break;default:o.skipType(a&7);break}}return s})),n),r.encode=o=>M(o,r.codec()),r.decode=o=>_(o,r.codec())})(de||(de={}));var Tr;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{if(o.lengthDelimited!==!1&&n.fork(),e.peer!=null&&(n.uint32(10),Qt.codec().encode(e.peer,n)),e.protos!=null)for(let i of e.protos)n.uint32(18),n.string(i);o.lengthDelimited!==!1&&n.ldelim()},(e,n)=>{let o={protos:[]},i=n==null?e.len:e.pos+n;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:o.peer=Qt.codec().decode(e,e.uint32());break;case 2:o.protos.push(e.string());break;default:e.skipType(s&7);break}}return o})),t),r.encode=e=>M(e,r.codec()),r.decode=e=>_(e,r.codec())})(Tr||(Tr={}));var bo={upgradeInbound:async r=>r,upgradeOutbound:async r=>r};var Ji=mt(W("node:tty"),1),Br=mt(W("node:util"),1);function ja(r,t){try{if(typeof r=="string"&&r.length>0)return tu(r);if(typeof r=="number"&&isFinite(r))return t?.long?ru(r):eu(r);throw new Error("Value is not a string or number.")}catch(e){let n=nu(e)?`${e.message}. value=${JSON.stringify(r)}`:"An unknown error has occured.";throw new Error(n)}}function tu(r){if(r=String(r),r.length>100)throw new Error("Value exceeds the maximum length of 100 characters.");let t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(r);if(!t)return NaN;let e=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return e*315576e5;case"weeks":case"week":case"w":return e*6048e5;case"days":case"day":case"d":return e*864e5;case"hours":case"hour":case"hrs":case"hr":case"h":return e*36e5;case"minutes":case"minute":case"mins":case"min":case"m":return e*6e4;case"seconds":case"second":case"secs":case"sec":case"s":return e*1e3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return e;default:throw new Error(`The unit ${n} was matched, but no matching case exists.`)}}var Nr=ja;function eu(r){let t=Math.abs(r);return t>=864e5?`${Math.round(r/864e5)}d`:t>=36e5?`${Math.round(r/36e5)}h`:t>=6e4?`${Math.round(r/6e4)}m`:t>=1e3?`${Math.round(r/1e3)}s`:`${r}ms`}function ru(r){let t=Math.abs(r);return t>=864e5?Lr(r,t,864e5,"day"):t>=36e5?Lr(r,t,36e5,"hour"):t>=6e4?Lr(r,t,6e4,"minute"):t>=1e3?Lr(r,t,1e3,"second"):`${r} ms`}function Lr(r,t,e,n){let o=t>=e*1.5;return`${Math.round(r/e)} ${n}${o?"s":""}`}function nu(r){return typeof r=="object"&&r!==null&&"message"in r}var kr=mt(W("node:process"),1),Qi=mt(W("node:os"),1),wo=mt(W("node:tty"),1);function At(r,t=globalThis.Deno?globalThis.Deno.args:kr.default.argv){let e=r.startsWith("-")?"":r.length===1?"-":"--",n=t.indexOf(e+r),o=t.indexOf("--");return n!==-1&&(o===-1||n<o)}var{env:$}=kr.default,Pr;At("no-color")||At("no-colors")||At("color=false")||At("color=never")?Pr=0:(At("color")||At("colors")||At("color=true")||At("color=always"))&&(Pr=1);function ou(){if("FORCE_COLOR"in $)return $.FORCE_COLOR==="true"?1:$.FORCE_COLOR==="false"?0:$.FORCE_COLOR.length===0?1:Math.min(Number.parseInt($.FORCE_COLOR,10),3)}function iu(r){return r===0?!1:{level:r,hasBasic:!0,has256:r>=2,has16m:r>=3}}function su(r,{streamIsTTY:t,sniffFlags:e=!0}={}){let n=ou();n!==void 0&&(Pr=n);let o=e?Pr:n;if(o===0)return 0;if(e){if(At("color=16m")||At("color=full")||At("color=truecolor"))return 3;if(At("color=256"))return 2}if("TF_BUILD"in $&&"AGENT_NAME"in $)return 1;if(r&&!t&&o===void 0)return 0;let i=o||0;if($.TERM==="dumb")return i;if(kr.default.platform==="win32"){let s=Qi.default.release().split(".");return Number(s[0])>=10&&Number(s[2])>=10586?Number(s[2])>=14931?3:2:1}if("CI"in $)return"GITHUB_ACTIONS"in $||"GITEA_ACTIONS"in $?3:["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","BUILDKITE","DRONE"].some(s=>s in $)||$.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in $)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test($.TEAMCITY_VERSION)?1:0;if($.COLORTERM==="truecolor"||$.TERM==="xterm-kitty")return 3;if("TERM_PROGRAM"in $){let s=Number.parseInt(($.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch($.TERM_PROGRAM){case"iTerm.app":return s>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test($.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test($.TERM)||"COLORTERM"in $?1:i}function Xi(r,t={}){let e=su(r,{streamIsTTY:r&&r.isTTY,...t});return iu(e)}var cu={stdout:Xi({isTTY:wo.default.isatty(1)}),stderr:Xi({isTTY:wo.default.isatty(2)})},Rr=cu;function xo(r){e.debug=e,e.default=e,e.coerce=a,e.disable=i,e.enable=o,e.enabled=s,e.humanize=Nr,e.destroy=l,Object.keys(r).forEach(d=>{e[d]=r[d]}),e.names=[],e.skips=[],e.formatters={};function t(d){let u=0;for(let y=0;y<d.length;y++)u=(u<<5)-u+d.charCodeAt(y),u|=0;return e.colors[Math.abs(u)%e.colors.length]}e.selectColor=t;function e(d){let u,y=null,g,p;function f(...h){if(!f.enabled)return;let m=f,b=Number(new Date),v=b-(u||b);m.diff=v,m.prev=u,m.curr=b,u=b,h[0]=e.coerce(h[0]),typeof h[0]!="string"&&h.unshift("%O");let P=0;h[0]=h[0].replace(/%([a-zA-Z%])/g,(E,S)=>{if(E==="%%")return"%";P++;let L=e.formatters[S];if(typeof L=="function"){let X=h[P];E=L.call(m,X),h.splice(P,1),P--}return E}),e.formatArgs.call(m,h),(m.log||e.log).apply(m,h)}return f.namespace=d,f.useColors=e.useColors(),f.color=e.selectColor(d),f.extend=n,f.destroy=e.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(g!==e.namespaces&&(g=e.namespaces,p=e.enabled(d)),p),set:h=>{y=h}}),typeof e.init=="function"&&e.init(f),f}function n(d,u){let y=e(this.namespace+(typeof u>"u"?":":u)+d);return y.log=this.log,y}function o(d){e.save(d),e.namespaces=d,e.names=[],e.skips=[];let u,y=(typeof d=="string"?d:"").split(/[\s,]+/),g=y.length;for(u=0;u<g;u++)y[u]&&(d=y[u].replace(/\*/g,".*?"),d[0]==="-"?e.skips.push(new RegExp("^"+d.substr(1)+"$")):e.names.push(new RegExp("^"+d+"$")))}function i(){let d=[...e.names.map(c),...e.skips.map(c).map(u=>"-"+u)].join(",");return e.enable(""),d}function s(d){if(d[d.length-1]==="*")return!0;let u,y;for(u=0,y=e.skips.length;u<y;u++)if(e.skips[u].test(d))return!1;for(u=0,y=e.names.length;u<y;u++)if(e.names[u].test(d))return!0;return!1}function c(d){return d.toString().substring(2,d.toString().length-2).replace(/\.\*\?$/,"*")}function a(d){return d instanceof Error?d.stack??d.message:d}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return e.setupFormatters(e.formatters),e.enable(e.load()),e}var ji=[6,2,3,4,5,1];Rr.stderr!==!1&&(Rr.stderr??Rr).level>=2&&(ji=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]);var Be=Object.keys(process.env).filter(r=>/^debug_/i.test(r)).reduce((r,t)=>{let e=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,i)=>i.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),r[e]=n,r},{});function au(){return"colors"in Be?!!Be.colors:Ji.default.isatty(process.stderr.fd)}function uu(r){let{namespace:t,useColors:e}=this;if(e!=null){let n=this.color,o="\x1B[3"+(n<8?n:"8;5;"+n),i=`  ${o};1m${t} \x1B[0m`;r[0]=i+r[0].split(`
 `).join(`
-`+i),r.push(n+"m+"+Ue.exports.humanize(this.diff)+"\x1B[0m")}else r[0]=cc()+t+" "+r[0]}function cc(){return O.inspectOpts.hideDate?"":new Date().toISOString()+" "}function ac(...r){return process.stderr.write(_e.formatWithOptions(O.inspectOpts,...r)+`
-`)}function uc(r){r?process.env.DEBUG=r:delete process.env.DEBUG}function lc(){return process.env.DEBUG}function dc(r){r.inspectOpts={};let t=Object.keys(O.inspectOpts);for(let e=0;e<t.length;e++)r.inspectOpts[t[e]]=O.inspectOpts[t[e]]}Ue.exports=Qr()(O);var{formatters:go}=Ue.exports;go.o=function(r){return this.inspectOpts.colors=this.useColors,_e.inspect(r,this.inspectOpts).split(`
-`).map(t=>t.trim()).join(" ")};go.O=function(r){return this.inspectOpts.colors=this.useColors,_e.inspect(r,this.inspectOpts)}});var bo=bt((Xu,Zr)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Zr.exports=lo():Zr.exports=yo()});var di=bt((ih,li)=>{"use strict";function ui(r,t){for(let e in t)Object.defineProperty(r,e,{value:t[e],enumerable:!0,configurable:!0});return r}function Zc(r,t,e){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");e||(e={}),typeof t=="object"&&(e=t,t=""),t&&(e.code=t);try{return ui(r,e)}catch{e.message=r.message,e.stack=r.stack;let n=function(){};return n.prototype=Object.create(Object.getPrototypeOf(r)),ui(new n,e)}}li.exports=Zc});var la={};J(la,{Server:()=>sr,createServer:()=>ua});var cr=H("node:buffer");function Tt(r){return new Uint8Array(r.buffer,r.byteOffset,r.byteLength)}function ht(r=0){return Tt(cr.Buffer.alloc(r))}function W(r=0){return Tt(cr.Buffer.allocUnsafe(r))}var vi=Math.pow(2,7),Si=Math.pow(2,14),Ti=Math.pow(2,21),ar=Math.pow(2,28),ur=Math.pow(2,35),lr=Math.pow(2,42),dr=Math.pow(2,49),x=128,M=127;function v(r){if(r<vi)return 1;if(r<Si)return 2;if(r<Ti)return 3;if(r<ar)return 4;if(r<ur)return 5;if(r<lr)return 6;if(r<dr)return 7;if(Number.MAX_SAFE_INTEGER!=null&&r>Number.MAX_SAFE_INTEGER)throw new RangeError("Could not encode varint");return 8}function fr(r,t,e=0){switch(v(r)){case 8:t[e++]=r&255|x,r/=128;case 7:t[e++]=r&255|x,r/=128;case 6:t[e++]=r&255|x,r/=128;case 5:t[e++]=r&255|x,r/=128;case 4:t[e++]=r&255|x,r>>>=7;case 3:t[e++]=r&255|x,r>>>=7;case 2:t[e++]=r&255|x,r>>>=7;case 1:{t[e++]=r&255,r>>>=7;break}default:throw new Error("unreachable")}return t}function Li(r,t,e=0){switch(v(r)){case 8:t.set(e++,r&255|x),r/=128;case 7:t.set(e++,r&255|x),r/=128;case 6:t.set(e++,r&255|x),r/=128;case 5:t.set(e++,r&255|x),r/=128;case 4:t.set(e++,r&255|x),r>>>=7;case 3:t.set(e++,r&255|x),r>>>=7;case 2:t.set(e++,r&255|x),r>>>=7;case 1:{t.set(e++,r&255),r>>>=7;break}default:throw new Error("unreachable")}return t}function hr(r,t){let e=r[t],o=0;if(o+=e&M,e<x||(e=r[t+1],o+=(e&M)<<7,e<x)||(e=r[t+2],o+=(e&M)<<14,e<x)||(e=r[t+3],o+=(e&M)<<21,e<x)||(e=r[t+4],o+=(e&M)*ar,e<x)||(e=r[t+5],o+=(e&M)*ur,e<x)||(e=r[t+6],o+=(e&M)*lr,e<x)||(e=r[t+7],o+=(e&M)*dr,e<x))return o;throw new RangeError("Could not decode varint")}function Ni(r,t){let e=r.get(t),o=0;if(o+=e&M,e<x||(e=r.get(t+1),o+=(e&M)<<7,e<x)||(e=r.get(t+2),o+=(e&M)<<14,e<x)||(e=r.get(t+3),o+=(e&M)<<21,e<x)||(e=r.get(t+4),o+=(e&M)*ar,e<x)||(e=r.get(t+5),o+=(e&M)*ur,e<x)||(e=r.get(t+6),o+=(e&M)*lr,e<x)||(e=r.get(t+7),o+=(e&M)*dr,e<x))return o;throw new RangeError("Could not decode varint")}function ft(r,t,e=0){return t==null&&(t=W(v(r))),t instanceof Uint8Array?fr(r,t,e):Li(r,t,e)}function at(r,t=0){return r instanceof Uint8Array?hr(r,t):Ni(r,t)}var pr=new Float32Array([-0]),wt=new Uint8Array(pr.buffer);function kn(r,t,e){pr[0]=r,t[e]=wt[0],t[e+1]=wt[1],t[e+2]=wt[2],t[e+3]=wt[3]}function On(r,t){return wt[0]=r[t],wt[1]=r[t+1],wt[2]=r[t+2],wt[3]=r[t+3],pr[0]}var mr=new Float64Array([-0]),B=new Uint8Array(mr.buffer);function _n(r,t,e){mr[0]=r,t[e]=B[0],t[e+1]=B[1],t[e+2]=B[2],t[e+3]=B[3],t[e+4]=B[4],t[e+5]=B[5],t[e+6]=B[6],t[e+7]=B[7]}function Un(r,t){return B[0]=r[t],B[1]=r[t+1],B[2]=r[t+2],B[3]=r[t+3],B[4]=r[t+4],B[5]=r[t+5],B[6]=r[t+6],B[7]=r[t+7],mr[0]}var Ri=BigInt(Number.MAX_SAFE_INTEGER),Di=BigInt(Number.MIN_SAFE_INTEGER),Z=class r{lo;hi;constructor(t,e){this.lo=t|0,this.hi=e|0}toNumber(t=!1){if(!t&&this.hi>>>31>0){let e=~this.lo+1>>>0,o=~this.hi>>>0;return e===0&&(o=o+1>>>0),-(e+o*4294967296)}return this.lo+this.hi*4294967296}toBigInt(t=!1){if(t)return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n);if(this.hi>>>31){let e=~this.lo+1>>>0,o=~this.hi>>>0;return e===0&&(o=o+1>>>0),-(BigInt(e)+(BigInt(o)<<32n))}return BigInt(this.lo>>>0)+(BigInt(this.hi>>>0)<<32n)}toString(t=!1){return this.toBigInt(t).toString()}zzEncode(){let t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this}zzDecode(){let t=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this}length(){let t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,o=this.hi>>>24;return o===0?e===0?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:o<128?9:10}static fromBigInt(t){if(t===0n)return Lt;if(t<Ri&&t>Di)return this.fromNumber(Number(t));let e=t<0n;e&&(t=-t);let o=t>>32n,n=t-(o<<32n);return e&&(o=~o|0n,n=~n|0n,++n>Fn&&(n=0n,++o>Fn&&(o=0n))),new r(Number(n),Number(o))}static fromNumber(t){if(t===0)return Lt;let e=t<0;e&&(t=-t);let o=t>>>0,n=(t-o)/4294967296>>>0;return e&&(n=~n>>>0,o=~o>>>0,++o>4294967295&&(o=0,++n>4294967295&&(n=0))),new r(o,n)}static from(t){return typeof t=="number"?r.fromNumber(t):typeof t=="bigint"?r.fromBigInt(t):typeof t=="string"?r.fromBigInt(BigInt(t)):t.low!=null||t.high!=null?new r(t.low>>>0,t.high>>>0):Lt}},Lt=new Z(0,0);Lt.toBigInt=function(){return 0n};Lt.zzEncode=Lt.zzDecode=function(){return this};Lt.length=function(){return 1};var Fn=4294967296n;function Mn(r){let t=0,e=0;for(let o=0;o<r.length;++o)e=r.charCodeAt(o),e<128?t+=1:e<2048?t+=2:(e&64512)===55296&&(r.charCodeAt(o+1)&64512)===56320?(++o,t+=4):t+=3;return t}function Bn(r,t,e){if(e-t<1)return"";let n,i=[],s=0,c;for(;t<e;)c=r[t++],c<128?i[s++]=c:c>191&&c<224?i[s++]=(c&31)<<6|r[t++]&63:c>239&&c<365?(c=((c&7)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,i[s++]=55296+(c>>10),i[s++]=56320+(c&1023)):i[s++]=(c&15)<<12|(r[t++]&63)<<6|r[t++]&63,s>8191&&((n??(n=[])).push(String.fromCharCode.apply(String,i)),s=0);return n!=null?(s>0&&n.push(String.fromCharCode.apply(String,i.slice(0,s))),n.join("")):String.fromCharCode.apply(String,i.slice(0,s))}function gr(r,t,e){let o=e,n,i;for(let s=0;s<r.length;++s)n=r.charCodeAt(s),n<128?t[e++]=n:n<2048?(t[e++]=n>>6|192,t[e++]=n&63|128):(n&64512)===55296&&((i=r.charCodeAt(s+1))&64512)===56320?(n=65536+((n&1023)<<10)+(i&1023),++s,t[e++]=n>>18|240,t[e++]=n>>12&63|128,t[e++]=n>>6&63|128,t[e++]=n&63|128):(t[e++]=n>>12|224,t[e++]=n>>6&63|128,t[e++]=n&63|128);return e-o}function ut(r,t){return RangeError(`index out of range: ${r.pos} + ${t??1} > ${r.len}`)}function be(r,t){return(r[t-4]|r[t-3]<<8|r[t-2]<<16|r[t-1]<<24)>>>0}var yr=class{buf;pos;len;_slice=Uint8Array.prototype.subarray;constructor(t){this.buf=t,this.pos=0,this.len=t.length}uint32(){let t=4294967295;if(t=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(t=(t|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(t=(t|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return t;if((this.pos+=5)>this.len)throw this.pos=this.len,ut(this,10);return t}int32(){return this.uint32()|0}sint32(){let t=this.uint32();return t>>>1^-(t&1)|0}bool(){return this.uint32()!==0}fixed32(){if(this.pos+4>this.len)throw ut(this,4);return be(this.buf,this.pos+=4)}sfixed32(){if(this.pos+4>this.len)throw ut(this,4);return be(this.buf,this.pos+=4)|0}float(){if(this.pos+4>this.len)throw ut(this,4);let t=On(this.buf,this.pos);return this.pos+=4,t}double(){if(this.pos+8>this.len)throw ut(this,4);let t=Un(this.buf,this.pos);return this.pos+=8,t}bytes(){let t=this.uint32(),e=this.pos,o=this.pos+t;if(o>this.len)throw ut(this,t);return this.pos+=t,e===o?new Uint8Array(0):this.buf.subarray(e,o)}string(){let t=this.bytes();return Bn(t,0,t.length)}skip(t){if(typeof t=="number"){if(this.pos+t>this.len)throw ut(this,t);this.pos+=t}else do if(this.pos>=this.len)throw ut(this);while(this.buf[this.pos++]&128);return this}skipType(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(t=this.uint32()&7)!==4;)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error(`invalid wire type ${t} at offset ${this.pos}`)}return this}readLongVarint(){let t=new Z(0,0),e=0;if(this.len-this.pos>4){for(;e<4;++e)if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(this.buf[this.pos]&127)<<28)>>>0,t.hi=(t.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return t;e=0}else{for(;e<3;++e){if(this.pos>=this.len)throw ut(this);if(t.lo=(t.lo|(this.buf[this.pos]&127)<<e*7)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(this.buf[this.pos++]&127)<<e*7)>>>0,t}if(this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw ut(this);if(t.hi=(t.hi|(this.buf[this.pos]&127)<<e*7+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}readFixed64(){if(this.pos+8>this.len)throw ut(this,8);let t=be(this.buf,this.pos+=4),e=be(this.buf,this.pos+=4);return new Z(t,e)}int64(){return this.readLongVarint().toBigInt()}int64Number(){return this.readLongVarint().toNumber()}int64String(){return this.readLongVarint().toString()}uint64(){return this.readLongVarint().toBigInt(!0)}uint64Number(){let t=hr(this.buf,this.pos);return this.pos+=v(t),t}uint64String(){return this.readLongVarint().toString(!0)}sint64(){return this.readLongVarint().zzDecode().toBigInt()}sint64Number(){return this.readLongVarint().zzDecode().toNumber()}sint64String(){return this.readLongVarint().zzDecode().toString()}fixed64(){return this.readFixed64().toBigInt()}fixed64Number(){return this.readFixed64().toNumber()}fixed64String(){return this.readFixed64().toString()}sfixed64(){return this.readFixed64().toBigInt()}sfixed64Number(){return this.readFixed64().toNumber()}sfixed64String(){return this.readFixed64().toString()}};function br(r){return new yr(r instanceof Uint8Array?r:r.subarray())}function S(r,t,e){let o=br(r);return t.decode(o,void 0,e)}var so=H("node:buffer");var Ar={};J(Ar,{base10:()=>Fi});var Ca=new Uint8Array(0);function Vn(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}function nt(r){if(r instanceof Uint8Array&&r.constructor.name==="Uint8Array")return r;if(r instanceof ArrayBuffer)return new Uint8Array(r);if(ArrayBuffer.isView(r))return new Uint8Array(r.buffer,r.byteOffset,r.byteLength);throw new Error("Unknown type, must be binary type")}function $n(r){return new TextEncoder().encode(r)}function zn(r){return new TextDecoder().decode(r)}function Pi(r,t){if(r.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),o=0;o<e.length;o++)e[o]=255;for(var n=0;n<r.length;n++){var i=r.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var c=r.length,a=r.charAt(0),f=Math.log(c)/Math.log(256),u=Math.log(256)/Math.log(c);function l(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var y=0,h=0,w=0,E=p.length;w!==E&&p[w]===0;)w++,y++;for(var R=(E-w)*u+1>>>0,k=new Uint8Array(R);w!==E;){for(var Y=p[w],et=0,Q=R-1;(Y!==0||et<h)&&Q!==-1;Q--,et++)Y+=256*k[Q]>>>0,k[Q]=Y%c>>>0,Y=Y/c>>>0;if(Y!==0)throw new Error("Non-zero carry");h=et,w++}for(var rt=R-h;rt!==R&&k[rt]===0;)rt++;for(var Vt=a.repeat(y);rt<R;++rt)Vt+=r.charAt(k[rt]);return Vt}function g(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var y=0;if(p[y]!==" "){for(var h=0,w=0;p[y]===a;)h++,y++;for(var E=(p.length-y)*f+1>>>0,R=new Uint8Array(E);p[y];){var k=e[p.charCodeAt(y)];if(k===255)return;for(var Y=0,et=E-1;(k!==0||Y<w)&&et!==-1;et--,Y++)k+=c*R[et]>>>0,R[et]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");w=Y,y++}if(p[y]!==" "){for(var Q=E-w;Q!==E&&R[Q]===0;)Q++;for(var rt=new Uint8Array(h+(E-Q)),Vt=h;Q!==E;)rt[Vt++]=R[Q++];return rt}}}function b(p){var y=g(p);if(y)return y;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:g,decode:b}}var ki=Pi,Oi=ki,Wn=Oi;var wr=class{name;prefix;baseEncode;constructor(t,e,o){this.name=t,this.prefix=e,this.baseEncode=o}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},Er=class{name;prefix;baseDecode;prefixCodePoint;constructor(t,e,o){if(this.name=t,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=o}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Kn(this,t)}},xr=class{decoders;constructor(t){this.decoders=t}or(t){return Kn(this,t)}decode(t){let e=t[0],o=this.decoders[e];if(o!=null)return o.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function Kn(r,t){return new xr({...r.decoders??{[r.prefix]:r},...t.decoders??{[t.prefix]:t}})}var Ir=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(t,e,o,n){this.name=t,this.prefix=e,this.baseEncode=o,this.baseDecode=n,this.encoder=new wr(t,e,o),this.decoder=new Er(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}};function $t({name:r,prefix:t,encode:e,decode:o}){return new Ir(r,t,e,o)}function Et({name:r,prefix:t,alphabet:e}){let{encode:o,decode:n}=Wn(e,r);return $t({prefix:t,name:r,encode:o,decode:i=>nt(n(i))})}function _i(r,t,e,o){let n={};for(let u=0;u<t.length;++u)n[t[u]]=u;let i=r.length;for(;r[i-1]==="=";)--i;let s=new Uint8Array(i*e/8|0),c=0,a=0,f=0;for(let u=0;u<i;++u){let l=n[r[u]];if(l===void 0)throw new SyntaxError(`Non-${o} character`);a=a<<e|l,c+=e,c>=8&&(c-=8,s[f++]=255&a>>c)}if(c>=e||255&a<<8-c)throw new SyntaxError("Unexpected end of data");return s}function Ui(r,t,e){let o=t[t.length-1]==="=",n=(1<<e)-1,i="",s=0,c=0;for(let a=0;a<r.length;++a)for(c=c<<8|r[a],s+=8;s>e;)s-=e,i+=t[n&c>>s];if(s!==0&&(i+=t[n&c<<e-s]),o)for(;i.length*e&7;)i+="=";return i}function A({name:r,prefix:t,bitsPerChar:e,alphabet:o}){return $t({prefix:t,name:r,encode(n){return Ui(n,o,e)},decode(n){return _i(n,o,e,r)}})}var Fi=Et({prefix:"9",name:"base10",alphabet:"0123456789"});var Cr={};J(Cr,{base16:()=>Mi,base16upper:()=>Bi});var Mi=A({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Bi=A({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var vr={};J(vr,{base2:()=>Gi});var Gi=A({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Sr={};J(Sr,{base256emoji:()=>Wi});var Xn=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Vi=Xn.reduce((r,t,e)=>(r[e]=t,r),[]),$i=Xn.reduce((r,t,e)=>(r[t.codePointAt(0)]=e,r),[]);function zi(r){return r.reduce((t,e)=>(t+=Vi[e],t),"")}function Hi(r){let t=[];for(let e of r){let o=$i[e.codePointAt(0)];if(o===void 0)throw new Error(`Non-base256emoji character: ${e}`);t.push(o)}return new Uint8Array(t)}var Wi=$t({prefix:"\u{1F680}",name:"base256emoji",encode:zi,decode:Hi});var Tr={};J(Tr,{base32:()=>lt,base32hex:()=>Qi,base32hexpad:()=>Zi,base32hexpadupper:()=>qi,base32hexupper:()=>Ji,base32pad:()=>Xi,base32padupper:()=>Yi,base32upper:()=>Ki,base32z:()=>ji});var lt=A({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Ki=A({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Xi=A({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Yi=A({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Qi=A({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ji=A({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Zi=A({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qi=A({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ji=A({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Lr={};J(Lr,{base36:()=>ts,base36upper:()=>es});var ts=Et({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),es=Et({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Nr={};J(Nr,{base58btc:()=>D,base58flickr:()=>rs});var D=Et({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),rs=Et({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Dr={};J(Dr,{base64:()=>Rr,base64pad:()=>ns,base64url:()=>os,base64urlpad:()=>is});var Rr=A({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ns=A({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),os=A({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),is=A({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Pr={};J(Pr,{base8:()=>ss});var ss=A({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var kr={};J(kr,{identity:()=>cs});var cs=$t({prefix:"\0",name:"identity",encode:r=>zn(r),decode:r=>$n(r)});var Ga=new TextEncoder,Va=new TextDecoder;var _r={};J(_r,{identity:()=>ce});var ls=Jn,Yn=128,ds=127,fs=~ds,hs=Math.pow(2,31);function Jn(r,t,e){t=t||[],e=e||0;for(var o=e;r>=hs;)t[e++]=r&255|Yn,r/=128;for(;r&fs;)t[e++]=r&255|Yn,r>>>=7;return t[e]=r|0,Jn.bytes=e-o+1,t}var ps=Or,ms=128,Qn=127;function Or(r,o){var e=0,o=o||0,n=0,i=o,s,c=r.length;do{if(i>=c)throw Or.bytes=0,new RangeError("Could not decode varint");s=r[i++],e+=n<28?(s&Qn)<<n:(s&Qn)*Math.pow(2,n),n+=7}while(s>=ms);return Or.bytes=i-o,e}var gs=Math.pow(2,7),ys=Math.pow(2,14),bs=Math.pow(2,21),ws=Math.pow(2,28),Es=Math.pow(2,35),xs=Math.pow(2,42),Is=Math.pow(2,49),As=Math.pow(2,56),Cs=Math.pow(2,63),vs=function(r){return r<gs?1:r<ys?2:r<bs?3:r<ws?4:r<Es?5:r<xs?6:r<Is?7:r<As?8:r<Cs?9:10},Ss={encode:ls,decode:ps,encodingLength:vs},Ts=Ss,ie=Ts;function se(r,t=0){return[ie.decode(r,t),ie.decode.bytes]}function zt(r,t,e=0){return ie.encode(r,t,e),t}function Ht(r){return ie.encodingLength(r)}function xt(r,t){let e=t.byteLength,o=Ht(r),n=o+Ht(e),i=new Uint8Array(n+e);return zt(r,i,0),zt(e,i,o),i.set(t,n),new Wt(r,e,t,i)}function Nt(r){let t=nt(r),[e,o]=se(t),[n,i]=se(t.subarray(o)),s=t.subarray(o+i);if(s.byteLength!==n)throw new Error("Incorrect length");return new Wt(e,n,s,t)}function Zn(r,t){if(r===t)return!0;{let e=t;return r.code===e.code&&r.size===e.size&&e.bytes instanceof Uint8Array&&Vn(r.bytes,e.bytes)}}var Wt=class{code;size;digest;bytes;constructor(t,e,o,n){this.code=t,this.size=e,this.digest=o,this.bytes=n}};var qn=0,Ls="identity",jn=nt;function Ns(r){return xt(qn,jn(r))}var ce={code:qn,name:Ls,encode:jn,digest:Ns};var Br={};J(Br,{sha256:()=>Ee,sha512:()=>Rs});var Mr=St(H("crypto"),1);function Fr({name:r,code:t,encode:e}){return new Ur(r,t,e)}var Ur=class{name;code;encode;constructor(t,e,o){this.name=t,this.code=e,this.encode=o}digest(t){if(t instanceof Uint8Array){let e=this.encode(t);return e instanceof Uint8Array?xt(this.code,e):e.then(o=>xt(this.code,o))}else throw Error("Unknown type, must be binary type")}};var Ee=Fr({name:"sha2-256",code:18,encode:r=>nt(Mr.default.createHash("sha256").update(r).digest())}),Rs=Fr({name:"sha2-512",code:19,encode:r=>nt(Mr.default.createHash("sha512").update(r).digest())});function eo(r,t){let{bytes:e,version:o}=r;switch(o){case 0:return Ps(e,Gr(r),t??D.encoder);default:return ks(e,Gr(r),t??lt.encoder)}}var ro=new WeakMap;function Gr(r){let t=ro.get(r);if(t==null){let e=new Map;return ro.set(r,e),e}return t}var $=class r{code;version;multihash;bytes;"/";constructor(t,e,o,n){this.code=e,this.version=t,this.multihash=o,this.bytes=n,this["/"]=n}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:t,multihash:e}=this;if(t!==ae)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==Os)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return r.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:t,digest:e}=this.multihash,o=xt(t,e);return r.createV1(this.code,o)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(t){return r.equals(this,t)}static equals(t,e){let o=e;return o!=null&&t.code===o.code&&t.version===o.version&&Zn(t.multihash,o.multihash)}toString(t){return eo(this,t)}toJSON(){return{"/":eo(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(t){if(t==null)return null;let e=t;if(e instanceof r)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){let{version:o,code:n,multihash:i,bytes:s}=e;return new r(o,n,i,s??no(o,n,i.bytes))}else if(e[_s]===!0){let{version:o,multihash:n,code:i}=e,s=Nt(n);return r.create(o,i,s)}else return null}static create(t,e,o){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(o.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(t){case 0:{if(e!==ae)throw new Error(`Version 0 CID must use dag-pb (code: ${ae}) block encoding`);return new r(t,e,o,o.bytes)}case 1:{let n=no(t,e,o.bytes);return new r(t,e,o,n)}default:throw new Error("Invalid version")}}static createV0(t){return r.create(0,ae,t)}static createV1(t,e){return r.create(1,t,e)}static decode(t){let[e,o]=r.decodeFirst(t);if(o.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(t){let e=r.inspectBytes(t),o=e.size-e.multihashSize,n=nt(t.subarray(o,o+e.multihashSize));if(n.byteLength!==e.multihashSize)throw new Error("Incorrect length");let i=n.subarray(e.multihashSize-e.digestSize),s=new Wt(e.multihashCode,e.digestSize,i,n);return[e.version===0?r.createV0(s):r.createV1(e.codec,s),t.subarray(e.size)]}static inspectBytes(t){let e=0,o=()=>{let[l,g]=se(t.subarray(e));return e+=g,l},n=o(),i=ae;if(n===18?(n=0,e=0):i=o(),n!==0&&n!==1)throw new RangeError(`Invalid CID version ${n}`);let s=e,c=o(),a=o(),f=e+a,u=f-s;return{version:n,codec:i,multihashCode:c,digestSize:a,multihashSize:u,size:f}}static parse(t,e){let[o,n]=Ds(t,e),i=r.decode(n);if(i.version===0&&t[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Gr(i).set(o,t),i}};function Ds(r,t){switch(r[0]){case"Q":{let e=t??D;return[D.prefix,e.decode(`${D.prefix}${r}`)]}case D.prefix:{let e=t??D;return[D.prefix,e.decode(r)]}case lt.prefix:{let e=t??lt;return[lt.prefix,e.decode(r)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[r[0],t.decode(r)]}}}function Ps(r,t,e){let{prefix:o}=e;if(o!==D.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);let n=t.get(o);if(n==null){let i=e.encode(r).slice(1);return t.set(o,i),i}else return n}function ks(r,t,e){let{prefix:o}=e,n=t.get(o);if(n==null){let i=e.encode(r);return t.set(o,i),i}else return n}var ae=112,Os=18;function no(r,t,e){let o=Ht(r),n=o+Ht(t),i=new Uint8Array(n+e.byteLength);return zt(r,i,0),zt(t,i,o),i.set(e,n),i}var _s=Symbol.for("@ipld/js-cid/CID");var It={...kr,...vr,...Pr,...Ar,...Cr,...Tr,...Lr,...Nr,...Dr,...Sr},uu={...Br,..._r};function io(r,t,e,o){return{name:r,prefix:t,encoder:{name:r,prefix:t,encode:e},decoder:{decode:o}}}var oo=io("utf8","u",r=>"u"+new TextDecoder("utf8").decode(r),r=>new TextEncoder().encode(r.substring(1))),Vr=io("ascii","a",r=>{let t="a";for(let e=0;e<r.length;e++)t+=String.fromCharCode(r[e]);return t},r=>{r=r.substring(1);let t=W(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e);return t}),Us={utf8:oo,"utf-8":oo,hex:It.base16,latin1:Vr,ascii:Vr,binary:Vr,...It},xe=Us;function pt(r,t="utf8"){let e=xe[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return t==="utf8"||t==="utf-8"?Tt(so.Buffer.from(r,"utf-8")):e.decoder.decode(`${e.prefix}${r}`)}function $r(r){let t=r??8192,e=t>>>1,o,n=t;return function(s){if(s<1||s>e)return W(s);n+s>t&&(o=W(t),n=0);let c=o.subarray(n,n+=s);return n&7&&(n=(n|7)+1),c}}var Dt=class{fn;len;next;val;constructor(t,e,o){this.fn=t,this.len=e,this.next=void 0,this.val=o}};function zr(){}var Wr=class{head;tail;len;next;constructor(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}},Fs=$r();function Ms(r){return globalThis.Buffer!=null?W(r):Fs(r)}var le=class{len;head;tail;states;constructor(){this.len=0,this.head=new Dt(zr,0,0),this.tail=this.head,this.states=null}_push(t,e,o){return this.tail=this.tail.next=new Dt(t,e,o),this.len+=e,this}uint32(t){return this.len+=(this.tail=this.tail.next=new Kr((t=t>>>0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this}int32(t){return t<0?this._push(Ie,10,Z.fromNumber(t)):this.uint32(t)}sint32(t){return this.uint32((t<<1^t>>31)>>>0)}uint64(t){let e=Z.fromBigInt(t);return this._push(Ie,e.length(),e)}uint64Number(t){return this._push(fr,v(t),t)}uint64String(t){return this.uint64(BigInt(t))}int64(t){return this.uint64(t)}int64Number(t){return this.uint64Number(t)}int64String(t){return this.uint64String(t)}sint64(t){let e=Z.fromBigInt(t).zzEncode();return this._push(Ie,e.length(),e)}sint64Number(t){let e=Z.fromNumber(t).zzEncode();return this._push(Ie,e.length(),e)}sint64String(t){return this.sint64(BigInt(t))}bool(t){return this._push(Hr,1,t?1:0)}fixed32(t){return this._push(ue,4,t>>>0)}sfixed32(t){return this.fixed32(t)}fixed64(t){let e=Z.fromBigInt(t);return this._push(ue,4,e.lo)._push(ue,4,e.hi)}fixed64Number(t){let e=Z.fromNumber(t);return this._push(ue,4,e.lo)._push(ue,4,e.hi)}fixed64String(t){return this.fixed64(BigInt(t))}sfixed64(t){return this.fixed64(t)}sfixed64Number(t){return this.fixed64Number(t)}sfixed64String(t){return this.fixed64String(t)}float(t){return this._push(kn,4,t)}double(t){return this._push(_n,8,t)}bytes(t){let e=t.length>>>0;return e===0?this._push(Hr,1,0):this.uint32(e)._push(Gs,e,t)}string(t){let e=Mn(t);return e!==0?this.uint32(e)._push(gr,e,t):this._push(Hr,1,0)}fork(){return this.states=new Wr(this),this.head=this.tail=new Dt(zr,0,0),this.len=0,this}reset(){return this.states!=null?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Dt(zr,0,0),this.len=0),this}ldelim(){let t=this.head,e=this.tail,o=this.len;return this.reset().uint32(o),o!==0&&(this.tail.next=t.next,this.tail=e,this.len+=o),this}finish(){let t=this.head.next,e=Ms(this.len),o=0;for(;t!=null;)t.fn(t.val,e,o),o+=t.len,t=t.next;return e}};function Hr(r,t,e){t[e]=r&255}function Bs(r,t,e){for(;r>127;)t[e++]=r&127|128,r>>>=7;t[e]=r}var Kr=class extends Dt{next;constructor(t,e){super(Bs,t,e),this.next=void 0}};function Ie(r,t,e){for(;r.hi!==0;)t[e++]=r.lo&127|128,r.lo=(r.lo>>>7|r.hi<<25)>>>0,r.hi>>>=7;for(;r.lo>127;)t[e++]=r.lo&127|128,r.lo=r.lo>>>7;t[e++]=r.lo}function ue(r,t,e){t[e]=r&255,t[e+1]=r>>>8&255,t[e+2]=r>>>16&255,t[e+3]=r>>>24}function Gs(r,t,e){t.set(r,e)}globalThis.Buffer!=null&&(le.prototype.bytes=function(r){let t=r.length>>>0;return this.uint32(t),t>0&&this._push(Vs,t,r),this},le.prototype.string=function(r){let t=globalThis.Buffer.byteLength(r);return this.uint32(t),t>0&&this._push($s,t,r),this});function Vs(r,t,e){t.set(r,e)}function $s(r,t,e){r.length<40?gr(r,t,e):t.utf8Write!=null?t.utf8Write(r,e):t.set(pt(r),e)}function Xr(){return new le}function T(r,t){let e=Xr();return t.encode(r,e,{lengthDelimited:!1}),e.finish()}var Kt;(function(r){r[r.VARINT=0]="VARINT",r[r.BIT64=1]="BIT64",r[r.LENGTH_DELIMITED=2]="LENGTH_DELIMITED",r[r.START_GROUP=3]="START_GROUP",r[r.END_GROUP=4]="END_GROUP",r[r.BIT32=5]="BIT32"})(Kt||(Kt={}));function Ae(r,t,e,o){return{name:r,type:t,encode:e,decode:o}}function mt(r){function t(n){if(r[n.toString()]==null)throw new Error("Invalid enum value");return r[n]}let e=function(i,s){let c=t(i);s.int32(c)},o=function(i){let s=i.int32();return t(s)};return Ae("enum",Kt.VARINT,e,o)}function L(r,t){return Ae("message",Kt.LENGTH_DELIMITED,r,t)}var ot;(function(r){let t;(function(n){n.IDENTIFY="IDENTIFY",n.CONNECT="CONNECT",n.STREAM_OPEN="STREAM_OPEN",n.STREAM_HANDLER="STREAM_HANDLER",n.DHT="DHT",n.LIST_PEERS="LIST_PEERS",n.CONNMANAGER="CONNMANAGER",n.DISCONNECT="DISCONNECT",n.PUBSUB="PUBSUB",n.PEERSTORE="PEERSTORE"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.IDENTIFY=0]="IDENTIFY",n[n.CONNECT=1]="CONNECT",n[n.STREAM_OPEN=2]="STREAM_OPEN",n[n.STREAM_HANDLER=3]="STREAM_HANDLER",n[n.DHT=4]="DHT",n[n.LIST_PEERS=5]="LIST_PEERS",n[n.CONNMANAGER=6]="CONNMANAGER",n[n.DISCONNECT=7]="DISCONNECT",n[n.PUBSUB=8]="PUBSUB",n[n.PEERSTORE=9]="PEERSTORE"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.connect!=null&&(i.uint32(18),ve.codec().encode(n.connect,i)),n.streamOpen!=null&&(i.uint32(26),Se.codec().encode(n.streamOpen,i)),n.streamHandler!=null&&(i.uint32(34),Te.codec().encode(n.streamHandler,i)),n.dht!=null&&(i.uint32(42),it.codec().encode(n.dht,i)),n.connManager!=null&&(i.uint32(50),Ne.codec().encode(n.connManager,i)),n.disconnect!=null&&(i.uint32(58),Re.codec().encode(n.disconnect,i)),n.pubsub!=null&&(i.uint32(66),gt.codec().encode(n.pubsub,i)),n.peerStore!=null&&(i.uint32(74),Pt.codec().encode(n.peerStore,i)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.connect=ve.codec().decode(n,n.uint32());break;case 3:s.streamOpen=Se.codec().decode(n,n.uint32());break;case 4:s.streamHandler=Te.codec().decode(n,n.uint32());break;case 5:s.dht=it.codec().decode(n,n.uint32());break;case 6:s.connManager=Ne.codec().decode(n,n.uint32());break;case 7:s.disconnect=Re.codec().decode(n,n.uint32());break;case 8:s.pubsub=gt.codec().decode(n,n.uint32());break;case 9:s.peerStore=Pt.codec().decode(n,n.uint32());break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(ot||(ot={}));var N;(function(r){let t;(function(n){n.OK="OK",n.ERROR="ERROR"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.OK=0]="OK",n[n.ERROR=1]="ERROR"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{if(s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.error!=null&&(i.uint32(18),Le.codec().encode(n.error,i)),n.streamInfo!=null&&(i.uint32(26),Xt.codec().encode(n.streamInfo,i)),n.identify!=null&&(i.uint32(34),Ce.codec().encode(n.identify,i)),n.dht!=null&&(i.uint32(42),U.codec().encode(n.dht,i)),n.peers!=null)for(let c of n.peers)i.uint32(50),At.codec().encode(c,i);n.pubsub!=null&&(i.uint32(58),De.codec().encode(n.pubsub,i)),n.peerStore!=null&&(i.uint32(66),Pe.codec().encode(n.peerStore,i)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={peers:[]},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.error=Le.codec().decode(n,n.uint32());break;case 3:s.streamInfo=Xt.codec().decode(n,n.uint32());break;case 4:s.identify=Ce.codec().decode(n,n.uint32());break;case 5:s.dht=U.codec().decode(n,n.uint32());break;case 6:s.peers.push(At.codec().decode(n,n.uint32()));break;case 7:s.pubsub=De.codec().decode(n,n.uint32());break;case 8:s.peerStore=Pe.codec().decode(n,n.uint32());break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(N||(N={}));var Ce;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.id!=null&&e.id.byteLength>0&&(o.uint32(10),o.bytes(e.id)),e.addrs!=null)for(let i of e.addrs)o.uint32(18),o.bytes(i);n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={id:new Uint8Array(0),addrs:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.id=e.bytes();break;case 2:n.addrs.push(e.bytes());break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Ce||(Ce={}));var ve;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.peer!=null&&e.peer.byteLength>0&&(o.uint32(10),o.bytes(e.peer)),e.addrs!=null)for(let i of e.addrs)o.uint32(18),o.bytes(i);e.timeout!=null&&(o.uint32(24),o.int64(e.timeout)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={peer:new Uint8Array(0),addrs:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.peer=e.bytes();break;case 2:n.addrs.push(e.bytes());break;case 3:n.timeout=e.int64();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(ve||(ve={}));var Se;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.peer!=null&&e.peer.byteLength>0&&(o.uint32(10),o.bytes(e.peer)),e.proto!=null)for(let i of e.proto)o.uint32(18),o.string(i);e.timeout!=null&&(o.uint32(24),o.int64(e.timeout)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={peer:new Uint8Array(0),proto:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.peer=e.bytes();break;case 2:n.proto.push(e.string());break;case 3:n.timeout=e.int64();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Se||(Se={}));var Te;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.addr!=null&&e.addr.byteLength>0&&(o.uint32(10),o.bytes(e.addr)),e.proto!=null)for(let i of e.proto)o.uint32(18),o.string(i);n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={addr:new Uint8Array(0),proto:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.addr=e.bytes();break;case 2:n.proto.push(e.string());break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Te||(Te={}));var Le;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{n.lengthDelimited!==!1&&o.fork(),e.msg!=null&&e.msg!==""&&(o.uint32(10),o.string(e.msg)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={msg:""},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.msg=e.string();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Le||(Le={}));var Xt;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{n.lengthDelimited!==!1&&o.fork(),e.peer!=null&&e.peer.byteLength>0&&(o.uint32(10),o.bytes(e.peer)),e.addr!=null&&e.addr.byteLength>0&&(o.uint32(18),o.bytes(e.addr)),e.proto!=null&&e.proto!==""&&(o.uint32(26),o.string(e.proto)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={peer:new Uint8Array(0),addr:new Uint8Array(0),proto:""},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.peer=e.bytes();break;case 2:n.addr=e.bytes();break;case 3:n.proto=e.string();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Xt||(Xt={}));var it;(function(r){let t;(function(n){n.FIND_PEER="FIND_PEER",n.FIND_PEERS_CONNECTED_TO_PEER="FIND_PEERS_CONNECTED_TO_PEER",n.FIND_PROVIDERS="FIND_PROVIDERS",n.GET_CLOSEST_PEERS="GET_CLOSEST_PEERS",n.GET_PUBLIC_KEY="GET_PUBLIC_KEY",n.GET_VALUE="GET_VALUE",n.SEARCH_VALUE="SEARCH_VALUE",n.PUT_VALUE="PUT_VALUE",n.PROVIDE="PROVIDE"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.FIND_PEER=0]="FIND_PEER",n[n.FIND_PEERS_CONNECTED_TO_PEER=1]="FIND_PEERS_CONNECTED_TO_PEER",n[n.FIND_PROVIDERS=2]="FIND_PROVIDERS",n[n.GET_CLOSEST_PEERS=3]="GET_CLOSEST_PEERS",n[n.GET_PUBLIC_KEY=4]="GET_PUBLIC_KEY",n[n.GET_VALUE=5]="GET_VALUE",n[n.SEARCH_VALUE=6]="SEARCH_VALUE",n[n.PUT_VALUE=7]="PUT_VALUE",n[n.PROVIDE=8]="PROVIDE"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.peer!=null&&(i.uint32(18),i.bytes(n.peer)),n.cid!=null&&(i.uint32(26),i.bytes(n.cid)),n.key!=null&&(i.uint32(34),i.bytes(n.key)),n.value!=null&&(i.uint32(42),i.bytes(n.value)),n.count!=null&&(i.uint32(48),i.int32(n.count)),n.timeout!=null&&(i.uint32(56),i.int64(n.timeout)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.peer=n.bytes();break;case 3:s.cid=n.bytes();break;case 4:s.key=n.bytes();break;case 5:s.value=n.bytes();break;case 6:s.count=n.int32();break;case 7:s.timeout=n.int64();break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(it||(it={}));var U;(function(r){let t;(function(n){n.BEGIN="BEGIN",n.VALUE="VALUE",n.END="END"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.BEGIN=0]="BEGIN",n[n.VALUE=1]="VALUE",n[n.END=2]="END"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.peer!=null&&(i.uint32(18),At.codec().encode(n.peer,i)),n.value!=null&&(i.uint32(26),i.bytes(n.value)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.peer=At.codec().decode(n,n.uint32());break;case 3:s.value=n.bytes();break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(U||(U={}));var At;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.id!=null&&e.id.byteLength>0&&(o.uint32(10),o.bytes(e.id)),e.addrs!=null)for(let i of e.addrs)o.uint32(18),o.bytes(i);n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={id:new Uint8Array(0),addrs:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.id=e.bytes();break;case 2:n.addrs.push(e.bytes());break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(At||(At={}));var Ne;(function(r){let t;(function(n){n.TAG_PEER="TAG_PEER",n.UNTAG_PEER="UNTAG_PEER",n.TRIM="TRIM"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.TAG_PEER=0]="TAG_PEER",n[n.UNTAG_PEER=1]="UNTAG_PEER",n[n.TRIM=2]="TRIM"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.peer!=null&&(i.uint32(18),i.bytes(n.peer)),n.tag!=null&&(i.uint32(26),i.string(n.tag)),n.weight!=null&&(i.uint32(32),i.int64(n.weight)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.peer=n.bytes();break;case 3:s.tag=n.string();break;case 4:s.weight=n.int64();break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(Ne||(Ne={}));var Re;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{n.lengthDelimited!==!1&&o.fork(),e.peer!=null&&e.peer.byteLength>0&&(o.uint32(10),o.bytes(e.peer)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={peer:new Uint8Array(0)},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.peer=e.bytes();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Re||(Re={}));var gt;(function(r){let t;(function(n){n.GET_TOPICS="GET_TOPICS",n.LIST_PEERS="LIST_PEERS",n.PUBLISH="PUBLISH",n.SUBSCRIBE="SUBSCRIBE"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.GET_TOPICS=0]="GET_TOPICS",n[n.LIST_PEERS=1]="LIST_PEERS",n[n.PUBLISH=2]="PUBLISH",n[n.SUBSCRIBE=3]="SUBSCRIBE"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.topic!=null&&(i.uint32(18),i.string(n.topic)),n.data!=null&&(i.uint32(26),i.bytes(n.data)),s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.topic=n.string();break;case 3:s.data=n.bytes();break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(gt||(gt={}));var de;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.from!=null&&(o.uint32(10),o.bytes(e.from)),e.data!=null&&(o.uint32(18),o.bytes(e.data)),e.seqno!=null&&(o.uint32(26),o.bytes(e.seqno)),e.topicIDs!=null)for(let i of e.topicIDs)o.uint32(34),o.string(i);e.signature!=null&&(o.uint32(42),o.bytes(e.signature)),e.key!=null&&(o.uint32(50),o.bytes(e.key)),n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={topicIDs:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.from=e.bytes();break;case 2:n.data=e.bytes();break;case 3:n.seqno=e.bytes();break;case 4:n.topicIDs.push(e.string());break;case 5:n.signature=e.bytes();break;case 6:n.key=e.bytes();break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(de||(de={}));var De;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.topics!=null)for(let i of e.topics)o.uint32(10),o.string(i);if(e.peerIDs!=null)for(let i of e.peerIDs)o.uint32(18),o.bytes(i);n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={topics:[],peerIDs:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.topics.push(e.string());break;case 2:n.peerIDs.push(e.bytes());break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(De||(De={}));var Pt;(function(r){let t;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.GET_PROTOCOLS="GET_PROTOCOLS",n.GET_PEER_INFO="GET_PEER_INFO"})(t=r.Type||(r.Type={}));let e;(function(n){n[n.UNSPECIFIED=0]="UNSPECIFIED",n[n.GET_PROTOCOLS=1]="GET_PROTOCOLS",n[n.GET_PEER_INFO=2]="GET_PEER_INFO"})(e||(e={})),function(n){n.codec=()=>mt(e)}(t=r.Type||(r.Type={}));let o;r.codec=()=>(o==null&&(o=L((n,i,s={})=>{if(s.lengthDelimited!==!1&&i.fork(),n.type!=null&&(i.uint32(8),r.Type.codec().encode(n.type,i)),n.id!=null&&(i.uint32(18),i.bytes(n.id)),n.protos!=null)for(let c of n.protos)i.uint32(26),i.string(c);s.lengthDelimited!==!1&&i.ldelim()},(n,i)=>{let s={protos:[]},c=i==null?n.len:n.pos+i;for(;n.pos<c;){let a=n.uint32();switch(a>>>3){case 1:s.type=r.Type.codec().decode(n);break;case 2:s.id=n.bytes();break;case 3:s.protos.push(n.string());break;default:n.skipType(a&7);break}}return s})),o),r.encode=n=>T(n,r.codec()),r.decode=n=>S(n,r.codec())})(Pt||(Pt={}));var Pe;(function(r){let t;r.codec=()=>(t==null&&(t=L((e,o,n={})=>{if(n.lengthDelimited!==!1&&o.fork(),e.peer!=null&&(o.uint32(10),At.codec().encode(e.peer,o)),e.protos!=null)for(let i of e.protos)o.uint32(18),o.string(i);n.lengthDelimited!==!1&&o.ldelim()},(e,o)=>{let n={protos:[]},i=o==null?e.len:e.pos+o;for(;e.pos<i;){let s=e.uint32();switch(s>>>3){case 1:n.peer=At.codec().decode(e,e.uint32());break;case 2:n.protos.push(e.string());break;default:e.skipType(s&7);break}}return n})),t),r.encode=e=>T(e,r.codec()),r.decode=e=>S(e,r.codec())})(Pe||(Pe={}));var Yr={upgradeInbound:async r=>r,upgradeOutbound:async r=>r};var j=St(bo(),1);j.default.formatters.b=r=>r==null?"undefined":D.baseEncode(r);j.default.formatters.t=r=>r==null?"undefined":lt.baseEncode(r);j.default.formatters.m=r=>r==null?"undefined":Rr.baseEncode(r);j.default.formatters.p=r=>r==null?"undefined":r.toString();j.default.formatters.c=r=>r==null?"undefined":r.toString();j.default.formatters.k=r=>r==null?"undefined":r.toString();j.default.formatters.a=r=>r==null?"undefined":r.toString();function fc(r){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=r,t.destroy=()=>!0,t.extend=()=>t,t}function wo(){return{forComponent(r){return Ot(r)}}}function Ot(r){let t=fc(`${r}:trace`);return j.default.enabled(`${r}:trace`)&&j.default.names.map(e=>e.toString()).find(e=>e.includes(":trace"))!=null&&(t=(0,j.default)(`${r}:trace`)),Object.assign((0,j.default)(r),{error:(0,j.default)(`${r}:error`),trace:t})}var qr=Symbol.for("@libp2p/peer-id");var xo=Symbol.for("@libp2p/transport");var Eo;(function(r){r[r.FATAL_ALL=0]="FATAL_ALL",r[r.NO_FATAL=1]="NO_FATAL"})(Eo||(Eo={}));var fe=class r extends Error{code;type;constructor(t="The operation was aborted"){super(t),this.name="AbortError",this.code=r.code,this.type=r.type}static code="ABORT_ERR";static type="aborted"},P=class extends Error{code;props;constructor(t,e,o){super(t),this.code=e,this.name=o?.name??"CodeError",this.props=o??{}}};var Io=H("events"),Ao=(r,...t)=>{try{(0,Io.setMaxListeners)(r,...t)}catch{}};var Fe=class extends EventTarget{#t=new Map;constructor(){super(),Ao(1/0,this)}listenerCount(t){let e=this.#t.get(t);return e==null?0:e.length}addEventListener(t,e,o){super.addEventListener(t,e,o);let n=this.#t.get(t);n==null&&(n=[],this.#t.set(t,n)),n.push({callback:e,once:(o!==!0&&o!==!1&&o?.once)??!1})}removeEventListener(t,e,o){super.removeEventListener(t.toString(),e??null,o);let n=this.#t.get(t);n!=null&&(n=n.filter(({callback:i})=>i!==e),this.#t.set(t,n))}dispatchEvent(t){let e=super.dispatchEvent(t),o=this.#t.get(t.type);return o==null||(o=o.filter(({once:n})=>!n),this.#t.set(t.type,o)),e}safeDispatchEvent(t,e={}){return this.dispatchEvent(new hc(t,e))}},jr=class extends Event{detail;constructor(t,e){super(t,e),this.detail=e?.detail}},hc=globalThis.CustomEvent??jr;var Co=Symbol.for("@libp2p/service-capabilities"),ol=Symbol.for("@libp2p/service-dependencies");function _t(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}var vo=H("node:buffer");function F(r,t="utf8"){let e=xe[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return t==="utf8"||t==="utf-8"?vo.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):e.encoder.encode(r).substring(1)}var To=Symbol.for("nodejs.util.inspect.custom"),So=Object.values(It).map(r=>r.decoder).reduce((r,t)=>r.or(t),It.identity.decoder),Lo=114,No=36,Ro=37,he=class{type;multihash;privateKey;publicKey;string;constructor(t){this.type=t.type,this.multihash=t.multihash,this.privateKey=t.privateKey,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[qr]=!0;toString(){return this.string==null&&(this.string=D.encode(this.multihash.bytes).slice(1)),this.string}toCID(){return $.createV1(Lo,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t==null)return!1;if(t instanceof Uint8Array)return _t(this.multihash.bytes,t);if(typeof t=="string")return pc(t).equals(this);if(t?.multihash?.bytes!=null)return _t(this.multihash.bytes,t.multihash.bytes);throw new Error("not valid Id")}[To](){return`PeerId(${this.toString()})`}},pe=class extends he{type="RSA";publicKey;constructor(t){super({...t,type:"RSA"}),this.publicKey=t.publicKey}},me=class extends he{type="Ed25519";publicKey;constructor(t){super({...t,type:"Ed25519"}),this.publicKey=t.multihash.digest}},ge=class extends he{type="secp256k1";publicKey;constructor(t){super({...t,type:"secp256k1"}),this.publicKey=t.multihash.digest}},tn=2336,en=class{type="url";multihash;privateKey;publicKey;url;constructor(t){this.url=t.toString(),this.multihash=ce.digest(pt(this.url))}[To](){return`PeerId(${this.url})`}[qr]=!0;toString(){return this.toCID().toString()}toCID(){return $.createV1(tn,this.multihash)}toBytes(){return this.toCID().bytes}equals(t){return t==null?!1:(t instanceof Uint8Array&&(t=F(t)),t.toString()===this.toString())}};function pc(r,t){if(t=t??So,r.charAt(0)==="1"||r.charAt(0)==="Q"){let e=Nt(D.decode(`z${r}`));return r.startsWith("12D")?new me({multihash:e}):r.startsWith("16U")?new ge({multihash:e}):new pe({multihash:e})}return Ut(So.decode(r))}function Ut(r){try{let t=Nt(r);if(t.code===ce.code){if(t.digest.length===No)return new me({multihash:t});if(t.digest.length===Ro)return new ge({multihash:t})}if(t.code===Ee.code)return new pe({multihash:t})}catch{return mc($.decode(r))}throw new Error("Supplied PeerID CID is invalid")}function mc(r){if(r==null||r.multihash==null||r.version==null||r.version===1&&r.code!==Lo&&r.code!==tn)throw new Error("Supplied PeerID CID is invalid");if(r.code===tn){let e=F(r.multihash.digest);return new en(new URL(e))}let t=r.multihash;if(t.code===Ee.code)return new pe({multihash:r.multihash});if(t.code===ce.code){if(t.digest.length===No)return new me({multihash:r.multihash});if(t.digest.length===Ro)return new ge({multihash:r.multihash})}throw new Error("Supplied PeerID CID is invalid")}var ii=St(H("net"),1);var Do=H("node:buffer");function st(r,t){return Tt(Do.Buffer.concat(r,t))}var Me=class{index=0;input="";new(t){return this.index=0,this.input=t,this}readAtomically(t){let e=this.index,o=t();return o===void 0&&(this.index=e),o}parseWith(t){let e=t();if(this.index===this.input.length)return e}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{let e=this.readChar();if(e===t)return e})}readSeparator(t,e,o){return this.readAtomically(()=>{if(!(e>0&&this.readGivenChar(t)===void 0))return o()})}readNumber(t,e,o,n){return this.readAtomically(()=>{let i=0,s=0,c=this.peekChar();if(c===void 0)return;let a=c==="0",f=2**(8*n)-1;for(;;){let u=this.readAtomically(()=>{let l=this.readChar();if(l===void 0)return;let g=Number.parseInt(l,t);if(!Number.isNaN(g))return g});if(u===void 0)break;if(i*=t,i+=u,i>f||(s+=1,e!==void 0&&s>e))return}if(s!==0)return!o&&a&&s>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let t=new Uint8Array(4);for(let e=0;e<t.length;e++){let o=this.readSeparator(".",e,()=>this.readNumber(10,3,!1,1));if(o===void 0)return;t[e]=o}return t})}readIPv6Addr(){let t=e=>{for(let o=0;o<e.length/2;o++){let n=o*2;if(o<e.length-3){let s=this.readSeparator(":",o,()=>this.readIPv4Addr());if(s!==void 0)return e[n]=s[0],e[n+1]=s[1],e[n+2]=s[2],e[n+3]=s[3],[n+4,!0]}let i=this.readSeparator(":",o,()=>this.readNumber(16,4,!0,2));if(i===void 0)return[n,!1];e[n]=i>>8,e[n+1]=i&255}return[e.length,!1]};return this.readAtomically(()=>{let e=new Uint8Array(16),[o,n]=t(e);if(o===16)return e;if(n||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let i=new Uint8Array(14),s=16-(o+2),[c]=t(i.subarray(0,s));return e.set(i.subarray(0,c),16-c),e})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var Wl=new Me;var jl=parseInt("0xFFFF",16),td=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);var ct=H("node:net");function Be(r){return!!(0,ct.isIP)(r)}var Oo=ct.isIPv4,xc=ct.isIPv6,rn=function(r){let t=0;if(r=r.toString().trim(),Oo(r)){let e=new Uint8Array(t+4);return r.split(/\./g).forEach(o=>{e[t++]=parseInt(o,10)&255}),e}if(xc(r)){let e=r.split(":",8),o;for(o=0;o<e.length;o++){let i=Oo(e[o]),s;i&&(s=rn(e[o]),e[o]=F(s.slice(0,2),"base16")),s!=null&&++o<8&&e.splice(o,0,F(s.slice(2,4),"base16"))}if(e[0]==="")for(;e.length<8;)e.unshift("0");else if(e[e.length-1]==="")for(;e.length<8;)e.push("0");else if(e.length<8){for(o=0;o<e.length&&e[o]!=="";o++);let i=[o,1];for(o=9-e.length;o>0;o--)i.push("0");e.splice.apply(e,i)}let n=new Uint8Array(t+16);for(o=0;o<e.length;o++){let i=parseInt(e[o],16);n[t++]=i>>8&255,n[t++]=i&255}return n}throw new Error("invalid ip address")},_o=function(r,t=0,e){t=~~t,e=e??r.length-t;let o=new DataView(r.buffer);if(e===4){let n=[];for(let i=0;i<e;i++)n.push(r[t+i]);return n.join(".")}if(e===16){let n=[];for(let i=0;i<e;i+=2)n.push(o.getUint16(t+i).toString(16));return n.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var qt={},nn={},Ac=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,-1,"http-path"],[777,-1,"memory"]];Ac.forEach(r=>{let t=Cc(...r);nn[t.code]=t,qt[t.name]=t});function Cc(r,t,e,o,n){return{code:r,size:t,name:e,resolvable:!!o,path:!!n}}function I(r){if(typeof r=="number"){if(nn[r]!=null)return nn[r];throw new Error(`no protocol with code: ${r}`)}else if(typeof r=="string"){if(qt[r]!=null)return qt[r];throw new Error(`no protocol with name: ${r}`)}throw new Error(`invalid protocol id type: ${typeof r}`)}var Md=I("ip4"),Bd=I("ip6"),Gd=I("ipcidr");function an(r,t){switch(I(r).code){case 4:case 41:return Sc(t);case 42:return cn(t);case 6:case 273:case 33:case 132:return Mo(t).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return cn(t);case 421:return Rc(t);case 444:return Fo(t);case 445:return Fo(t);case 466:return Nc(t);case 481:return globalThis.encodeURIComponent(cn(t));default:return F(t,"base16")}}function un(r,t){switch(I(r).code){case 4:return Uo(t);case 41:return Uo(t);case 42:return sn(t);case 6:case 273:case 33:case 132:return ln(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return sn(t);case 421:return Tc(t);case 444:return Dc(t);case 445:return Pc(t);case 466:return Lc(t);case 481:return sn(globalThis.decodeURIComponent(t));default:return pt(t,"base16")}}var on=Object.values(It).map(r=>r.decoder),vc=function(){let r=on[0].or(on[1]);return on.slice(2).forEach(t=>r=r.or(t)),r}();function Uo(r){if(!Be(r))throw new Error("invalid ip address");return rn(r)}function Sc(r){let t=_o(r,0,r.length);if(t==null)throw new Error("ipBuff is required");if(!Be(t))throw new Error("invalid ip address");return t}function ln(r){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,r),new Uint8Array(t)}function Mo(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function sn(r){let t=pt(r),e=Uint8Array.from(ft(t.length));return st([e,t],e.length+t.length)}function cn(r){let t=at(r);if(r=r.slice(v(t)),r.length!==t)throw new Error("inconsistent lengths");return F(r)}function Tc(r){let t;r[0]==="Q"||r[0]==="1"?t=Nt(D.decode(`z${r}`)).bytes:t=$.parse(r).multihash.bytes;let e=Uint8Array.from(ft(t.length));return st([e,t],e.length+t.length)}function Lc(r){let t=vc.decode(r),e=Uint8Array.from(ft(t.length));return st([e,t],e.length+t.length)}function Nc(r){let t=at(r),e=r.slice(v(t));if(e.length!==t)throw new Error("inconsistent lengths");return"u"+F(e,"base64url")}function Rc(r){let t=at(r),e=r.slice(v(t));if(e.length!==t)throw new Error("inconsistent lengths");return F(e,"base58btc")}function Dc(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let e=lt.decode("b"+t[0]),o=parseInt(t[1],10);if(o<1||o>65536)throw new Error("Port number is not in range(1, 65536)");let n=ln(o);return st([e,n],e.length+n.length)}function Pc(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let e=lt.decode(`b${t[0]}`),o=parseInt(t[1],10);if(o<1||o>65536)throw new Error("Port number is not in range(1, 65536)");let n=ln(o);return st([e,n],e.length+n.length)}function Fo(r){let t=r.slice(0,r.length-2),e=r.slice(r.length-2),o=F(t,"base32"),n=Mo(e);return`${o}:${n}`}function Bo(r){r=dn(r);let t=[],e=[],o=null,n=r.split("/").slice(1);if(n.length===1&&n[0]==="")return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let i=0;i<n.length;i++){let s=n[i],c=I(s);if(c.size===0){t.push([c.code]),e.push([c.code]);continue}if(i++,i>=n.length)throw Vo("invalid address: "+r);if(c.path===!0){o=dn(n.slice(i).join("/")),t.push([c.code,un(c.code,o)]),e.push([c.code,o]);break}let a=un(c.code,n[i]);t.push([c.code,a]),e.push([c.code,an(c.code,a)])}return{string:Go(e),bytes:hn(t),tuples:t,stringTuples:e,path:o}}function fn(r){let t=[],e=[],o=null,n=0;for(;n<r.length;){let i=at(r,n),s=v(i),c=I(i),a=kc(c,r.slice(n+s));if(a===0){t.push([i]),e.push([i]),n+=s;continue}let f=r.slice(n+s,n+s+a);if(n+=a+s,n>r.length)throw Vo("Invalid address Uint8Array: "+F(r,"base16"));t.push([i,f]);let u=an(i,f);if(e.push([i,u]),c.path===!0){o=u;break}}return{bytes:Uint8Array.from(r),string:Go(e),tuples:t,stringTuples:e,path:o}}function Go(r){let t=[];return r.map(e=>{let o=I(e[0]);return t.push(o.name),e.length>1&&e[1]!=null&&t.push(e[1]),null}),dn(t.join("/"))}function hn(r){return st(r.map(t=>{let e=I(t[0]),o=Uint8Array.from(ft(e.code));return t.length>1&&t[1]!=null&&(o=st([o,t[1]])),o}))}function kc(r,t){if(r.size>0)return r.size/8;if(r.size===0)return 0;{let e=at(t instanceof Uint8Array?t:Uint8Array.from(t));return e+v(e)}}function dn(r){return"/"+r.trim().split("/").filter(t=>t).join("/")}function Vo(r){return new Error("Error parsing address: "+r)}var Oc=Symbol.for("nodejs.util.inspect.custom"),pn=Symbol.for("@multiformats/js-multiaddr/multiaddr"),_c=[I("dns").code,I("dns4").code,I("dns6").code,I("dnsaddr").code],Ge=class r{bytes;#t;#e;#r;#n;[pn]=!0;constructor(t){t==null&&(t="");let e;if(t instanceof Uint8Array)e=fn(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);e=Bo(t)}else if(zo(t))e=fn(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=e.bytes,this.#t=e.string,this.#e=e.tuples,this.#r=e.stringTuples,this.#n=e.path}toString(){return this.#t}toJSON(){return this.toString()}toOptions(){let t,e,o,n,i="",s=I("tcp"),c=I("udp"),a=I("ip4"),f=I("ip6"),u=I("dns6"),l=I("ip6zone");for(let[b,p]of this.stringTuples())b===l.code&&(i=`%${p??""}`),_c.includes(b)&&(e=s.name,n=443,o=`${p??""}${i}`,t=b===u.code?6:4),(b===s.code||b===c.code)&&(e=I(b).name,n=parseInt(p??"")),(b===a.code||b===f.code)&&(e=I(b).name,o=`${p??""}${i}`,t=b===f.code?6:4);if(t==null||e==null||o==null||n==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:o,transport:e,port:n}}protos(){return this.#e.map(([t])=>Object.assign({},I(t)))}protoCodes(){return this.#e.map(([t])=>t)}protoNames(){return this.#e.map(([t])=>I(t).name)}tuples(){return this.#e}stringTuples(){return this.#r}encapsulate(t){return t=new r(t),new r(this.toString()+t.toString())}decapsulate(t){let e=t.toString(),o=this.toString(),n=o.lastIndexOf(e);if(n<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new r(o.slice(0,n))}decapsulateCode(t){let e=this.tuples();for(let o=e.length-1;o>=0;o--)if(e[o][0]===t)return new r(hn(e.slice(0,o)));return this}getPeerId(){try{let t=[];this.stringTuples().forEach(([o,n])=>{o===qt.p2p.code&&t.push([o,n]),o===qt["p2p-circuit"].code&&(t=[])});let e=t.pop();if(e?.[1]!=null){let o=e[1];return o[0]==="Q"||o[0]==="1"?F(D.decode(`z${o}`),"base58btc"):F($.parse(o).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){return this.#n}equals(t){return _t(this.bytes,t.bytes)}async resolve(t){let e=this.protos().find(i=>i.resolvable);if(e==null)return[this];let o=$o.get(e.name);if(o==null)throw new P(`no available resolver for ${e.name}`,"ERR_NO_AVAILABLE_RESOLVER");return(await o(this,t)).map(i=>K(i))}nodeAddress(){let t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){let e=(t??this).protos();return!(e.length!==2||e[0].code!==4&&e[0].code!==41||e[1].code!==6&&e[1].code!==273)}[Oc](){return`Multiaddr(${this.#t})`}};var $o=new Map;function zo(r){return!!r?.[pn]}function K(r){return new Ge(r)}var Uc=d("dns4"),Fc=d("dns6"),Mc=d("dnsaddr"),Mt=C(d("dns"),Mc,Uc,Fc),ze=C(d("ip4"),d("ip6")),vt=C(m(ze,d("tcp")),m(Mt,d("tcp"))),He=m(ze,d("udp")),Bc=m(He,d("utp")),Gc=m(He,d("quic")),Vc=m(He,d("quic-v1")),mn=C(m(vt,d("ws")),m(Mt,d("ws"))),Ve=C(m(mn,d("p2p")),mn),gn=C(m(vt,d("wss")),m(Mt,d("wss")),m(vt,d("tls"),d("ws")),m(Mt,d("tls"),d("ws"))),$e=C(m(gn,d("p2p")),gn),yn=C(m(vt,d("http")),m(ze,d("http")),m(Mt,d("http"))),bn=C(m(vt,d("https")),m(ze,d("https")),m(Mt,d("https"))),Ho=m(He,d("webrtc-direct"),d("certhash")),Xo=C(m(Ho,d("p2p")),Ho),Wo=m(Vc,d("webtransport"),d("certhash"),d("certhash")),Yo=C(m(Wo,d("p2p")),Wo),Qo=C(m(Ve,d("p2p-webrtc-star"),d("p2p")),m($e,d("p2p-webrtc-star"),d("p2p")),m(Ve,d("p2p-webrtc-star")),m($e,d("p2p-webrtc-star"))),hf=C(m(Ve,d("p2p-websocket-star"),d("p2p")),m($e,d("p2p-websocket-star"),d("p2p")),m(Ve,d("p2p-websocket-star")),m($e,d("p2p-websocket-star"))),Jo=C(m(yn,d("p2p-webrtc-direct"),d("p2p")),m(bn,d("p2p-webrtc-direct"),d("p2p")),m(yn,d("p2p-webrtc-direct")),m(bn,d("p2p-webrtc-direct"))),Bt=C(mn,gn,yn,bn,Qo,Jo,vt,Bc,Gc,Mt,Xo,Yo),pf=C(m(Bt,d("p2p-stardust"),d("p2p")),m(Bt,d("p2p-stardust"))),Ct=C(m(Bt,d("p2p")),Qo,Jo,Xo,Yo,d("p2p")),Ko=C(m(Ct,d("p2p-circuit"),Ct),m(Ct,d("p2p-circuit")),m(d("p2p-circuit"),Ct),m(Bt,d("p2p-circuit")),m(d("p2p-circuit"),Bt),d("p2p-circuit")),Zo=()=>C(m(Ko,Zo),Ko),Ft=Zo(),mf=C(m(Ft,Ct,Ft),m(Ct,Ft),m(Ft,Ct),Ft,Ct);var gf=C(m(Ft,d("webrtc"),d("p2p")),m(Ft,d("webrtc")),m(Bt,d("webrtc"),d("p2p")),m(Bt,d("webrtc")),d("webrtc"));function qo(r){function t(e){let o;try{o=K(e)}catch{return!1}let n=r(o.protoNames());return n===null?!1:n===!0||n===!1?n:n.length===0}return t}function m(...r){function t(e){if(e.length<r.length)return null;let o=e;return r.some(n=>(o=typeof n=="function"?n().partialMatch(e):n.partialMatch(e),Array.isArray(o)&&(e=o),o===null)),o}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:qo(t),partialMatch:t}}function C(...r){function t(o){let n=null;return r.some(i=>{let s=typeof i=="function"?i().partialMatch(o):i.partialMatch(o);return s!=null?(n=s,!0):!1}),n}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:qo(t),partialMatch:t}}function d(r){let t=r;function e(n){let i;try{i=K(n)}catch{return!1}let s=i.protoNames();return s.length===1&&s[0]===t}function o(n){return n.length===0?null:n[0]===t?n.slice(1):null}return{toString:function(){return t},matches:e,partialMatch:o}}var We=class extends Event{type;detail;constructor(t,e){super(t),this.type=t,this.detail=e}};var oi=St(H("net"),1);var wn={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function jo(r,t){if(typeof r!="string")throw new P(`invalid ip provided: ${r}`,wn.ERR_INVALID_IP_PARAMETER);if(typeof t=="string"&&(t=parseInt(t)),isNaN(t))throw new P(`invalid port provided: ${t}`,wn.ERR_INVALID_PORT_PARAMETER);if((0,ct.isIPv4)(r))return K(`/ip4/${r}/tcp/${t}`);if((0,ct.isIPv6)(r))return K(`/ip6/${r}/tcp/${t}`);throw new P(`invalid ip:port for creating a multiaddr: ${r}:${t}`,wn.ERR_INVALID_IP)}function ti(r){if(Hc(r))return async function*(){let t=r.getReader();try{for(;;){let{done:e,value:o}=await t.read();if(e)return;yield o}}finally{t.releaseLock()}}();if(zc(r))return r;throw new Error("unknown stream")}function zc(r){return r[Symbol.asyncIterator]!=null}function Hc(r){return typeof r?.getReader=="function"}function ei(r){return async t=>{let e=async()=>{Wc(t)&&await t.return(void 0)},o,n,i=w=>{o=w,e().catch(E=>{E=new AggregateError([o,E],"The Writable emitted an error, additionally an error occurred while ending the Source")}).finally(()=>{n?.(w)})},s,c=!1,a=()=>{c=!0,s?.()},f,u=!1,l=()=>{u=!0,f?.()},g,b=()=>{g?.()},p=async()=>new Promise((w,E)=>{s=g=w,n=E,r.once("drain",b)}),y=async()=>(await e(),new Promise((w,E)=>{if(c||u||o!=null){w();return}f=s=w,n=E})),h=()=>{r.removeListener("error",i),r.removeListener("close",a),r.removeListener("finish",l),r.removeListener("drain",b)};r.once("error",i),r.once("close",a),r.once("finish",l);try{for await(let w of t){if(!r.writable||r.destroyed||o!=null)break;r.write(w)||await p()}}catch(w){o==null&&r.destroy(w),o=w}try{if(r.writable&&r.end(),await y(),o!=null)throw o}finally{h()}}}function Wc(r){return r.return!=null}function En(r){return{sink:ei(r),source:ti(r)}}var xn=St(H("os"),1),ri=St(H("path"),1);var Kc={ip4:"IPv4",ip6:"IPv6"};function jt(r,t={}){let e=r.getPath();return e!=null?xn.default.platform()==="win32"?{path:ri.default.join("\\\\.\\pipe\\",e)}:{path:e}:{...t,...r.toOptions()}}function In(r,t,e){let o=n=>K(`/${r}/${n}/tcp/${e}`);return(Xc(t)?Qc(Kc[r]):[t]).map(o)}function Xc(r){return["0.0.0.0","::"].includes(r)}var Yc=xn.default.networkInterfaces();function Qc(r){let t=[];for(let[,e]of Object.entries(Yc))if(e!=null)for(let o of e)o.family===r&&t.push(o.address);return t}var Ke=(r,t)=>{let e=null,o=t.logger.forComponent("libp2p:tcp:socket"),n=t.metrics,i=t.metricPrefix??"",s=t.socketInactivityTimeout??3e5,c=t.socketCloseTimeout??500;t.listeningAddr?.getPath()!=null&&(t.remoteAddr=t.listeningAddr),t.remoteAddr?.getPath()!=null&&(t.localAddr=t.remoteAddr);let a;if(t.remoteAddr!=null)a=t.remoteAddr;else{if(r.remoteAddress==null||r.remotePort==null)throw new P("Could not determine remote address or port","ERR_NO_REMOTE_ADDRESS");a=jo(r.remoteAddress,r.remotePort)}let f=jt(a),u=f.path??`${f.host??""}:${f.port??""}`,{sink:l,source:g}=En(r);r.setTimeout(s,()=>{o("%s socket read timeout",u),n?.increment({[`${i}timeout`]:!0});let p;r.readable&&(p=new P("Socket read timeout","ERR_SOCKET_READ_TIMEOUT")),r.destroy(p)}),r.once("close",()=>{o("%s socket close",u),n?.increment({[`${i}close`]:!0}),b.timeline.close==null&&(b.timeline.close=Date.now())}),r.once("end",()=>{o("%s socket end",u),n?.increment({[`${i}end`]:!0})});let b={async sink(p){try{await l(async function*(){for await(let y of p)y instanceof Uint8Array?yield y:yield y.subarray()}())}catch(y){y.type!=="aborted"&&o.error("%s error in sink",u,y)}r.end()},source:g,remoteAddr:a,timeline:{open:Date.now()},async close(p={}){if(r.destroyed){o("The %s socket is destroyed",u);return}if(e!=null)return o("The %s socket is closed or closing",u),e;if(p.signal==null){let h=AbortSignal.timeout(c);p={...p,signal:h}}let y=()=>{r.destroy(new P("Destroying socket after timeout","ERR_CLOSE_TIMEOUT"))};p.signal?.addEventListener("abort",y);try{o("%s closing socket",u),e=new Promise((h,w)=>{r.once("close",()=>{o("%s socket closed",u),h()}),r.once("error",E=>{o("%s socket error",u,E),b.timeline.close==null&&(b.timeline.close=Date.now()),r.destroyed||w(E)}),r.setTimeout(c),r.end(),r.writableLength>0?r.once("drain",()=>{o("%s socket drained",u),r.destroy()}):r.destroy()}),await e}catch(h){this.abort(h)}finally{p.signal?.removeEventListener("abort",y)}},abort:p=>{o("%s socket abort due to error",u,p),r.destroyed||r.destroy(p),b.timeline.close==null&&(b.timeline.close=Date.now())},log:o};return b};async function ni(r,t){try{await r.close()}catch(e){t.log.error("an error occurred closing the connection",e),r.abort(e)}}var _;(function(r){r[r.INACTIVE=0]="INACTIVE",r[r.ACTIVE=1]="ACTIVE",r[r.PAUSED=2]="PAUSED"})(_||(_={}));var Xe=class extends Fe{context;server;connections=new Set;status={code:_.INACTIVE};metrics;addr;log;constructor(t){if(super(),this.context=t,t.keepAlive=t.keepAlive??!0,t.noDelay=t.noDelay??!0,this.log=t.logger.forComponent("libp2p:tcp:listener"),this.addr="unknown",this.server=oi.default.createServer(t,this.onSocket.bind(this)),t.maxConnections!==void 0&&(this.server.maxConnections=t.maxConnections),t.closeServerOnMaxConnections!=null&&t.closeServerOnMaxConnections.closeAbove<t.closeServerOnMaxConnections.listenBelow)throw new P("closeAbove must be >= listenBelow","ERR_CONNECTION_LIMITS");this.server.on("listening",()=>{if(t.metrics!=null){let e=this.server.address();e==null?this.addr="unknown":typeof e=="string"?this.addr=e:this.addr=`${e.address}:${e.port}`,t.metrics?.registerMetricGroup("libp2p_tcp_inbound_connections_total",{label:"address",help:"Current active connections in TCP listener",calculate:()=>({[this.addr]:this.connections.size})}),this.metrics={status:t.metrics.registerMetricGroup("libp2p_tcp_listener_status_info",{label:"address",help:"Current status of the TCP listener socket"}),errors:t.metrics.registerMetricGroup("libp2p_tcp_listener_errors_total",{label:"address",help:"Total count of TCP listener errors by type"}),events:t.metrics.registerMetricGroup("libp2p_tcp_listener_events_total",{label:"address",help:"Total count of TCP listener events by type"})},this.metrics?.status.update({[this.addr]:_.ACTIVE})}this.safeDispatchEvent("listening")}).on("error",e=>{this.metrics?.errors.increment({[`${this.addr} listen_error`]:!0}),this.safeDispatchEvent("error",{detail:e})}).on("close",()=>{this.metrics?.status.update({[this.addr]:this.status.code}),this.status.code!==_.PAUSED&&this.safeDispatchEvent("close")})}onSocket(t){if(this.status.code!==_.ACTIVE)throw new P("Server is not listening yet","ERR_SERVER_NOT_RUNNING");t.on("error",o=>{this.log("socket error",o),this.metrics?.events.increment({[`${this.addr} error`]:!0})});let e;try{e=Ke(t,{listeningAddr:this.status.listeningAddr,socketInactivityTimeout:this.context.socketInactivityTimeout,socketCloseTimeout:this.context.socketCloseTimeout,metrics:this.metrics?.events,metricPrefix:`${this.addr} `,logger:this.context.logger})}catch(o){this.log.error("inbound connection failed",o),this.metrics?.errors.increment({[`${this.addr} inbound_to_connection`]:!0});return}this.log("new inbound connection %s",e.remoteAddr);try{this.context.upgrader.upgradeInbound(e).then(o=>{this.log("inbound connection upgraded %s",e.remoteAddr),this.connections.add(e),t.once("close",()=>{this.connections.delete(e),this.context.closeServerOnMaxConnections!=null&&this.connections.size<this.context.closeServerOnMaxConnections.listenBelow&&this.resume().catch(n=>{this.log.error("error attempting to listen server once connection count under limit",n),this.context.closeServerOnMaxConnections?.onListenError?.(n)})}),this.context.handler!=null&&this.context.handler(o),this.context.closeServerOnMaxConnections!=null&&this.connections.size>=this.context.closeServerOnMaxConnections.closeAbove&&this.pause(!1).catch(n=>{this.log.error("error attempting to close server once connection count over limit",n)}),this.safeDispatchEvent("connection",{detail:o})}).catch(async o=>{this.log.error("inbound connection failed",o),this.metrics?.errors.increment({[`${this.addr} inbound_upgrade`]:!0}),await ni(e,{log:this.log})}).catch(o=>{this.log.error("closing inbound connection failed",o)})}catch(o){this.log.error("inbound connection failed",o),ni(e,{log:this.log}).catch(n=>{this.log.error("closing inbound connection failed",n),this.metrics?.errors.increment({[`${this.addr} inbound_closing_failed`]:!0})})}}getAddrs(){if(this.status.code===_.INACTIVE)return[];let t=[],e=this.server.address(),{listeningAddr:o,peerId:n}=this.status;if(e==null)return[];if(typeof e=="string")t=[o];else try{o.toString().startsWith("/ip4")?t=t.concat(In("ip4",e.address,e.port)):e.family==="IPv6"&&(t=t.concat(In("ip6",e.address,e.port)))}catch(i){this.log.error("could not turn %s:%s into multiaddr",e.address,e.port,i)}return t.map(i=>n!=null?i.encapsulate(`/p2p/${n}`):i)}async listen(t){if(this.status.code===_.ACTIVE||this.status.code===_.PAUSED)throw new P("server is already listening","ERR_SERVER_ALREADY_LISTENING");let e=t.getPeerId(),o=e==null?t.decapsulateCode(421):t,{backlog:n}=this.context;try{this.status={code:_.ACTIVE,listeningAddr:o,peerId:e,netConfig:jt(o,{backlog:n})},await this.resume()}catch(i){throw this.status={code:_.INACTIVE},i}}async close(){let t=new P("Listener is closing","ERR_LISTENER_CLOSING");this.connections.forEach(e=>{e.abort(t)}),await this.pause(!0)}async resume(){if(this.server.listening||this.status.code===_.INACTIVE)return;let t=this.status.netConfig;await new Promise((e,o)=>{this.server.once("error",o),this.server.listen(t,e)}),this.status={...this.status,code:_.ACTIVE},this.log("listening on %s",this.server.address())}async pause(t){if(!this.server.listening&&this.status.code===_.PAUSED&&t){this.status={code:_.INACTIVE};return}!this.server.listening||this.status.code!==_.ACTIVE||(this.log("closing server on %s",this.server.address()),this.status=t?{code:_.INACTIVE}:{...this.status,code:_.PAUSED},await new Promise((e,o)=>{this.server.close(n=>{if(n!=null){o(n);return}e()})}))}};var An=class{opts;metrics;components;log;constructor(t,e={}){this.log=t.logger.forComponent("libp2p:tcp"),this.opts=e,this.components=t,t.metrics!=null&&(this.metrics={dialerEvents:t.metrics.registerCounterGroup("libp2p_tcp_dialer_events_total",{label:"event",help:"Total count of TCP dialer events by type"})})}[xo]=!0;[Symbol.toStringTag]="@libp2p/tcp";[Co]=["@libp2p/transport"];async dial(t,e){e.keepAlive=e.keepAlive??!0,e.noDelay=e.noDelay??!0;let o=await this._connect(t,e);o.on("error",c=>{this.log("socket error",c)});let n=Ke(o,{remoteAddr:t,socketInactivityTimeout:this.opts.outboundSocketInactivityTimeout,socketCloseTimeout:this.opts.socketCloseTimeout,metrics:this.metrics?.dialerEvents,logger:this.components.logger}),i=()=>{n.close().catch(c=>{this.log.error("Error closing maConn after abort",c)})};e.signal?.addEventListener("abort",i,{once:!0}),this.log("new outbound connection %s",n.remoteAddr);let s=await e.upgrader.upgradeOutbound(n);if(this.log("outbound connection %s upgraded",n.remoteAddr),e.signal?.removeEventListener("abort",i),e.signal?.aborted===!0)throw s.close().catch(c=>{this.log.error("Error closing conn after abort",c)}),new fe;return s}async _connect(t,e){return e.signal?.throwIfAborted(),e.onProgress?.(new We("tcp:open-connection")),new Promise((o,n)=>{let i=Date.now(),s=jt(t,{...this.opts.dialOpts??{},...e});this.log("dialing %a",t);let c=ii.default.connect(s),a=b=>{let p=s.path??`${s.host??""}:${s.port}`;b.message=`connection error ${p}: ${b.message}`,this.metrics?.dialerEvents.increment({error:!0}),g(b)},f=()=>{this.log("connection timeout %a",t),this.metrics?.dialerEvents.increment({timeout:!0});let b=new P(`connection timeout after ${Date.now()-i}ms`,"ERR_CONNECT_TIMEOUT");c.emit("error",b)},u=()=>{this.log("connection opened %a",t),this.metrics?.dialerEvents.increment({connect:!0}),g()},l=()=>{this.log("connection aborted %a",t),this.metrics?.dialerEvents.increment({abort:!0}),c.destroy(),g(new fe)},g=b=>{if(c.removeListener("error",a),c.removeListener("timeout",f),c.removeListener("connect",u),e.signal!=null&&e.signal.removeEventListener("abort",l),b!=null){n(b);return}o(c)};c.on("error",a),c.on("timeout",f),c.on("connect",u),e.signal!=null&&e.signal.addEventListener("abort",l)})}createListener(t){return new Xe({...this.opts.listenOpts??{},...t,maxConnections:this.opts.maxConnections,backlog:this.opts.backlog,closeServerOnMaxConnections:this.opts.closeServerOnMaxConnections,socketInactivityTimeout:this.opts.inboundSocketInactivityTimeout,socketCloseTimeout:this.opts.socketCloseTimeout,metrics:this.components.metrics,logger:this.components.logger})}listenFilter(t){return t=Array.isArray(t)?t:[t],t.filter(e=>e.protoCodes().includes(290)?!1:e.protoCodes().includes(400)?!0:vt.matches(e.decapsulateCode(421)))}dialFilter(t){return this.listenFilter(t)}};function si(r={}){return t=>new An(t,r)}var ai=Symbol.for("@achingbrain/uint8arraylist");function ci(r,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let e=0;for(let o of r){let n=e+o.byteLength;if(t<n)return{buf:o,index:t-e};e=n}throw new RangeError("index is out of bounds")}function Ye(r){return!!r?.[ai]}var tt=class r{bufs;length;[ai]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let e=0;for(let o of t)if(o instanceof Uint8Array)e+=o.byteLength,this.bufs.push(o);else if(Ye(o))e+=o.byteLength,this.bufs.push(...o.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}prepend(...t){this.prependAll(t)}prependAll(t){let e=0;for(let o of t.reverse())if(o instanceof Uint8Array)e+=o.byteLength,this.bufs.unshift(o);else if(Ye(o))e+=o.byteLength,this.bufs.unshift(...o.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}get(t){let e=ci(this.bufs,t);return e.buf[e.index]}set(t,e){let o=ci(this.bufs,t);o.buf[o.index]=e}write(t,e=0){if(t instanceof Uint8Array)for(let o=0;o<t.length;o++)this.set(e+o,t[o]);else if(Ye(t))for(let o=0;o<t.length;o++)this.set(e+o,t.get(o));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,e){let{bufs:o,length:n}=this._subList(t,e);return st(o,n)}subarray(t,e){let{bufs:o,length:n}=this._subList(t,e);return o.length===1?o[0]:st(o,n)}sublist(t,e){let{bufs:o,length:n}=this._subList(t,e),i=new r;return i.length=n,i.bufs=[...o],i}_subList(t,e){if(t=t??0,e=e??this.length,t<0&&(t=this.length+t),e<0&&(e=this.length+e),t<0||e>this.length)throw new RangeError("index is out of bounds");if(t===e)return{bufs:[],length:0};if(t===0&&e===this.length)return{bufs:this.bufs,length:this.length};let o=[],n=0;for(let i=0;i<this.bufs.length;i++){let s=this.bufs[i],c=n,a=c+s.byteLength;if(n=a,t>=a)continue;let f=t>=c&&t<a,u=e>c&&e<=a;if(f&&u){if(t===c&&e===a){o.push(s);break}let l=t-c;o.push(s.subarray(l,l+(e-t)));break}if(f){if(t===0){o.push(s);continue}o.push(s.subarray(t-c));continue}if(u){if(e===a){o.push(s);break}o.push(s.subarray(0,e-c));break}o.push(s)}return{bufs:o,length:e-t}}indexOf(t,e=0){if(!Ye(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let o=t instanceof Uint8Array?t:t.subarray();if(e=Number(e??0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let n=o.byteLength;if(n===0)throw new TypeError("search must be at least 1 byte long");let i=256,s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=-1;for(let l=0;l<n;l++)s[o[l]]=l;let c=s,a=this.byteLength-o.byteLength,f=o.byteLength-1,u;for(let l=e;l<=a;l+=u){u=0;for(let g=f;g>=0;g--){let b=this.get(l+g);if(o[g]!==b){u=Math.max(1,g-c[b]);break}}if(u===0)return l}return-1}getInt8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getInt8(0)}setInt8(t,e){let o=W(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt8(0,e),this.write(o,t)}getInt16(t,e){let o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt16(0,e)}setInt16(t,e,o){let n=ht(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt16(0,e,o),this.write(n,t)}getInt32(t,e){let o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getInt32(0,e)}setInt32(t,e,o){let n=ht(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt32(0,e,o),this.write(n,t)}getBigInt64(t,e){let o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigInt64(0,e)}setBigInt64(t,e,o){let n=ht(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigInt64(0,e,o),this.write(n,t)}getUint8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0)}setUint8(t,e){let o=W(1);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint8(0,e),this.write(o,t)}getUint16(t,e){let o=this.subarray(t,t+2);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint16(0,e)}setUint16(t,e,o){let n=ht(2);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint16(0,e,o),this.write(n,t)}getUint32(t,e){let o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getUint32(0,e)}setUint32(t,e,o){let n=ht(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint32(0,e,o),this.write(n,t)}getBigUint64(t,e){let o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getBigUint64(0,e)}setBigUint64(t,e,o){let n=ht(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setBigUint64(0,e,o),this.write(n,t)}getFloat32(t,e){let o=this.subarray(t,t+4);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat32(0,e)}setFloat32(t,e,o){let n=ht(4);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat32(0,e,o),this.write(n,t)}getFloat64(t,e){let o=this.subarray(t,t+8);return new DataView(o.buffer,o.byteOffset,o.byteLength).getFloat64(0,e)}setFloat64(t,e,o){let n=ht(8);new DataView(n.buffer,n.byteOffset,n.byteLength).setFloat64(0,e,o),this.write(n,t)}equals(t){if(t==null||!(t instanceof r)||t.bufs.length!==this.bufs.length)return!1;for(let e=0;e<this.bufs.length;e++)if(!_t(this.bufs[e],t.bufs[e]))return!1;return!0}static fromUint8Arrays(t,e){let o=new r;return o.bufs=t,e==null&&(e=t.reduce((n,i)=>n+i.byteLength,0)),o.length=e,o}};function Qe(r){return r[Symbol.asyncIterator]!=null}var Je=r=>{let t=v(r),e=W(t);return ft(r,e),Je.bytes=t,e};Je.bytes=0;function Ze(r,t){t=t??{};let e=t.lengthEncoder??Je;function*o(n){let i=e(n.byteLength);i instanceof Uint8Array?yield i:yield*i,n instanceof Uint8Array?yield n:yield*n}return Qe(r)?async function*(){for await(let n of r)yield*o(n)}():function*(){for(let n of r)yield*o(n)}()}Ze.single=(r,t)=>{t=t??{};let e=t.lengthEncoder??Je;return new tt(e(r.byteLength),r)};var te=St(di(),1);var qc=8,jc=1024*1024*4,Gt;(function(r){r[r.LENGTH=0]="LENGTH",r[r.DATA=1]="DATA"})(Gt||(Gt={}));var vn=r=>{let t=at(r);return vn.bytes=v(t),t};vn.bytes=0;function Cn(r,t){let e=new tt,o=Gt.LENGTH,n=-1,i=t?.lengthDecoder??vn,s=t?.maxLengthLength??qc,c=t?.maxDataLength??jc;function*a(){for(;e.byteLength>0;){if(o===Gt.LENGTH)try{if(n=i(e),n<0)throw(0,te.default)(new Error("invalid message length"),"ERR_INVALID_MSG_LENGTH");if(n>c)throw(0,te.default)(new Error("message length too long"),"ERR_MSG_DATA_TOO_LONG");let f=i.bytes;e.consume(f),t?.onLength!=null&&t.onLength(n),o=Gt.DATA}catch(f){if(f instanceof RangeError){if(e.byteLength>s)throw(0,te.default)(new Error("message length length too long"),"ERR_MSG_LENGTH_TOO_LONG");break}throw f}if(o===Gt.DATA){if(e.byteLength<n)break;let f=e.sublist(0,n);e.consume(n),t?.onData!=null&&t.onData(f),yield f,o=Gt.LENGTH}}}return Qe(r)?async function*(){for await(let f of r)e.append(f),yield*a();if(e.byteLength>0)throw(0,te.default)(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}():function*(){for(let f of r)e.append(f),yield*a();if(e.byteLength>0)throw(0,te.default)(new Error("unexpected end of input"),"ERR_UNEXPECTED_EOF")}()}Cn.fromReader=(r,t)=>{let e=1,o=async function*(){for(;;)try{let{done:i,value:s}=await r.next(e);if(i===!0)return;s!=null&&(yield s)}catch(i){if(i.code==="ERR_UNDER_READ")return{done:!0,value:null};throw i}finally{e=1}}();return Cn(o,{...t??{},onLength:i=>{e=i}})};function yt(){let r={};return r.promise=new Promise((t,e)=>{r.resolve=t,r.reject=e}),r}var qe=class extends Error{type;code;constructor(t,e){super(t??"The operation was aborted"),this.type="aborted",this.name="AbortError",this.code=e??"ABORT_ERR"}};async function fi(r,t,e){if(t==null)return r;if(t.aborted)return Promise.reject(new qe(e?.errorMessage,e?.errorCode));let o,n=new qe(e?.errorMessage,e?.errorCode);try{return await Promise.race([r,new Promise((i,s)=>{o=()=>{s(n)},t.addEventListener("abort",o)})])}finally{o!=null&&t.removeEventListener("abort",o)}}var Sn=class{readNext;haveNext;ended;nextResult;constructor(){this.ended=!1,this.readNext=yt(),this.haveNext=yt()}[Symbol.asyncIterator](){return this}async next(){if(this.nextResult==null&&await this.haveNext.promise,this.nextResult==null)throw new Error("HaveNext promise resolved but nextResult was undefined");let t=this.nextResult;return this.nextResult=void 0,this.readNext.resolve(),this.readNext=yt(),t}async throw(t){return this.ended=!0,t!=null&&(this.haveNext.promise.catch(()=>{}),this.haveNext.reject(t)),{done:!0,value:void 0}}async return(){let t={done:!0,value:void 0};return await this._push(void 0),t}async push(t,e){await this._push(t,e)}async end(t,e){t!=null?await this.throw(t):await this._push(void 0,e)}async _push(t,e){if(t!=null&&this.ended)throw new Error("Cannot push value onto an ended pushable");for(;this.nextResult!=null;)await this.readNext.promise;t!=null?this.nextResult={done:!1,value:t}:(this.ended=!0,this.nextResult={done:!0,value:void 0}),this.haveNext.resolve(),this.haveNext=yt(),await fi(this.readNext.promise,e?.signal,e)}};function hi(){return new Sn}var je=class extends Error{code;constructor(t,e){super(t),this.code=e}},Tn=class extends je{type;constructor(t){super(t,"ABORT_ERR"),this.type="aborted"}};function pi(r,t){let e=hi();r.sink(e).catch(async s=>{await e.end(s)}),r.sink=async s=>{for await(let c of s)await e.push(c);await e.end()};let o=r.source;r.source[Symbol.iterator]!=null?o=r.source[Symbol.iterator]():r.source[Symbol.asyncIterator]!=null&&(o=r.source[Symbol.asyncIterator]());let n=new tt;return{read:async(s,c)=>{c?.signal?.throwIfAborted();let a,f=new Promise((u,l)=>{a=()=>{l(new Tn("Read aborted"))},c?.signal?.addEventListener("abort",a)});try{if(s==null){let{done:l,value:g}=await Promise.race([o.next(),f]);return l===!0?new tt:g}for(;n.byteLength<s;){let{value:l,done:g}=await Promise.race([o.next(),f]);if(g===!0)throw new je("unexpected end of input","ERR_UNEXPECTED_EOF");n.append(l)}let u=n.sublist(0,s);return n.consume(s),u}finally{a!=null&&c?.signal?.removeEventListener("abort",a)}},write:async(s,c)=>{c?.signal?.throwIfAborted(),s instanceof Uint8Array?await e.push(s,c):await e.push(s.subarray(),c)},unwrap:()=>{if(n.byteLength>0){let s=r.source;r.source=async function*(){t?.yieldBytes===!1?yield n:yield*n,yield*s}()}return r}}}var tr=class extends Error{code;constructor(t,e){super(t),this.code=e}};function ee(r,t={}){let e=pi(r,t);t.maxDataLength!=null&&t.maxLengthLength==null&&(t.maxLengthLength=v(t.maxDataLength));let o=t?.lengthDecoder??at,n=t?.lengthEncoder??ft;return{read:async s=>{let c=-1,a=new tt;for(;;){a.append(await e.read(1,s));try{c=o(a)}catch(f){if(f instanceof RangeError)continue;throw f}if(t?.maxLengthLength!=null&&a.byteLength>t.maxLengthLength)throw new tr("message length length too long","ERR_MSG_LENGTH_TOO_LONG");if(c>-1)break}if(t?.maxDataLength!=null&&c>t.maxDataLength)throw new tr("message length too long","ERR_MSG_DATA_TOO_LONG");return e.read(c,s)},write:async(s,c)=>{await e.write(new tt(n(s.byteLength),s),c)},writeV:async(s,c)=>{let a=new tt(...s.flatMap(f=>[n(f.byteLength),f]));await e.write(a,c)},unwrap:()=>e.unwrap()}}var er=class{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return this.buffer[this.btm]===void 0}},re=class{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new er(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return t?.byteLength!=null?t.byteLength:1}push(t){if(t?.value!=null&&(this.size+=this.calculateSize(t.value)),!this.head.push(t)){let e=this.head;this.head=e.next=new er(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next!=null){let e=this.tail.next;this.tail.next=null,this.tail=e,t=this.tail.shift()}return t?.value!=null&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}};var Ln=class extends Error{type;code;constructor(t,e){super(t??"The operation was aborted"),this.type="aborted",this.code=e??"ABORT_ERR"}};function ne(r={}){return ea(e=>{let o=e.shift();if(o==null)return{done:!0};if(o.error!=null)throw o.error;return{done:o.done===!0,value:o.value}},r)}function ea(r,t){t=t??{};let e=t.onEnd,o=new re,n,i,s,c=yt(),a=async()=>{try{return o.isEmpty()?s?{done:!0}:await new Promise((h,w)=>{i=E=>{i=null,o.push(E);try{h(r(o))}catch(R){w(R)}return n}}):r(o)}finally{o.isEmpty()&&queueMicrotask(()=>{c.resolve(),c=yt()})}},f=h=>i!=null?i(h):(o.push(h),n),u=h=>(o=new re,i!=null?i({error:h}):(o.push({error:h}),n)),l=h=>{if(s)return n;if(t?.objectMode!==!0&&h?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return f({done:!1,value:h})},g=h=>s?n:(s=!0,h!=null?u(h):f({done:!0})),b=()=>(o=new re,g(),{done:!0}),p=h=>(g(h),{done:!0});if(n={[Symbol.asyncIterator](){return this},next:a,return:b,throw:p,push:l,end:g,get readableLength(){return o.size},onEmpty:async h=>{let w=h?.signal;if(w?.throwIfAborted(),o.isEmpty())return;let E,R;w!=null&&(E=new Promise((k,Y)=>{R=()=>{Y(new Ln)},w.addEventListener("abort",R)}));try{await Promise.race([c.promise,E])}finally{R!=null&&w!=null&&w?.removeEventListener("abort",R)}}},e==null)return n;let y=n;return n={[Symbol.asyncIterator](){return this},next(){return y.next()},throw(h){return y.throw(h),e!=null&&(e(h),e=void 0),{done:!0}},return(){return y.return(),e!=null&&(e(),e=void 0),{done:!0}},push:l,end(h){return y.end(h),e!=null&&(e(h),e=void 0),n},get readableLength(){return y.readableLength},onEmpty:h=>y.onEmpty(h)},n}function ra(r){return r[Symbol.asyncIterator]!=null}function na(...r){let t=[];for(let e of r)ra(e)||t.push(e);return t.length===r.length?function*(){for(let e of t)yield*e}():async function*(){let e=ne({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(r.map(async o=>{for await(let n of o)e.push(n)})),e.end()}catch(o){e.end(o)}}),yield*e}()}var mi=na;function Rn(r,...t){if(r==null)throw new Error("Empty pipeline");if(Nn(r)){let o=r;r=()=>o.source}else if(yi(r)||gi(r)){let o=r;r=()=>o}let e=[r,...t];if(e.length>1&&Nn(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let o=1;o<e.length-1;o++)Nn(e[o])&&(e[o]=ia(e[o]));return oa(...e)}var oa=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},gi=r=>r?.[Symbol.asyncIterator]!=null,yi=r=>r?.[Symbol.iterator]!=null,Nn=r=>r==null?!1:r.sink!=null&&r.source!=null,ia=r=>t=>{let e=r.sink(t);if(e?.then!=null){let o=ne({objectMode:!0});e.then(()=>{o.end()},s=>{o.end(s)});let n,i=r.source;if(gi(i))n=async function*(){yield*i,o.end()};else if(yi(i))n=function*(){yield*i,o.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return mi(o,n())}return r.source};function bi(r,t){let e=ee(r,t),o={read:async(n,i)=>{let s=await e.read(i);return n.decode(s)},write:async(n,i,s)=>{await e.write(i.encode(n),s)},writeV:async(n,i,s)=>{await e.writeV(n.map(c=>i.encode(c)),s)},pb:n=>({read:async i=>o.read(n,i),write:async(i,s)=>o.write(i,n,s),writeV:async(i,s)=>o.writeV(i,n,s),unwrap:()=>o}),unwrap:()=>e.unwrap()};return o}function sa(r){return r[Symbol.asyncIterator]!=null}function ca(r){if(sa(r))return(async()=>{for await(let t of r);})();for(let t of r);}var Dn=ca;function X(r){return N.encode({type:N.Type.OK,peers:[],...r}).subarray()}function V(r){return N.encode({type:N.Type.ERROR,error:{msg:r.message},peers:[]}).subarray()}var rr=Ot("libp2p:daemon-server:dht"),nr=class{dht;constructor(t){let{dht:e}=t;this.dht=e}async*provide(t){try{await Dn(this.dht.provide(t)),yield X()}catch(e){rr.error(e),yield V(e)}}async*getClosestPeers(t){yield X({dht:{type:U.Type.BEGIN}});for await(let e of this.dht.getClosestPeers(t))e.name==="PEER_RESPONSE"&&(yield*e.closer.map(o=>U.encode({type:U.Type.VALUE,value:o.id.toBytes()})));yield U.encode({type:U.Type.END})}async*getPublicKey(t){yield V(new Error("FIX ME: not implemented"))}async*getValue(t){try{for await(let e of this.dht.get(t))e.name==="VALUE"&&(yield X({dht:{type:U.Type.VALUE,value:e.value}}))}catch(e){rr.error(e),yield V(e)}}async*putValue(t,e){try{await Dn(this.dht.put(t,e)),yield X()}catch(o){rr.error(o),yield V(o)}}async*findPeer(t){try{for await(let e of this.dht.findPeer(t))e.name==="FINAL_PEER"&&(yield X({dht:{type:U.Type.VALUE,peer:{id:e.peer.id.toBytes(),addrs:e.peer.multiaddrs.map(o=>o.bytes)}}}));throw new Error("Peer not found")}catch(e){rr.error(e),yield V(e)}}async*findProviders(t,e){yield X({dht:{type:U.Type.BEGIN}});try{let o=e,n=0;for await(let i of this.dht.findProviders(t))if(i.name==="PEER_RESPONSE"){for(let s of i.providers)n++,yield U.encode({type:U.Type.VALUE,peer:{id:s.id.toBytes(),addrs:(s.multiaddrs??[]).map(c=>c.bytes)}});if(o===n)break}}catch(o){yield V(o)}yield U.encode({type:U.Type.END})}};var or=Ot("libp2p:daemon-server:pubsub"),ir=class{pubsub;constructor(t){let{pubsub:e}=t;this.pubsub=e}async*getTopics(){try{yield X({pubsub:{topics:this.pubsub.getTopics(),peerIDs:[]}})}catch(t){or.error(t),yield V(t)}}async*subscribe(t){try{let e=ne();this.pubsub.subscribe(t),this.pubsub.addEventListener("message",o=>{let n=o.detail;n.topic===t&&(n.type==="signed"?e.push(de.encode({from:n.from.toBytes(),data:n.data,seqno:n.sequenceNumber==null?void 0:pt(n.sequenceNumber.toString(16).padStart(16,"0"),"base16"),topicIDs:[n.topic],signature:n.signature,key:n.key}).subarray()):e.push(de.encode({data:n.data,topicIDs:[n.topic]}).subarray()))}),yield X(),yield*e}catch(e){or.error(e),yield V(e)}}async*publish(t,e){try{await this.pubsub.publish(t,e),yield X()}catch(o){or.error(o),yield V(o)}}async*listPeers(t){try{yield X({pubsub:{topics:[t],peerIDs:this.pubsub.getSubscribers(t).map(e=>e.toBytes())}})}catch(e){or.error(e),yield V(e)}}};var aa=1<<22,z=Ot("libp2p:daemon-server"),sr=class{multiaddr;libp2p;tcp;listener;dhtOperations;pubsubOperations;constructor(t){let{multiaddr:e,libp2pNode:o}=t;this.multiaddr=e,this.libp2p=o,this.tcp=si()({logger:wo()}),this.listener=this.tcp.createListener({handler:this.handleConnection.bind(this),upgrader:Yr}),this._onExit=this._onExit.bind(this),o.services.dht!=null&&(this.dhtOperations=new nr({dht:o.services.dht})),o.services.pubsub!=null&&(this.pubsubOperations=new ir({pubsub:o.services.pubsub}))}async connect(t){if(t.connect==null||t.connect.addrs==null)throw new Error("Invalid request");let e=t.connect.peer,o=t.connect.addrs.map(i=>K(i)),n=Ut(e);return z("connect - adding multiaddrs %a to peer %p",o,n),await this.libp2p.peerStore.merge(n,{multiaddrs:o}),z("connect - dial %p",n),this.libp2p.dial(n)}async openStream(t){if(t.streamOpen==null||t.streamOpen.proto==null)throw new Error("Invalid request");let{peer:e,proto:o}=t.streamOpen,n=Ut(e);z("openStream - dial %p",n);let i=await this.libp2p.dial(n);z("openStream - open stream for protocol %s",o);let s=await i.newStream(o,{runOnTransientConnection:!0,runOnLimitedConnection:!0});return{streamInfo:{peer:n.toBytes(),addr:i.remoteAddr.bytes,proto:s.protocol??""},connection:s}}async registerStreamHandler(t){if(t.streamHandler==null||t.streamHandler.proto==null)throw new Error("Invalid request");let e=t.streamHandler.proto,o=K(t.streamHandler.addr),n;z("registerStreamHandler - handle %s",e),await this.libp2p.handle(e,({connection:i,stream:s})=>{Promise.resolve().then(async()=>{n=await this.tcp.dial(o,{upgrader:Yr});let c=Xt.encode({peer:i.remotePeer.toBytes(),addr:i.remoteAddr.bytes,proto:s.protocol??""}),a=Ze.single(c);await Rn(async function*(){yield a,yield*s.source}(),async function*(f){for await(let u of f)yield*u},n,s.sink)}).catch(async c=>{z.error(c),n!=null&&await n.close(c)}).finally(()=>{n?.close().catch(c=>{z.error(c)})})},{runOnTransientConnection:!0,runOnLimitedConnection:!0})}_listen(){process.on("SIGTERM",this._onExit),process.on("SIGINT",this._onExit),process.on("SIGHUP",this._onExit)}_onExit(){this.stop({exit:!0}).catch(t=>{z.error(t)})}async start(){this._listen(),await this.libp2p.start(),await this.listener.listen(this.multiaddr)}getMultiaddr(){let t=this.listener.getAddrs();if(t.length>0)return t[0];throw new Error("Not started")}async stop(t={exit:!1}){await this.libp2p.stop(),await this.listener.close(),t.exit&&z("server closed, exiting"),process.removeListener("SIGTERM",this._onExit),process.removeListener("SIGINT",this._onExit),process.removeListener("SIGHUP",this._onExit)}async*handlePeerStoreRequest(t){try{switch(t.type){case Pt.Type.GET_PROTOCOLS:if(t.id==null)throw new Error("Invalid request");let e=Ut(t.id),n=(await this.libp2p.peerStore.get(e)).protocols;yield X({peerStore:{protos:n}});return;case Pt.Type.GET_PEER_INFO:throw new Error("ERR_NOT_IMPLEMENTED");default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){z.error(e),yield V(e)}}async*handlePubsubRequest(t){try{if(this.libp2p.services.pubsub==null||this.pubsubOperations==null)throw new Error("PubSub not configured");switch(t.type){case gt.Type.GET_TOPICS:yield*this.pubsubOperations.getTopics();return;case gt.Type.SUBSCRIBE:if(t.topic==null)throw new Error("Invalid request");yield*this.pubsubOperations.subscribe(t.topic);return;case gt.Type.PUBLISH:if(t.topic==null||t.data==null)throw new Error("Invalid request");yield*this.pubsubOperations.publish(t.topic,t.data);return;case gt.Type.LIST_PEERS:if(t.topic==null)throw new Error("Invalid request");yield*this.pubsubOperations.listPeers(t.topic);return;default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){z.error(e),yield V(e)}}async*handleDHTRequest(t){try{if(this.libp2p.services.dht==null||this.dhtOperations==null)throw new Error("DHT not configured");switch(t.type){case it.Type.FIND_PEER:if(t.peer==null)throw new Error("Invalid request");yield*this.dhtOperations.findPeer(Ut(t.peer));return;case it.Type.FIND_PROVIDERS:if(t.cid==null)throw new Error("Invalid request");yield*this.dhtOperations.findProviders($.decode(t.cid),t.count??20);return;case it.Type.PROVIDE:if(t.cid==null)throw new Error("Invalid request");yield*this.dhtOperations.provide($.decode(t.cid));return;case it.Type.GET_CLOSEST_PEERS:if(t.key==null)throw new Error("Invalid request");yield*this.dhtOperations.getClosestPeers(t.key);return;case it.Type.GET_PUBLIC_KEY:if(t.peer==null)throw new Error("Invalid request");yield*this.dhtOperations.getPublicKey(Ut(t.peer));return;case it.Type.GET_VALUE:if(t.key==null)throw new Error("Invalid request");yield*this.dhtOperations.getValue(t.key);return;case it.Type.PUT_VALUE:if(t.key==null||t.value==null)throw new Error("Invalid request");yield*this.dhtOperations.putValue(t.key,t.value);return;default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){z.error(e),yield V(e)}}handleConnection(t){Promise.resolve().then(async()=>{let e=this,o=bi(t,{maxDataLength:aa}),n=await o.read(ot);z("read",n);try{switch(n.type){case ot.Type.CONNECT:{await e.connect(n),await o.write({type:N.Type.OK},N);break}case ot.Type.IDENTIFY:{await o.write({type:N.Type.OK,identify:{id:e.libp2p.peerId.toBytes(),addrs:e.libp2p.getMultiaddrs().map(i=>i.decapsulateCode(I("p2p").code)).map(i=>i.bytes)}},N);break}case ot.Type.LIST_PEERS:{let i=[],s=new Set;for(let c of e.libp2p.getConnections()){let a=c.remotePeer.toString();s.has(a)||(s.add(a),i.push({id:c.remotePeer.toBytes(),addrs:[c.remoteAddr.bytes]}))}await o.write({type:N.Type.OK,peers:i},N);break}case ot.Type.STREAM_OPEN:{let i=await e.openStream(n);await o.write({type:N.Type.OK,streamInfo:i.streamInfo},N);let s=o.unwrap();await Rn(s,i.connection,s);break}case ot.Type.STREAM_HANDLER:{await e.registerStreamHandler(n),await o.write({type:N.Type.OK},N);break}case ot.Type.PEERSTORE:{if(n.peerStore==null)throw new Error("ERR_INVALID_REQUEST");let i=o.unwrap(),s=ee(i);for await(let c of e.handlePeerStoreRequest(n.peerStore))await s.write(c);break}case ot.Type.PUBSUB:{if(n.pubsub==null)throw new Error("ERR_INVALID_REQUEST");let i=o.unwrap(),s=ee(i);for await(let c of e.handlePubsubRequest(n.pubsub))await s.write(c);break}case ot.Type.DHT:{if(n.dht==null)throw new Error("ERR_INVALID_REQUEST");let i=o.unwrap(),s=ee(i);for await(let c of e.handleDHTRequest(n.dht))await s.write(c);break}default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(i){z.error(i),await o.write({type:N.Type.ERROR,error:{msg:i.message},peers:[]},N)}finally{await o.unwrap().close()}}).catch(e=>{z.error("error handling incoming connection",e)})}},ua=(r,t)=>new sr({multiaddr:r,libp2pNode:t});return Ci(la);})();
+`+i),r.push(o+"m+"+Nr(this.diff)+"\x1B[0m")}else r[0]=lu()+t+" "+r[0]}function lu(){return Be.hideDate!=null?"":new Date().toISOString()+" "}function fu(...r){return process.stderr.write(Br.default.format(...r)+`
+`)}function du(r){r!=null?process.env.DEBUG=r:delete process.env.DEBUG}function hu(){return process.env.DEBUG}function pu(r){r.inspectOpts={};let t=Object.keys(Be);for(let e=0;e<t.length;e++)r.inspectOpts[t[e]]=Be[t[e]]}function mu(r){r.o=function(t){return this.inspectOpts.colors=this.useColors,Br.default.inspect(t,this.inspectOpts).split(`
+`).map(e=>e.trim()).join(" ")},r.O=function(t){return this.inspectOpts.colors=this.useColors,Br.default.inspect(t,this.inspectOpts)}}var ts=xo({init:pu,log:fu,formatArgs:uu,save:du,load:hu,useColors:au,setupFormatters:mu,colors:ji,inspectOpts:Be});var gt=ts;gt.formatters.b=r=>r==null?"undefined":U.baseEncode(r);gt.formatters.t=r=>r==null?"undefined":Rt.baseEncode(r);gt.formatters.m=r=>r==null?"undefined":Jn.baseEncode(r);gt.formatters.p=r=>r==null?"undefined":r.toString();gt.formatters.c=r=>r==null?"undefined":r.toString();gt.formatters.k=r=>r==null?"undefined":r.toString();gt.formatters.a=r=>r==null?"undefined":r.toString();function yu(r){let t=()=>{};return t.enabled=!1,t.color="",t.diff=0,t.log=()=>{},t.namespace=r,t.destroy=()=>!0,t.extend=()=>t,t}function es(){return{forComponent(r){return he(r)}}}function he(r){let t=yu(`${r}:trace`);return gt.enabled(`${r}:trace`)&&gt.names.map(e=>e.toString()).find(e=>e.includes(":trace"))!=null&&(t=gt(`${r}:trace`)),Object.assign(gt(r),{error:gt(`${r}:error`),trace:t})}var Eo=Symbol.for("@libp2p/peer-id");var ns=Symbol.for("@libp2p/transport");var rs;(function(r){r[r.FATAL_ALL=0]="FATAL_ALL",r[r.NO_FATAL=1]="NO_FATAL"})(rs||(rs={}));var er=class extends Error{constructor(t="The operation was aborted"){super(t),this.name="AbortError"}},Y=class extends Error{code;props;constructor(t,e,n){super(t),this.code=e,this.name=n?.name??"CodeError",this.props=n??{}}};var pe=class extends Error{constructor(t="Invalid parameters"){super(t),this.name="InvalidParametersError"}},Cr=class extends Error{constructor(t="Invalid public key"){super(t),this.name="InvalidPublicKeyError"}};var Or=class extends Error{constructor(t="Invalid Multihash"){super(t),this.name="InvalidMultihashError"}};var rr=class extends Error{constructor(t="Unsupported key type"){super(t),this.name="UnsupportedKeyTypeError"}};var os=W("events"),is=(r,...t)=>{try{(0,os.setMaxListeners)(r,...t)}catch{}};var Dr=class extends EventTarget{#t=new Map;constructor(){super(),is(1/0,this)}listenerCount(t){let e=this.#t.get(t);return e==null?0:e.length}addEventListener(t,e,n){super.addEventListener(t,e,n);let o=this.#t.get(t);o==null&&(o=[],this.#t.set(t,o)),o.push({callback:e,once:(n!==!0&&n!==!1&&n?.once)??!1})}removeEventListener(t,e,n){super.removeEventListener(t.toString(),e??null,n);let o=this.#t.get(t);o!=null&&(o=o.filter(({callback:i})=>i!==e),this.#t.set(t,o))}dispatchEvent(t){let e=super.dispatchEvent(t),n=this.#t.get(t.type);return n==null||(n=n.filter(({once:o})=>!o),this.#t.set(t.type,n)),e}safeDispatchEvent(t,e={}){return this.dispatchEvent(new CustomEvent(t,e))}};var ss=Symbol.for("@libp2p/service-capabilities"),Qd=Symbol.for("@libp2p/service-dependencies");function Ot(r,t){if(r===t)return!0;if(r.byteLength!==t.byteLength)return!1;for(let e=0;e<r.byteLength;e++)if(r[e]!==t[e])return!1;return!0}var _r=mt(W("crypto"),1);var cs=W("node:buffer");function bt(r,t){return ae(cs.Buffer.concat(r,t))}var as=W("node:buffer");function q(r,t="utf8"){let e=mr[t];if(e==null)throw new Error(`Unsupported encoding "${t}"`);return t==="utf8"||t==="utf-8"?as.Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString("utf8"):e.encoder.encode(r).substring(1)}var Ph=_r.default.generateKeyPairSync,nr=32;var gu=64;function us(r,t,e){if(r.byteLength!==nr)throw new TypeError('"key" must be 32 bytes in length.');if(!(r instanceof Uint8Array))throw new TypeError('"key" must be a node.js Buffer, or Uint8Array.');if(t.byteLength!==gu)throw new TypeError('"sig" must be 64 bytes in length.');if(!(t instanceof Uint8Array))throw new TypeError('"sig" must be a node.js Buffer, or Uint8Array.');let n=_r.default.createPublicKey({format:"jwk",key:{crv:"Ed25519",x:q(r,"base64url"),kty:"OKP"}});return _r.default.verify(null,e instanceof Uint8Array?e:e.subarray(),n,t)}var Ur=class{type="Ed25519";raw;constructor(t){this.raw=vo(t,nr)}toMultihash(){return $t.digest(Ce(this))}toCID(){return J.createV1(114,this.toMultihash())}toString(){return U.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:Ot(this.raw,t.raw)}verify(t,e){return us(this.raw,e,t)}};function fs(r){return r=vo(r,nr),new Ur(r)}function vo(r,t){if(r=Uint8Array.from(r??[]),r.length!==t)throw new pe(`Key must be a Uint8Array of length ${t}, got ${r.length}`);return r}var Tt;(function(r){r.RSA="RSA",r.Ed25519="Ed25519",r.secp256k1="secp256k1"})(Tt||(Tt={}));var Io;(function(r){r[r.RSA=0]="RSA",r[r.Ed25519=1]="Ed25519",r[r.secp256k1=2]="secp256k1"})(Io||(Io={}));(function(r){r.codec=()=>Ct(Io)})(Tt||(Tt={}));var or;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),e.Type!=null&&(n.uint32(8),Tt.codec().encode(e.Type,n)),e.Data!=null&&(n.uint32(18),n.bytes(e.Data)),o.lengthDelimited!==!1&&n.ldelim()},(e,n,o={})=>{let i={},s=n==null?e.len:e.pos+n;for(;e.pos<s;){let c=e.uint32();switch(c>>>3){case 1:{i.Type=Tt.codec().decode(e);break}case 2:{i.Data=e.bytes();break}default:{e.skipType(c&7);break}}}return i})),t),r.encode=e=>M(e,r.codec()),r.decode=(e,n)=>_(e,r.codec(),n)})(or||(or={}));var So;(function(r){let t;r.codec=()=>(t==null&&(t=K((e,n,o={})=>{o.lengthDelimited!==!1&&n.fork(),e.Type!=null&&(n.uint32(8),Tt.codec().encode(e.Type,n)),e.Data!=null&&(n.uint32(18),n.bytes(e.Data)),o.lengthDelimited!==!1&&n.ldelim()},(e,n,o={})=>{let i={},s=n==null?e.len:e.pos+n;for(;e.pos<s;){let c=e.uint32();switch(c>>>3){case 1:{i.Type=Tt.codec().decode(e);break}case 2:{i.Data=e.bytes();break}default:{e.skipType(c&7);break}}}return i})),t),r.encode=e=>M(e,r.codec()),r.decode=(e,n)=>_(e,r.codec(),n)})(So||(So={}));function ds(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`positive integer expected, not ${r}`)}function xu(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Oe(r,...t){if(!xu(r))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(r.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${r.length}`)}function hs(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ds(r.outputLen),ds(r.blockLen)}function De(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function ps(r,t){Oe(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var ir=mt(W("node:crypto"),1),Mr=ir&&typeof ir=="object"&&"webcrypto"in ir?ir.webcrypto:void 0;var Kr=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Dt=(r,t)=>r<<32-t|r>>>t;var Xh=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Eu(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function sr(r){return typeof r=="string"&&(r=Eu(r)),Oe(r),r}function ms(...r){let t=0;for(let n=0;n<r.length;n++){let o=r[n];Oe(o),t+=o.length}let e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){let i=r[n];e.set(i,o),o+=i.length}return e}var _e=class{clone(){return this._cloneInto()}},Qh={}.toString;function ys(r){let t=n=>r().update(sr(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function gs(r=32){if(Mr&&typeof Mr.getRandomValues=="function")return Mr.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var $r=class extends _e{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,hs(t);let n=sr(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return De(this),this.iHash.update(t),this}digestInto(t){De(this),Oe(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:c}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=s,t.outputLen=c,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Ao=(r,t,e)=>new $r(r,t).update(e).digest();Ao.create=(r,t)=>new $r(r,t);function vu(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(e>>o&i),c=Number(e&i),a=n?4:0,l=n?0:4;r.setUint32(t+a,s,n),r.setUint32(t+l,c,n)}var bs=(r,t,e)=>r&t^~r&e,ws=(r,t,e)=>r&t^r&e^t&e,Vr=class extends _e{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Kr(this.buffer)}update(t){De(this);let{view:e,buffer:n,blockLen:o}=this;t=sr(t);let i=t.length;for(let s=0;s<i;){let c=Math.min(o-this.pos,i-s);if(c===o){let a=Kr(t);for(;o<=i-s;s+=o)this.process(a,s);continue}n.set(t.subarray(s,s+c),this.pos),this.pos+=c,s+=c,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){De(this),ps(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let u=s;u<o;u++)e[u]=0;vu(n,o-8,BigInt(this.length*8),i),this.process(n,0);let c=Kr(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let u=0;u<l;u++)c.setUint32(4*u,d[u],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:i,destroyed:s,pos:c}=this;return t.length=o,t.pos=c,t.finished=i,t.destroyed=s,o%e&&t.buffer.set(n),t}};var Iu=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Jt=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),jt=new Uint32Array(64),To=class extends Vr{constructor(){super(64,32,8,!1),this.A=Jt[0]|0,this.B=Jt[1]|0,this.C=Jt[2]|0,this.D=Jt[3]|0,this.E=Jt[4]|0,this.F=Jt[5]|0,this.G=Jt[6]|0,this.H=Jt[7]|0}get(){let{A:t,B:e,C:n,D:o,E:i,F:s,G:c,H:a}=this;return[t,e,n,o,i,s,c,a]}set(t,e,n,o,i,s,c,a){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=c|0,this.H=a|0}process(t,e){for(let u=0;u<16;u++,e+=4)jt[u]=t.getUint32(e,!1);for(let u=16;u<64;u++){let y=jt[u-15],g=jt[u-2],p=Dt(y,7)^Dt(y,18)^y>>>3,f=Dt(g,17)^Dt(g,19)^g>>>10;jt[u]=f+jt[u-7]+p+jt[u-16]|0}let{A:n,B:o,C:i,D:s,E:c,F:a,G:l,H:d}=this;for(let u=0;u<64;u++){let y=Dt(c,6)^Dt(c,11)^Dt(c,25),g=d+y+bs(c,a,l)+Iu[u]+jt[u]|0,f=(Dt(n,2)^Dt(n,13)^Dt(n,22))+ws(n,o,i)|0;d=l,l=a,a=c,c=s+g|0,s=i,i=o,o=n,n=g+f|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,c=c+this.E|0,a=a+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(n,o,i,s,c,a,l,d)}roundClean(){jt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var xs=ys(()=>new To);var Bo={};ut(Bo,{aInRange:()=>re,abool:()=>me,abytes:()=>Ue,bitGet:()=>ku,bitLen:()=>Pu,bitMask:()=>ar,bitSet:()=>Ru,bytesToHex:()=>ye,bytesToNumberBE:()=>Ft,bytesToNumberLE:()=>Fr,concatBytes:()=>Me,createHmacDrbg:()=>Ro,ensureBytes:()=>wt,equalBytes:()=>Lu,hexToBytes:()=>ge,hexToNumber:()=>ko,inRange:()=>cr,isBytes:()=>te,memoized:()=>Hr,notImplemented:()=>Cu,numberToBytesBE:()=>ee,numberToBytesLE:()=>zr,numberToHexUnpadded:()=>Is,numberToVarBytesBE:()=>Tu,utf8ToBytes:()=>Nu,validateObject:()=>ne});var Po=BigInt(0),Gr=BigInt(1),Su=BigInt(2);function te(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function Ue(r){if(!te(r))throw new Error("Uint8Array expected")}function me(r,t){if(typeof t!="boolean")throw new Error(`${r} must be valid boolean, got "${t}".`)}var Au=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function ye(r){Ue(r);let t="";for(let e=0;e<r.length;e++)t+=Au[r[e]];return t}function Is(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function ko(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}var Gt={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function Es(r){if(r>=Gt._0&&r<=Gt._9)return r-Gt._0;if(r>=Gt._A&&r<=Gt._F)return r-(Gt._A-10);if(r>=Gt._a&&r<=Gt._f)return r-(Gt._a-10)}function ge(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(e);for(let o=0,i=0;o<e;o++,i+=2){let s=Es(r.charCodeAt(i)),c=Es(r.charCodeAt(i+1));if(s===void 0||c===void 0){let a=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+a+'" at index '+i)}n[o]=s*16+c}return n}function Ft(r){return ko(ye(r))}function Fr(r){return Ue(r),ko(ye(Uint8Array.from(r).reverse()))}function ee(r,t){return ge(r.toString(16).padStart(t*2,"0"))}function zr(r,t){return ee(r,t).reverse()}function Tu(r){return ge(Is(r))}function wt(r,t,e){let n;if(typeof t=="string")try{n=ge(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(te(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return n}function Me(...r){let t=0;for(let n=0;n<r.length;n++){let o=r[n];Ue(o),t+=o.length}let e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){let i=r[n];e.set(i,o),o+=i.length}return e}function Lu(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Nu(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}var Lo=r=>typeof r=="bigint"&&Po<=r;function cr(r,t,e){return Lo(r)&&Lo(t)&&Lo(e)&&t<=r&&r<e}function re(r,t,e,n){if(!cr(t,e,n))throw new Error(`expected valid ${r}: ${e} <= n < ${n}, got ${typeof t} ${t}`)}function Pu(r){let t;for(t=0;r>Po;r>>=Gr,t+=1);return t}function ku(r,t){return r>>BigInt(t)&Gr}function Ru(r,t,e){return r|(e?Gr:Po)<<BigInt(t)}var ar=r=>(Su<<BigInt(r-1))-Gr,No=r=>new Uint8Array(r),vs=r=>Uint8Array.from(r);function Ro(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=No(r),o=No(r),i=0,s=()=>{n.fill(1),o.fill(0),i=0},c=(...u)=>e(o,n,...u),a=(u=No())=>{o=c(vs([0]),u),n=c(),u.length!==0&&(o=c(vs([1]),u),n=c())},l=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let u=0,y=[];for(;u<t;){n=c();let g=n.slice();y.push(g),u+=n.length}return Me(...y)};return(u,y)=>{s(),a(u);let g;for(;!(g=y(l()));)a();return s(),g}}var Bu={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||te(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function ne(r,t,e={}){let n=(o,i,s)=>{let c=Bu[i];if(typeof c!="function")throw new Error(`Invalid validator "${i}", expected function`);let a=r[o];if(!(s&&a===void 0)&&!c(a,r))throw new Error(`Invalid param ${String(o)}=${a} (${typeof a}), expected ${i}`)};for(let[o,i]of Object.entries(t))n(o,i,!1);for(let[o,i]of Object.entries(e))n(o,i,!0);return r}var Cu=()=>{throw new Error("not implemented")};function Hr(r){let t=new WeakMap;return(e,...n)=>{let o=t.get(e);if(o!==void 0)return o;let i=r(e,...n);return t.set(e,i),i}}var Z=BigInt(0),G=BigInt(1),be=BigInt(2),Ou=BigInt(3),Co=BigInt(4),Ss=BigInt(5),As=BigInt(8),Du=BigInt(9),_u=BigInt(16);function ot(r,t){let e=r%t;return e>=Z?e:t+e}function Uu(r,t,e){if(e<=Z||t<Z)throw new Error("Expected power/modulo > 0");if(e===G)return Z;let n=G;for(;t>Z;)t&G&&(n=n*r%e),r=r*r%e,t>>=G;return n}function xt(r,t,e){let n=r;for(;t-- >Z;)n*=n,n%=e;return n}function qr(r,t){if(r===Z||t<=Z)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=ot(r,t),n=t,o=Z,i=G,s=G,c=Z;for(;e!==Z;){let l=n/e,d=n%e,u=o-s*l,y=i-c*l;n=e,e=d,o=s,i=c,s=u,c=y}if(n!==G)throw new Error("invert: does not exist");return ot(o,t)}function Mu(r){let t=(r-G)/be,e,n,o;for(e=r-G,n=0;e%be===Z;e/=be,n++);for(o=be;o<r&&Uu(o,t,r)!==r-G;o++);if(n===1){let s=(r+G)/Co;return function(a,l){let d=a.pow(l,s);if(!a.eql(a.sqr(d),l))throw new Error("Cannot find square root");return d}}let i=(e+G)/be;return function(c,a){if(c.pow(a,t)===c.neg(c.ONE))throw new Error("Cannot find square root");let l=n,d=c.pow(c.mul(c.ONE,o),e),u=c.pow(a,i),y=c.pow(a,e);for(;!c.eql(y,c.ONE);){if(c.eql(y,c.ZERO))return c.ZERO;let g=1;for(let f=c.sqr(y);g<l&&!c.eql(f,c.ONE);g++)f=c.sqr(f);let p=c.pow(d,G<<BigInt(l-g-1));d=c.sqr(p),u=c.mul(u,p),y=c.mul(y,d),l=g}return u}}function Ku(r){if(r%Co===Ou){let t=(r+G)/Co;return function(n,o){let i=n.pow(o,t);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%As===Ss){let t=(r-Ss)/As;return function(n,o){let i=n.mul(o,be),s=n.pow(i,t),c=n.mul(o,s),a=n.mul(n.mul(c,be),s),l=n.mul(c,n.sub(a,n.ONE));if(!n.eql(n.sqr(l),o))throw new Error("Cannot find square root");return l}}return r%_u,Mu(r)}var $u=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Oo(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=$u.reduce((n,o)=>(n[o]="function",n),t);return ne(r,e)}function Vu(r,t,e){if(e<Z)throw new Error("Expected power > 0");if(e===Z)return r.ONE;if(e===G)return t;let n=r.ONE,o=t;for(;e>Z;)e&G&&(n=r.mul(n,o)),o=r.sqr(o),e>>=G;return n}function Gu(r,t){let e=new Array(t.length),n=t.reduce((i,s,c)=>r.is0(s)?i:(e[c]=i,r.mul(i,s)),r.ONE),o=r.inv(n);return t.reduceRight((i,s,c)=>r.is0(s)?i:(e[c]=r.mul(i,e[c]),r.mul(i,s)),o),e}function Do(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Ts(r,t,e=!1,n={}){if(r<=Z)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:i}=Do(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");let s=Ku(r),c=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:ar(o),ZERO:Z,ONE:G,create:a=>ot(a,r),isValid:a=>{if(typeof a!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof a}`);return Z<=a&&a<r},is0:a=>a===Z,isOdd:a=>(a&G)===G,neg:a=>ot(-a,r),eql:(a,l)=>a===l,sqr:a=>ot(a*a,r),add:(a,l)=>ot(a+l,r),sub:(a,l)=>ot(a-l,r),mul:(a,l)=>ot(a*l,r),pow:(a,l)=>Vu(c,a,l),div:(a,l)=>ot(a*qr(l,r),r),sqrN:a=>a*a,addN:(a,l)=>a+l,subN:(a,l)=>a-l,mulN:(a,l)=>a*l,inv:a=>qr(a,r),sqrt:n.sqrt||(a=>s(c,a)),invertBatch:a=>Gu(c,a),cmov:(a,l,d)=>d?l:a,toBytes:a=>e?zr(a,i):ee(a,i),fromBytes:a=>{if(a.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${a.length}`);return e?Fr(a):Ft(a)}});return Object.freeze(c)}function Ls(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let t=r.toString(2).length;return Math.ceil(t/8)}function _o(r){let t=Ls(r);return t+Math.ceil(t/2)}function Ns(r,t,e=!1){let n=r.length,o=Ls(t),i=_o(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);let s=e?Ft(r):Fr(r),c=ot(s,t-G)+G;return e?zr(c,o):ee(c,o)}var zu=BigInt(0),Uo=BigInt(1),Mo=new WeakMap,Ps=new WeakMap;function ks(r,t){let e=(i,s)=>{let c=s.negate();return i?c:s},n=i=>{if(!Number.isSafeInteger(i)||i<=0||i>t)throw new Error(`Wrong window size=${i}, should be [1..${t}]`)},o=i=>{n(i);let s=Math.ceil(t/i)+1,c=2**(i-1);return{windows:s,windowSize:c}};return{constTimeNegate:e,unsafeLadder(i,s){let c=r.ZERO,a=i;for(;s>zu;)s&Uo&&(c=c.add(a)),a=a.double(),s>>=Uo;return c},precomputeWindow(i,s){let{windows:c,windowSize:a}=o(s),l=[],d=i,u=d;for(let y=0;y<c;y++){u=d,l.push(u);for(let g=1;g<a;g++)u=u.add(d),l.push(u);d=u.double()}return l},wNAF(i,s,c){let{windows:a,windowSize:l}=o(i),d=r.ZERO,u=r.BASE,y=BigInt(2**i-1),g=2**i,p=BigInt(i);for(let f=0;f<a;f++){let h=f*l,m=Number(c&y);c>>=p,m>l&&(m-=g,c+=Uo);let b=h,v=h+Math.abs(m)-1,P=f%2!==0,T=m<0;m===0?u=u.add(e(P,s[b])):d=d.add(e(T,s[v]))}return{p:d,f:u}},wNAFCached(i,s,c){let a=Ps.get(i)||1,l=Mo.get(i);return l||(l=this.precomputeWindow(i,a),a!==1&&Mo.set(i,c(l))),this.wNAF(a,l,s)},setWindowSize(i,s){n(s),Ps.set(i,s),Mo.delete(i)}}}function Ko(r){return Oo(r.Fp),ne(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Do(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function Rs(r){r.lowS!==void 0&&me("lowS",r.lowS),r.prehash!==void 0&&me("prehash",r.prehash)}function Hu(r){let t=Ko(r);ne(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:qu,hexToBytes:Wu}=Bo,we={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=we;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:qu(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=we,e=typeof r=="string"?Wu(r):r;Ue(e);let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:o,l:i}=we._parseInt(e.subarray(2)),{d:s,l:c}=we._parseInt(i);if(c.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s}},hexFromSig(r){let t=l=>Number.parseInt(l[0],16)&8?"00"+l:l,e=l=>{let d=l.toString(16);return d.length&1?`0${d}`:d},n=t(e(r.s)),o=t(e(r.r)),i=n.length/2,s=o.length/2,c=e(i),a=e(s);return`30${e(s+i+4)}02${a}${o}02${c}${n}`}},oe=BigInt(0),j=BigInt(1),mp=BigInt(2),Bs=BigInt(3),yp=BigInt(4);function Yu(r){let t=Hu(r),{Fp:e}=t,n=t.toBytes||((p,f,h)=>{let m=f.toAffine();return Me(Uint8Array.from([4]),e.toBytes(m.x),e.toBytes(m.y))}),o=t.fromBytes||(p=>{let f=p.subarray(1),h=e.fromBytes(f.subarray(0,e.BYTES)),m=e.fromBytes(f.subarray(e.BYTES,2*e.BYTES));return{x:h,y:m}});function i(p){let{a:f,b:h}=t,m=e.sqr(p),b=e.mul(m,p);return e.add(e.add(b,e.mul(p,f)),h)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(p){return cr(p,j,t.n)}function c(p){let{allowedPrivateKeyLengths:f,nByteLength:h,wrapPrivateKey:m,n:b}=t;if(f&&typeof p!="bigint"){if(te(p)&&(p=ye(p)),typeof p!="string"||!f.includes(p.length))throw new Error("Invalid key");p=p.padStart(h*2,"0")}let v;try{v=typeof p=="bigint"?p:Ft(wt("private key",p,h))}catch{throw new Error(`private key must be ${h} bytes, hex or bigint, not ${typeof p}`)}return m&&(v=ot(v,b)),re("private key",v,j,b),v}function a(p){if(!(p instanceof u))throw new Error("ProjectivePoint expected")}let l=Hr((p,f)=>{let{px:h,py:m,pz:b}=p;if(e.eql(b,e.ONE))return{x:h,y:m};let v=p.is0();f==null&&(f=v?e.ONE:e.inv(b));let P=e.mul(h,f),T=e.mul(m,f),E=e.mul(b,f);if(v)return{x:e.ZERO,y:e.ZERO};if(!e.eql(E,e.ONE))throw new Error("invZ was invalid");return{x:P,y:T}}),d=Hr(p=>{if(p.is0()){if(t.allowInfinityPoint&&!e.is0(p.py))return;throw new Error("bad point: ZERO")}let{x:f,y:h}=p.toAffine();if(!e.isValid(f)||!e.isValid(h))throw new Error("bad point: x or y not FE");let m=e.sqr(h),b=i(f);if(!e.eql(m,b))throw new Error("bad point: equation left != right");if(!p.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class u{constructor(f,h,m){if(this.px=f,this.py=h,this.pz=m,f==null||!e.isValid(f))throw new Error("x required");if(h==null||!e.isValid(h))throw new Error("y required");if(m==null||!e.isValid(m))throw new Error("z required");Object.freeze(this)}static fromAffine(f){let{x:h,y:m}=f||{};if(!f||!e.isValid(h)||!e.isValid(m))throw new Error("invalid affine point");if(f instanceof u)throw new Error("projective point not allowed");let b=v=>e.eql(v,e.ZERO);return b(h)&&b(m)?u.ZERO:new u(h,m,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(f){let h=e.invertBatch(f.map(m=>m.pz));return f.map((m,b)=>m.toAffine(h[b])).map(u.fromAffine)}static fromHex(f){let h=u.fromAffine(o(wt("pointHex",f)));return h.assertValidity(),h}static fromPrivateKey(f){return u.BASE.multiply(c(f))}_setWindowSize(f){g.setWindowSize(this,f)}assertValidity(){d(this)}hasEvenY(){let{y:f}=this.toAffine();if(e.isOdd)return!e.isOdd(f);throw new Error("Field doesn't support isOdd")}equals(f){a(f);let{px:h,py:m,pz:b}=this,{px:v,py:P,pz:T}=f,E=e.eql(e.mul(h,T),e.mul(v,b)),S=e.eql(e.mul(m,T),e.mul(P,b));return E&&S}negate(){return new u(this.px,e.neg(this.py),this.pz)}double(){let{a:f,b:h}=t,m=e.mul(h,Bs),{px:b,py:v,pz:P}=this,T=e.ZERO,E=e.ZERO,S=e.ZERO,L=e.mul(b,b),X=e.mul(v,v),D=e.mul(P,P),B=e.mul(b,v);return B=e.add(B,B),S=e.mul(b,P),S=e.add(S,S),T=e.mul(f,S),E=e.mul(m,D),E=e.add(T,E),T=e.sub(X,E),E=e.add(X,E),E=e.mul(T,E),T=e.mul(B,T),S=e.mul(m,S),D=e.mul(f,D),B=e.sub(L,D),B=e.mul(f,B),B=e.add(B,S),S=e.add(L,L),L=e.add(S,L),L=e.add(L,D),L=e.mul(L,B),E=e.add(E,L),D=e.mul(v,P),D=e.add(D,D),L=e.mul(D,B),T=e.sub(T,L),S=e.mul(D,X),S=e.add(S,S),S=e.add(S,S),new u(T,E,S)}add(f){a(f);let{px:h,py:m,pz:b}=this,{px:v,py:P,pz:T}=f,E=e.ZERO,S=e.ZERO,L=e.ZERO,X=t.a,D=e.mul(t.b,Bs),B=e.mul(h,v),ht=e.mul(m,P),pt=e.mul(b,T),I=e.add(h,m),x=e.add(v,P);I=e.mul(I,x),x=e.add(B,ht),I=e.sub(I,x),x=e.add(h,b);let N=e.add(v,T);return x=e.mul(x,N),N=e.add(B,pt),x=e.sub(x,N),N=e.add(m,b),E=e.add(P,T),N=e.mul(N,E),E=e.add(ht,pt),N=e.sub(N,E),L=e.mul(X,x),E=e.mul(D,pt),L=e.add(E,L),E=e.sub(ht,L),L=e.add(ht,L),S=e.mul(E,L),ht=e.add(B,B),ht=e.add(ht,B),pt=e.mul(X,pt),x=e.mul(D,x),ht=e.add(ht,pt),pt=e.sub(B,pt),pt=e.mul(X,pt),x=e.add(x,pt),B=e.mul(ht,x),S=e.add(S,B),B=e.mul(N,x),E=e.mul(I,E),E=e.sub(E,B),B=e.mul(I,ht),L=e.mul(N,L),L=e.add(L,B),new u(E,S,L)}subtract(f){return this.add(f.negate())}is0(){return this.equals(u.ZERO)}wNAF(f){return g.wNAFCached(this,f,u.normalizeZ)}multiplyUnsafe(f){re("scalar",f,oe,t.n);let h=u.ZERO;if(f===oe)return h;if(f===j)return this;let{endo:m}=t;if(!m)return g.unsafeLadder(this,f);let{k1neg:b,k1:v,k2neg:P,k2:T}=m.splitScalar(f),E=h,S=h,L=this;for(;v>oe||T>oe;)v&j&&(E=E.add(L)),T&j&&(S=S.add(L)),L=L.double(),v>>=j,T>>=j;return b&&(E=E.negate()),P&&(S=S.negate()),S=new u(e.mul(S.px,m.beta),S.py,S.pz),E.add(S)}multiply(f){let{endo:h,n:m}=t;re("scalar",f,j,m);let b,v;if(h){let{k1neg:P,k1:T,k2neg:E,k2:S}=h.splitScalar(f),{p:L,f:X}=this.wNAF(T),{p:D,f:B}=this.wNAF(S);L=g.constTimeNegate(P,L),D=g.constTimeNegate(E,D),D=new u(e.mul(D.px,h.beta),D.py,D.pz),b=L.add(D),v=X.add(B)}else{let{p:P,f:T}=this.wNAF(f);b=P,v=T}return u.normalizeZ([b,v])[0]}multiplyAndAddUnsafe(f,h,m){let b=u.BASE,v=(T,E)=>E===oe||E===j||!T.equals(b)?T.multiplyUnsafe(E):T.multiply(E),P=v(this,h).add(v(f,m));return P.is0()?void 0:P}toAffine(f){return l(this,f)}isTorsionFree(){let{h:f,isTorsionFree:h}=t;if(f===j)return!0;if(h)return h(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:f,clearCofactor:h}=t;return f===j?this:h?h(u,this):this.multiplyUnsafe(t.h)}toRawBytes(f=!0){return me("isCompressed",f),this.assertValidity(),n(u,this,f)}toHex(f=!0){return me("isCompressed",f),ye(this.toRawBytes(f))}}u.BASE=new u(t.Gx,t.Gy,e.ONE),u.ZERO=new u(e.ZERO,e.ONE,e.ZERO);let y=t.nBitLength,g=ks(u,t.endo?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:i,isWithinCurveOrder:s}}function Zu(r){let t=Ko(r);return ne(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Cs(r){let t=Zu(r),{Fp:e,n}=t,o=e.BYTES+1,i=2*e.BYTES+1;function s(I){return ot(I,n)}function c(I){return qr(I,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:u}=Yu({...t,toBytes(I,x,N){let O=x.toAffine(),C=e.toBytes(O.x),Q=Me;return me("isCompressed",N),N?Q(Uint8Array.from([x.hasEvenY()?2:3]),C):Q(Uint8Array.from([4]),C,e.toBytes(O.y))},fromBytes(I){let x=I.length,N=I[0],O=I.subarray(1);if(x===o&&(N===2||N===3)){let C=Ft(O);if(!cr(C,j,e.ORDER))throw new Error("Point is not on curve");let Q=d(C),ct;try{ct=e.sqrt(Q)}catch(Nt){let qt=Nt instanceof Error?": "+Nt.message:"";throw new Error("Point is not on curve"+qt)}let at=(ct&j)===j;return(N&1)===1!==at&&(ct=e.neg(ct)),{x:C,y:ct}}else if(x===i&&N===4){let C=e.fromBytes(O.subarray(0,e.BYTES)),Q=e.fromBytes(O.subarray(e.BYTES,2*e.BYTES));return{x:C,y:Q}}else throw new Error(`Point of length ${x} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),y=I=>ye(ee(I,t.nByteLength));function g(I){let x=n>>j;return I>x}function p(I){return g(I)?s(-I):I}let f=(I,x,N)=>Ft(I.slice(x,N));class h{constructor(x,N,O){this.r=x,this.s=N,this.recovery=O,this.assertValidity()}static fromCompact(x){let N=t.nByteLength;return x=wt("compactSignature",x,N*2),new h(f(x,0,N),f(x,N,2*N))}static fromDER(x){let{r:N,s:O}=we.toSig(wt("DER",x));return new h(N,O)}assertValidity(){re("r",this.r,j,n),re("s",this.s,j,n)}addRecoveryBit(x){return new h(this.r,this.s,x)}recoverPublicKey(x){let{r:N,s:O,recovery:C}=this,Q=E(wt("msgHash",x));if(C==null||![0,1,2,3].includes(C))throw new Error("recovery id invalid");let ct=C===2||C===3?N+t.n:N;if(ct>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let at=C&1?"03":"02",Ht=a.fromHex(at+y(ct)),Nt=c(ct),qt=s(-Q*Nt),qe=s(O*Nt),Wt=a.BASE.multiplyAndAddUnsafe(Ht,qt,qe);if(!Wt)throw new Error("point at infinify");return Wt.assertValidity(),Wt}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return ge(this.toDERHex())}toDERHex(){return we.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ge(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}let m={isValidPrivateKey(I){try{return l(I),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let I=_o(t.n);return Ns(t.randomBytes(I),t.n)},precompute(I=8,x=a.BASE){return x._setWindowSize(I),x.multiply(BigInt(3)),x}};function b(I,x=!0){return a.fromPrivateKey(I).toRawBytes(x)}function v(I){let x=te(I),N=typeof I=="string",O=(x||N)&&I.length;return x?O===o||O===i:N?O===2*o||O===2*i:I instanceof a}function P(I,x,N=!0){if(v(I))throw new Error("first arg must be private key");if(!v(x))throw new Error("second arg must be public key");return a.fromHex(x).multiply(l(I)).toRawBytes(N)}let T=t.bits2int||function(I){let x=Ft(I),N=I.length*8-t.nBitLength;return N>0?x>>BigInt(N):x},E=t.bits2int_modN||function(I){return s(T(I))},S=ar(t.nBitLength);function L(I){return re(`num < 2^${t.nBitLength}`,I,oe,S),ee(I,t.nByteLength)}function X(I,x,N=D){if(["recovered","canonical"].some(ce=>ce in N))throw new Error("sign() legacy options not supported");let{hash:O,randomBytes:C}=t,{lowS:Q,prehash:ct,extraEntropy:at}=N;Q==null&&(Q=!0),I=wt("msgHash",I),Rs(N),ct&&(I=wt("prehashed msgHash",O(I)));let Ht=E(I),Nt=l(x),qt=[L(Nt),L(Ht)];if(at!=null&&at!==!1){let ce=at===!0?C(e.BYTES):at;qt.push(wt("extraEntropy",ce))}let qe=Me(...qt),Wt=Ht;function Nn(ce){let Se=T(ce);if(!u(Se))return;let bi=c(Se),_t=a.BASE.multiply(Se).toAffine(),Ae=s(_t.x);if(Ae===oe)return;let fr=s(bi*s(Wt+Ae*Nt));if(fr===oe)return;let wi=(_t.x===Ae?0:2)|Number(_t.y&j),xi=fr;return Q&&g(fr)&&(xi=p(fr),wi^=1),new h(Ae,xi,wi)}return{seed:qe,k2sig:Nn}}let D={lowS:t.lowS,prehash:!1},B={lowS:t.lowS,prehash:!1};function ht(I,x,N=D){let{seed:O,k2sig:C}=X(I,x,N),Q=t;return Ro(Q.hash.outputLen,Q.nByteLength,Q.hmac)(O,C)}a.BASE._setWindowSize(8);function pt(I,x,N,O=B){let C=I;if(x=wt("msgHash",x),N=wt("publicKey",N),"strict"in O)throw new Error("options.strict was renamed to lowS");Rs(O);let{lowS:Q,prehash:ct}=O,at,Ht;try{if(typeof C=="string"||te(C))try{at=h.fromDER(C)}catch(_t){if(!(_t instanceof we.Err))throw _t;at=h.fromCompact(C)}else if(typeof C=="object"&&typeof C.r=="bigint"&&typeof C.s=="bigint"){let{r:_t,s:Ae}=C;at=new h(_t,Ae)}else throw new Error("PARSE");Ht=a.fromHex(N)}catch(_t){if(_t.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Q&&at.hasHighS())return!1;ct&&(x=t.hash(x));let{r:Nt,s:qt}=at,qe=E(x),Wt=c(qt),Nn=s(qe*Wt),ce=s(Nt*Wt),Se=a.BASE.multiplyAndAddUnsafe(Ht,Nn,ce)?.toAffine();return Se?s(Se.x)===Nt:!1}return{CURVE:t,getPublicKey:b,getSharedSecret:P,sign:ht,verify:pt,ProjectivePoint:a,Signature:h,utils:m}}function Xu(r){return{hash:r,hmac:(t,...e)=>Ao(r,t,ms(...e)),randomBytes:gs}}function Os(r,t){let e=n=>Cs({...r,...Xu(n)});return Object.freeze({...e(t),create:e})}var Us=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Ds=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Qu=BigInt(1),$o=BigInt(2),_s=(r,t)=>(r+t/$o)/t;function Ju(r){let t=Us,e=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),s=BigInt(23),c=BigInt(44),a=BigInt(88),l=r*r*r%t,d=l*l*r%t,u=xt(d,e,t)*d%t,y=xt(u,e,t)*d%t,g=xt(y,$o,t)*l%t,p=xt(g,o,t)*g%t,f=xt(p,i,t)*p%t,h=xt(f,c,t)*f%t,m=xt(h,a,t)*h%t,b=xt(m,c,t)*f%t,v=xt(b,e,t)*d%t,P=xt(v,s,t)*p%t,T=xt(P,n,t)*l%t,E=xt(T,$o,t);if(!Vo.eql(Vo.sqr(E),r))throw new Error("Cannot find square root");return E}var Vo=Ts(Us,void 0,void 0,{sqrt:Ju}),Ke=Os({a:BigInt(0),b:BigInt(7),Fp:Vo,n:Ds,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=Ds,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Qu*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),c=_s(i*r,t),a=_s(-n*r,t),l=ot(r-c*e-a*o,t),d=ot(-c*n-a*i,t),u=l>s,y=d>s;if(u&&(l=t-l),y&&(d=t-d),l>s||d>s)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:u,k1:l,k2neg:y,k2:d}}}},xs),Ap=BigInt(0);var Tp=Ke.ProjectivePoint;var Ms=mt(W("node:crypto"),1);var Wr=class extends Error{constructor(t="An error occurred while verifying a message"){super(t),this.name="VerificationError"}};function Ks(r,t,e){let n=Ms.default.createHash("sha256");if(e instanceof Uint8Array)n.update(e);else for(let i of e)n.update(i);let o=n.digest();try{return Ke.verify(t,o,r)}catch(i){throw new Wr(String(i))}}var Yr=class{type="secp256k1";raw;_key;constructor(t){this._key=Vs(t),this.raw=$s(this._key)}toMultihash(){return $t.digest(Ce(this))}toCID(){return J.createV1(114,this.toMultihash())}toString(){return U.encode(this.toMultihash().bytes).substring(1)}equals(t){return t==null||!(t.raw instanceof Uint8Array)?!1:Ot(this.raw,t.raw)}verify(t,e){return Ks(this._key,e,t)}};function Gs(r){return new Yr(r)}function $s(r){return Ke.ProjectivePoint.fromHex(r).toRawBytes(!0)}function Vs(r){try{return Ke.ProjectivePoint.fromHex(r),r}catch(t){throw new Cr(String(t))}}function Fs(r){let{Type:t,Data:e}=or.decode(r.digest),n=e??new Uint8Array;switch(t){case Tt.Ed25519:return fs(n);case Tt.secp256k1:return Gs(n);default:throw new rr}}function Ce(r){return or.encode({Type:Tt[r.type],Data:r.raw})}var zs=Symbol.for("nodejs.util.inspect.custom"),ju=114,ur=class{type;multihash;publicKey;string;constructor(t){this.type=t.type,this.multihash=t.multihash,Object.defineProperty(this,"string",{enumerable:!1,writable:!0})}get[Symbol.toStringTag](){return`PeerId(${this.toString()})`}[Eo]=!0;toString(){return this.string==null&&(this.string=U.encode(this.multihash.bytes).slice(1)),this.string}toMultihash(){return this.multihash}toCID(){return J.createV1(ju,this.multihash)}toBytes(){return this.multihash.bytes}toJSON(){return this.toString()}equals(t){if(t==null)return!1;if(t instanceof Uint8Array)return Ot(this.multihash.bytes,t);if(typeof t=="string")return this.toString()===t;if(t?.toMultihash()?.bytes!=null)return Ot(this.multihash.bytes,t.toMultihash().bytes);throw new Error("not valid Id")}[zs](){return`PeerId(${this.toString()})`}},Zr=class extends ur{type="RSA";publicKey;constructor(t){super({...t,type:"RSA"}),this.publicKey=t.publicKey}},Xr=class extends ur{type="Ed25519";publicKey;constructor(t){super({...t,type:"Ed25519"}),this.publicKey=t.publicKey}},Qr=class extends ur{type="secp256k1";publicKey;constructor(t){super({...t,type:"secp256k1"}),this.publicKey=t.publicKey}},tl=2336,Jr=class{type="url";multihash;publicKey;url;constructor(t){this.url=t.toString(),this.multihash=$t.digest(Mt(this.url))}[zs](){return`PeerId(${this.url})`}[Eo]=!0;toString(){return this.toCID().toString()}toMultihash(){return this.multihash}toCID(){return J.createV1(tl,this.toMultihash())}toBytes(){return this.toCID().bytes}toJSON(){return this.toString()}equals(t){return t==null?!1:(t instanceof Uint8Array&&(t=q(t)),t.toString()===this.toString())}};function $e(r){if(rl(r))return new Zr({multihash:r});if(el(r))try{let t=Fs(r);if(t.type==="Ed25519")return new Xr({multihash:r,publicKey:t});if(t.type==="secp256k1")return new Qr({multihash:r,publicKey:t})}catch{let e=q(r.digest);return new Jr(new URL(e))}throw new Or("Supplied PeerID Multihash is invalid")}function el(r){return r.code===$t.code}function rl(r){return r.code===co.code}var bc=mt(W("net"),1);var jr=class{index=0;input="";new(t){return this.index=0,this.input=t,this}readAtomically(t){let e=this.index,n=t();return n===void 0&&(this.index=e),n}parseWith(t){let e=t();if(this.index===this.input.length)return e}peekChar(){if(!(this.index>=this.input.length))return this.input[this.index]}readChar(){if(!(this.index>=this.input.length))return this.input[this.index++]}readGivenChar(t){return this.readAtomically(()=>{let e=this.readChar();if(e===t)return e})}readSeparator(t,e,n){return this.readAtomically(()=>{if(!(e>0&&this.readGivenChar(t)===void 0))return n()})}readNumber(t,e,n,o){return this.readAtomically(()=>{let i=0,s=0,c=this.peekChar();if(c===void 0)return;let a=c==="0",l=2**(8*o)-1;for(;;){let d=this.readAtomically(()=>{let u=this.readChar();if(u===void 0)return;let y=Number.parseInt(u,t);if(!Number.isNaN(y))return y});if(d===void 0)break;if(i*=t,i+=d,i>l||(s+=1,e!==void 0&&s>e))return}if(s!==0)return!n&&a&&s>1?void 0:i})}readIPv4Addr(){return this.readAtomically(()=>{let t=new Uint8Array(4);for(let e=0;e<t.length;e++){let n=this.readSeparator(".",e,()=>this.readNumber(10,3,!1,1));if(n===void 0)return;t[e]=n}return t})}readIPv6Addr(){let t=e=>{for(let n=0;n<e.length/2;n++){let o=n*2;if(n<e.length-3){let s=this.readSeparator(":",n,()=>this.readIPv4Addr());if(s!==void 0)return e[o]=s[0],e[o+1]=s[1],e[o+2]=s[2],e[o+3]=s[3],[o+4,!0]}let i=this.readSeparator(":",n,()=>this.readNumber(16,4,!0,2));if(i===void 0)return[o,!1];e[o]=i>>8,e[o+1]=i&255}return[e.length,!1]};return this.readAtomically(()=>{let e=new Uint8Array(16),[n,o]=t(e);if(n===16)return e;if(o||this.readGivenChar(":")===void 0||this.readGivenChar(":")===void 0)return;let i=new Uint8Array(14),s=16-(n+2),[c]=t(i.subarray(0,s));return e.set(i.subarray(0,c),16-c),e})}readIPAddr(){return this.readIPv4Addr()??this.readIPv6Addr()}};var Lm=new jr;var Dm=parseInt("0xFFFF",16),_m=new Uint8Array([0,0,0,0,0,0,0,0,0,0,255,255]);var Lt=W("node:net");function tn(r){return!!(0,Lt.isIP)(r)}var Ws=Lt.isIPv4,al=Lt.isIPv6,Go=function(r){let t=0;if(r=r.toString().trim(),Ws(r)){let e=new Uint8Array(t+4);return r.split(/\./g).forEach(n=>{e[t++]=parseInt(n,10)&255}),e}if(al(r)){let e=r.split(":",8),n;for(n=0;n<e.length;n++){let i=Ws(e[n]),s;i&&(s=Go(e[n]),e[n]=q(s.slice(0,2),"base16")),s!=null&&++n<8&&e.splice(n,0,q(s.slice(2,4),"base16"))}if(e[0]==="")for(;e.length<8;)e.unshift("0");else if(e[e.length-1]==="")for(;e.length<8;)e.push("0");else if(e.length<8){for(n=0;n<e.length&&e[n]!=="";n++);let i=[n,1];for(n=9-e.length;n>0;n--)i.push("0");e.splice.apply(e,i)}let o=new Uint8Array(t+16);for(n=0;n<e.length;n++){let i=parseInt(e[n],16);o[t++]=i>>8&255,o[t++]=i&255}return o}throw new Error("invalid ip address")},Ys=function(r,t=0,e){t=~~t,e=e??r.length-t;let n=new DataView(r.buffer);if(e===4){let o=[];for(let i=0;i<e;i++)o.push(r[t+i]);return o.join(".")}if(e===16){let o=[];for(let i=0;i<e;i+=2)o.push(n.getUint16(t+i).toString(16));return o.join(":").replace(/(^|:)0(:0)*:0(:|$)/,"$1::$3").replace(/:{3,4}/,"::")}return""};var Ve={},Fo={},ll=[[4,32,"ip4"],[6,16,"tcp"],[33,16,"dccp"],[41,128,"ip6"],[42,-1,"ip6zone"],[43,8,"ipcidr"],[53,-1,"dns",!0],[54,-1,"dns4",!0],[55,-1,"dns6",!0],[56,-1,"dnsaddr",!0],[132,16,"sctp"],[273,16,"udp"],[275,0,"p2p-webrtc-star"],[276,0,"p2p-webrtc-direct"],[277,0,"p2p-stardust"],[280,0,"webrtc-direct"],[281,0,"webrtc"],[290,0,"p2p-circuit"],[301,0,"udt"],[302,0,"utp"],[400,-1,"unix",!1,!0],[421,-1,"ipfs"],[421,-1,"p2p"],[443,0,"https"],[444,96,"onion"],[445,296,"onion3"],[446,-1,"garlic64"],[448,0,"tls"],[449,-1,"sni"],[460,0,"quic"],[461,0,"quic-v1"],[465,0,"webtransport"],[466,-1,"certhash"],[477,0,"ws"],[478,0,"wss"],[479,0,"p2p-websocket-star"],[480,0,"http"],[481,-1,"http-path"],[777,-1,"memory"]];ll.forEach(r=>{let t=fl(...r);Fo[t.code]=t,Ve[t.name]=t});function fl(r,t,e,n,o){return{code:r,size:t,name:e,resolvable:!!n,path:!!o}}function R(r){if(typeof r=="number"){if(Fo[r]!=null)return Fo[r];throw new Error(`no protocol with code: ${r}`)}else if(typeof r=="string"){if(Ve[r]!=null)return Ve[r];throw new Error(`no protocol with name: ${r}`)}throw new Error(`invalid protocol id type: ${typeof r}`)}var xy=R("ip4"),Ey=R("ip6"),vy=R("ipcidr");function Wo(r,t){switch(R(r).code){case 4:case 41:return hl(t);case 42:return qo(t);case 6:case 273:case 33:case 132:return Qs(t).toString();case 53:case 54:case 55:case 56:case 400:case 449:case 777:return qo(t);case 421:return gl(t);case 444:return Xs(t);case 445:return Xs(t);case 466:return yl(t);case 481:return globalThis.encodeURIComponent(qo(t));default:return q(t,"base16")}}function Yo(r,t){switch(R(r).code){case 4:return Zs(t);case 41:return Zs(t);case 42:return Ho(t);case 6:case 273:case 33:case 132:return Zo(parseInt(t,10));case 53:case 54:case 55:case 56:case 400:case 449:case 777:return Ho(t);case 421:return pl(t);case 444:return bl(t);case 445:return wl(t);case 466:return ml(t);case 481:return Ho(globalThis.decodeURIComponent(t));default:return Mt(t,"base16")}}var zo=Object.values(Qe).map(r=>r.decoder),dl=function(){let r=zo[0].or(zo[1]);return zo.slice(2).forEach(t=>r=r.or(t)),r}();function Zs(r){if(!tn(r))throw new Error("invalid ip address");return Go(r)}function hl(r){let t=Ys(r,0,r.length);if(t==null)throw new Error("ipBuff is required");if(!tn(t))throw new Error("invalid ip address");return t}function Zo(r){let t=new ArrayBuffer(2);return new DataView(t).setUint16(0,r),new Uint8Array(t)}function Qs(r){return new DataView(r.buffer).getUint16(r.byteOffset)}function Ho(r){let t=Mt(r),e=Uint8Array.from(Ut(t.length));return bt([e,t],e.length+t.length)}function qo(r){let t=Pt(r);if(r=r.slice(z(t)),r.length!==t)throw new Error("inconsistent lengths");return q(r)}function pl(r){let t;r[0]==="Q"||r[0]==="1"?t=Bt(U.decode(`z${r}`)).bytes:t=J.parse(r).multihash.bytes;let e=Uint8Array.from(Ut(t.length));return bt([e,t],e.length+t.length)}function ml(r){let t=dl.decode(r),e=Uint8Array.from(Ut(t.length));return bt([e,t],e.length+t.length)}function yl(r){let t=Pt(r),e=r.slice(z(t));if(e.length!==t)throw new Error("inconsistent lengths");return"u"+q(e,"base64url")}function gl(r){let t=Pt(r),e=r.slice(z(t));if(e.length!==t)throw new Error("inconsistent lengths");return q(e,"base58btc")}function bl(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==16)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion address.`);let e=Rt.decode("b"+t[0]),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=Zo(n);return bt([e,o],e.length+o.length)}function wl(r){let t=r.split(":");if(t.length!==2)throw new Error(`failed to parse onion addr: ["'${t.join('", "')}'"]' does not contain a port number`);if(t[0].length!==56)throw new Error(`failed to parse onion addr: ${t[0]} not a Tor onion3 address.`);let e=Rt.decode(`b${t[0]}`),n=parseInt(t[1],10);if(n<1||n>65536)throw new Error("Port number is not in range(1, 65536)");let o=Zo(n);return bt([e,o],e.length+o.length)}function Xs(r){let t=r.slice(0,r.length-2),e=r.slice(r.length-2),n=q(t,"base32"),o=Qs(e);return`${n}:${o}`}function Js(r){r=Xo(r);let t=[],e=[],n=null,o=r.split("/").slice(1);if(o.length===1&&o[0]==="")return{bytes:new Uint8Array,string:"/",tuples:[],stringTuples:[],path:null};for(let i=0;i<o.length;i++){let s=o[i],c=R(s);if(c.size===0){t.push([c.code]),e.push([c.code]);continue}if(i++,i>=o.length)throw tc("invalid address: "+r);if(c.path===!0){n=Xo(o.slice(i).join("/")),t.push([c.code,Yo(c.code,n)]),e.push([c.code,n]);break}let a=Yo(c.code,o[i]);t.push([c.code,a]),e.push([c.code,Wo(c.code,a)])}return{string:js(e),bytes:Jo(t),tuples:t,stringTuples:e,path:n}}function Qo(r){let t=[],e=[],n=null,o=0;for(;o<r.length;){let i=Pt(r,o),s=z(i),c=R(i),a=xl(c,r.slice(o+s));if(a===0){t.push([i]),e.push([i]),o+=s;continue}let l=r.slice(o+s,o+s+a);if(o+=a+s,o>r.length)throw tc("Invalid address Uint8Array: "+q(r,"base16"));t.push([i,l]);let d=Wo(i,l);if(e.push([i,d]),c.path===!0){n=d;break}}return{bytes:Uint8Array.from(r),string:js(e),tuples:t,stringTuples:e,path:n}}function js(r){let t=[];return r.map(e=>{let n=R(e[0]);return t.push(n.name),e.length>1&&e[1]!=null&&t.push(e[1]),null}),Xo(t.join("/"))}function Jo(r){return bt(r.map(t=>{let e=R(t[0]),n=Uint8Array.from(Ut(e.code));return t.length>1&&t[1]!=null&&(n=bt([n,t[1]])),n}))}function xl(r,t){if(r.size>0)return r.size/8;if(r.size===0)return 0;{let e=Pt(t instanceof Uint8Array?t:Uint8Array.from(t));return e+z(e)}}function Xo(r){return"/"+r.trim().split("/").filter(t=>t).join("/")}function tc(r){return new Error("Error parsing address: "+r)}var El=Symbol.for("nodejs.util.inspect.custom"),jo=Symbol.for("@multiformats/js-multiaddr/multiaddr"),vl=[R("dns").code,R("dns4").code,R("dns6").code,R("dnsaddr").code],en=class r{bytes;#t;#e;#r;#n;[jo]=!0;constructor(t){t==null&&(t="");let e;if(t instanceof Uint8Array)e=Qo(t);else if(typeof t=="string"){if(t.length>0&&t.charAt(0)!=="/")throw new Error(`multiaddr "${t}" must start with a "/"`);e=Js(t)}else if(rc(t))e=Qo(t.bytes);else throw new Error("addr must be a string, Buffer, or another Multiaddr");this.bytes=e.bytes,this.#t=e.string,this.#e=e.tuples,this.#r=e.stringTuples,this.#n=e.path}toString(){return this.#t}toJSON(){return this.toString()}toOptions(){let t,e,n,o,i="",s=R("tcp"),c=R("udp"),a=R("ip4"),l=R("ip6"),d=R("dns6"),u=R("ip6zone");for(let[g,p]of this.stringTuples())g===u.code&&(i=`%${p??""}`),vl.includes(g)&&(e=s.name,o=443,n=`${p??""}${i}`,t=g===d.code?6:4),(g===s.code||g===c.code)&&(e=R(g).name,o=parseInt(p??"")),(g===a.code||g===l.code)&&(e=R(g).name,n=`${p??""}${i}`,t=g===l.code?6:4);if(t==null||e==null||n==null||o==null)throw new Error('multiaddr must have a valid format: "/{ip4, ip6, dns4, dns6, dnsaddr}/{address}/{tcp, udp}/{port}".');return{family:t,host:n,transport:e,port:o}}protos(){return this.#e.map(([t])=>Object.assign({},R(t)))}protoCodes(){return this.#e.map(([t])=>t)}protoNames(){return this.#e.map(([t])=>R(t).name)}tuples(){return this.#e}stringTuples(){return this.#r}encapsulate(t){return t=new r(t),new r(this.toString()+t.toString())}decapsulate(t){let e=t.toString(),n=this.toString(),o=n.lastIndexOf(e);if(o<0)throw new Error(`Address ${this.toString()} does not contain subaddress: ${t.toString()}`);return new r(n.slice(0,o))}decapsulateCode(t){let e=this.tuples();for(let n=e.length-1;n>=0;n--)if(e[n][0]===t)return new r(Jo(e.slice(0,n)));return this}getPeerId(){try{let t=[];this.stringTuples().forEach(([n,o])=>{n===Ve.p2p.code&&t.push([n,o]),n===Ve["p2p-circuit"].code&&(t=[])});let e=t.pop();if(e?.[1]!=null){let n=e[1];return n[0]==="Q"||n[0]==="1"?q(U.decode(`z${n}`),"base58btc"):q(J.parse(n).multihash.bytes,"base58btc")}return null}catch{return null}}getPath(){return this.#n}equals(t){return Ot(this.bytes,t.bytes)}async resolve(t){let e=this.protos().find(i=>i.resolvable);if(e==null)return[this];let n=ec.get(e.name);if(n==null)throw new Y(`no available resolver for ${e.name}`,"ERR_NO_AVAILABLE_RESOLVER");return(await n(this,t)).map(i=>ft(i))}nodeAddress(){let t=this.toOptions();if(t.transport!=="tcp"&&t.transport!=="udp")throw new Error(`multiaddr must have a valid format - no protocol with name: "${t.transport}". Must have a valid transport protocol: "{tcp, udp}"`);return{family:t.family,address:t.host,port:t.port}}isThinWaistAddress(t){let e=(t??this).protos();return!(e.length!==2||e[0].code!==4&&e[0].code!==41||e[1].code!==6&&e[1].code!==273)}[El](){return`Multiaddr(${this.#t})`}};var ec=new Map;function rc(r){return!!r?.[jo]}function ft(r){return new en(r)}var Il=w("dns4"),Sl=w("dns6"),Al=w("dnsaddr"),Ee=F(w("dns"),Al,Il,Sl),on=F(w("ip4"),w("ip6")),se=F(A(on,w("tcp")),A(Ee,w("tcp"))),sn=A(on,w("udp")),Tl=A(sn,w("utp")),Ll=A(sn,w("quic")),Nl=A(sn,w("quic-v1")),ti=F(A(se,w("ws")),A(Ee,w("ws"))),rn=F(A(ti,w("p2p")),ti),ei=F(A(se,w("wss")),A(Ee,w("wss")),A(se,w("tls"),w("ws")),A(Ee,w("tls"),w("ws"))),nn=F(A(ei,w("p2p")),ei),ri=F(A(se,w("http")),A(on,w("http")),A(Ee,w("http"))),ni=F(A(se,w("https")),A(on,w("https")),A(Ee,w("https"))),nc=A(sn,w("webrtc-direct"),w("certhash")),sc=F(A(nc,w("p2p")),nc),oc=A(Nl,w("webtransport"),w("certhash"),w("certhash")),cc=F(A(oc,w("p2p")),oc),ac=F(A(rn,w("p2p-webrtc-star"),w("p2p")),A(nn,w("p2p-webrtc-star"),w("p2p")),A(rn,w("p2p-webrtc-star")),A(nn,w("p2p-webrtc-star"))),Yy=F(A(rn,w("p2p-websocket-star"),w("p2p")),A(nn,w("p2p-websocket-star"),w("p2p")),A(rn,w("p2p-websocket-star")),A(nn,w("p2p-websocket-star"))),uc=F(A(ri,w("p2p-webrtc-direct"),w("p2p")),A(ni,w("p2p-webrtc-direct"),w("p2p")),A(ri,w("p2p-webrtc-direct")),A(ni,w("p2p-webrtc-direct"))),ve=F(ti,ei,ri,ni,ac,uc,se,Tl,Ll,Ee,sc,cc),Zy=F(A(ve,w("p2p-stardust"),w("p2p")),A(ve,w("p2p-stardust"))),ie=F(A(ve,w("p2p")),ac,uc,sc,cc,w("p2p")),ic=F(A(ie,w("p2p-circuit"),ie),A(ie,w("p2p-circuit")),A(w("p2p-circuit"),ie),A(ve,w("p2p-circuit")),A(w("p2p-circuit"),ve),w("p2p-circuit")),lc=()=>F(A(ic,lc),ic),xe=lc(),Xy=F(A(xe,ie,xe),A(ie,xe),A(xe,ie),xe,ie);var Qy=F(A(xe,w("webrtc"),w("p2p")),A(xe,w("webrtc")),A(ve,w("webrtc"),w("p2p")),A(ve,w("webrtc")),w("webrtc"));function fc(r){function t(e){let n;try{n=ft(e)}catch{return!1}let o=r(n.protoNames());return o===null?!1:o===!0||o===!1?o:o.length===0}return t}function A(...r){function t(e){if(e.length<r.length)return null;let n=e;return r.some(o=>(n=typeof o=="function"?o().partialMatch(e):o.partialMatch(e),Array.isArray(n)&&(e=n),n===null)),n}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:fc(t),partialMatch:t}}function F(...r){function t(n){let o=null;return r.some(i=>{let s=typeof i=="function"?i().partialMatch(n):i.partialMatch(n);return s!=null?(o=s,!0):!1}),o}return{toString:function(){return"{ "+r.join(" ")+" }"},input:r,matches:fc(t),partialMatch:t}}function w(r){let t=r;function e(o){let i;try{i=ft(o)}catch{return!1}let s=i.protoNames();return s.length===1&&s[0]===t}function n(o){return o.length===0?null:o[0]===t?o.slice(1):null}return{toString:function(){return t},matches:e,partialMatch:n}}var cn=class extends Event{type;detail;constructor(t,e){super(t),this.type=t,this.detail=e}};var gc=mt(W("net"),1);var oi={ERR_INVALID_IP_PARAMETER:"ERR_INVALID_IP_PARAMETER",ERR_INVALID_PORT_PARAMETER:"ERR_INVALID_PORT_PARAMETER",ERR_INVALID_IP:"ERR_INVALID_IP"};function dc(r,t){if(typeof r!="string")throw new Y(`invalid ip provided: ${r}`,oi.ERR_INVALID_IP_PARAMETER);if(typeof t=="string"&&(t=parseInt(t)),isNaN(t))throw new Y(`invalid port provided: ${t}`,oi.ERR_INVALID_PORT_PARAMETER);if((0,Lt.isIPv4)(r))return ft(`/ip4/${r}/tcp/${t}`);if((0,Lt.isIPv6)(r))return ft(`/ip6/${r}/tcp/${t}`);throw new Y(`invalid ip:port for creating a multiaddr: ${r}:${t}`,oi.ERR_INVALID_IP)}function hc(r){if(Rl(r))return async function*(){let t=r.getReader();try{for(;;){let{done:e,value:n}=await t.read();if(e)return;yield n}}finally{t.releaseLock()}}();if(kl(r))return r;throw new Error("unknown stream")}function kl(r){return r[Symbol.asyncIterator]!=null}function Rl(r){return typeof r?.getReader=="function"}function pc(r){return async t=>{let e=async()=>{Bl(t)&&await t.return(void 0)},n,o,i=m=>{n=m,e().catch(b=>{b=new AggregateError([n,b],"The Writable emitted an error, additionally an error occurred while ending the Source")}).finally(()=>{o?.(m)})},s,c=!1,a=()=>{c=!0,s?.()},l,d=!1,u=()=>{d=!0,l?.()},y,g=()=>{y?.()},p=async()=>new Promise((m,b)=>{s=y=m,o=b,r.once("drain",g)}),f=async()=>(await e(),new Promise((m,b)=>{if(c||d||n!=null){m();return}l=s=m,o=b})),h=()=>{r.removeListener("error",i),r.removeListener("close",a),r.removeListener("finish",u),r.removeListener("drain",g)};r.once("error",i),r.once("close",a),r.once("finish",u);try{for await(let m of t){if(!r.writable||r.destroyed||n!=null)break;r.write(m)||await p()}}catch(m){n==null&&r.destroy(m),n=m}try{if(r.writable&&r.end(),await f(),n!=null)throw n}finally{h()}}}function Bl(r){return r.return!=null}function ii(r){return{sink:pc(r),source:hc(r)}}var si=mt(W("os"),1),mc=mt(W("path"),1);var Cl={ip4:"IPv4",ip6:"IPv6"};function Ge(r,t={}){let e=r.getPath();return e!=null?si.default.platform()==="win32"?{path:mc.default.join("\\\\.\\pipe\\",e)}:{path:e}:{...t,...r.toOptions()}}function ci(r,t,e){let n=o=>ft(`/${r}/${o}/tcp/${e}`);return(Ol(t)?_l(Cl[r]):[t]).map(n)}function Ol(r){return["0.0.0.0","::"].includes(r)}var Dl=si.default.networkInterfaces();function _l(r){let t=[];for(let[,e]of Object.entries(Dl))if(e!=null)for(let n of e)n.family===r&&t.push(n.address);return t}var an=(r,t)=>{let e=null,n=t.logger.forComponent("libp2p:tcp:socket"),o=t.metrics,i=t.metricPrefix??"",s=t.socketInactivityTimeout??3e5,c=t.socketCloseTimeout??500;t.listeningAddr?.getPath()!=null&&(t.remoteAddr=t.listeningAddr),t.remoteAddr?.getPath()!=null&&(t.localAddr=t.remoteAddr);let a;if(t.remoteAddr!=null)a=t.remoteAddr;else{if(r.remoteAddress==null||r.remotePort==null)throw new Y("Could not determine remote address or port","ERR_NO_REMOTE_ADDRESS");a=dc(r.remoteAddress,r.remotePort)}let l=Ge(a),d=l.path??`${l.host??""}:${l.port??""}`,{sink:u,source:y}=ii(r);r.setTimeout(s,()=>{n("%s socket read timeout",d),o?.increment({[`${i}timeout`]:!0});let p;r.readable&&(p=new Y("Socket read timeout","ERR_SOCKET_READ_TIMEOUT")),r.destroy(p)}),r.once("close",()=>{n("%s socket close",d),o?.increment({[`${i}close`]:!0}),g.timeline.close==null&&(g.timeline.close=Date.now())}),r.once("end",()=>{n("%s socket end",d),o?.increment({[`${i}end`]:!0})});let g={async sink(p){try{await u(async function*(){for await(let f of p)f instanceof Uint8Array?yield f:yield f.subarray()}())}catch(f){f.type!=="aborted"&&n.error("%s error in sink",d,f)}r.end()},source:y,remoteAddr:a,timeline:{open:Date.now()},async close(p={}){if(r.destroyed){n("The %s socket is destroyed",d);return}if(e!=null)return n("The %s socket is closed or closing",d),e;if(p.signal==null){let h=AbortSignal.timeout(c);p={...p,signal:h}}let f=()=>{r.destroy(new Y("Destroying socket after timeout","ERR_CLOSE_TIMEOUT"))};p.signal?.addEventListener("abort",f);try{n("%s closing socket",d),e=new Promise((h,m)=>{r.once("close",()=>{n("%s socket closed",d),h()}),r.once("error",b=>{n("%s socket error",d,b),g.timeline.close==null&&(g.timeline.close=Date.now()),r.destroyed||m(b)}),r.setTimeout(c),r.end(),r.writableLength>0?r.once("drain",()=>{n("%s socket drained",d),r.destroy()}):r.destroy()}),await e}catch(h){this.abort(h)}finally{p.signal?.removeEventListener("abort",f)}},abort:p=>{n("%s socket abort due to error",d,p),r.destroyed||r.destroy(p),g.timeline.close==null&&(g.timeline.close=Date.now())},log:n};return g};async function yc(r,t){try{await r.close()}catch(e){t.log.error("an error occurred closing the connection",e),r.abort(e)}}var tt;(function(r){r[r.INACTIVE=0]="INACTIVE",r[r.ACTIVE=1]="ACTIVE",r[r.PAUSED=2]="PAUSED"})(tt||(tt={}));var un=class extends Dr{context;server;connections=new Set;status={code:tt.INACTIVE};metrics;addr;log;constructor(t){if(super(),this.context=t,t.keepAlive=t.keepAlive??!0,t.noDelay=t.noDelay??!0,this.log=t.logger.forComponent("libp2p:tcp:listener"),this.addr="unknown",this.server=gc.default.createServer(t,this.onSocket.bind(this)),t.maxConnections!==void 0&&(this.server.maxConnections=t.maxConnections),t.closeServerOnMaxConnections!=null&&t.closeServerOnMaxConnections.closeAbove<t.closeServerOnMaxConnections.listenBelow)throw new Y("closeAbove must be >= listenBelow","ERR_CONNECTION_LIMITS");this.server.on("listening",()=>{if(t.metrics!=null){let e=this.server.address();e==null?this.addr="unknown":typeof e=="string"?this.addr=e:this.addr=`${e.address}:${e.port}`,t.metrics?.registerMetricGroup("libp2p_tcp_inbound_connections_total",{label:"address",help:"Current active connections in TCP listener",calculate:()=>({[this.addr]:this.connections.size})}),this.metrics={status:t.metrics.registerMetricGroup("libp2p_tcp_listener_status_info",{label:"address",help:"Current status of the TCP listener socket"}),errors:t.metrics.registerMetricGroup("libp2p_tcp_listener_errors_total",{label:"address",help:"Total count of TCP listener errors by type"}),events:t.metrics.registerMetricGroup("libp2p_tcp_listener_events_total",{label:"address",help:"Total count of TCP listener events by type"})},this.metrics?.status.update({[this.addr]:tt.ACTIVE})}this.safeDispatchEvent("listening")}).on("error",e=>{this.metrics?.errors.increment({[`${this.addr} listen_error`]:!0}),this.safeDispatchEvent("error",{detail:e})}).on("close",()=>{this.metrics?.status.update({[this.addr]:this.status.code}),this.status.code!==tt.PAUSED&&this.safeDispatchEvent("close")})}onSocket(t){if(this.status.code!==tt.ACTIVE)throw new Y("Server is not listening yet","ERR_SERVER_NOT_RUNNING");t.on("error",n=>{this.log("socket error",n),this.metrics?.events.increment({[`${this.addr} error`]:!0})});let e;try{e=an(t,{listeningAddr:this.status.listeningAddr,socketInactivityTimeout:this.context.socketInactivityTimeout,socketCloseTimeout:this.context.socketCloseTimeout,metrics:this.metrics?.events,metricPrefix:`${this.addr} `,logger:this.context.logger})}catch(n){this.log.error("inbound connection failed",n),this.metrics?.errors.increment({[`${this.addr} inbound_to_connection`]:!0});return}this.log("new inbound connection %s",e.remoteAddr);try{this.context.upgrader.upgradeInbound(e).then(n=>{this.log("inbound connection upgraded %s",e.remoteAddr),this.connections.add(e),t.once("close",()=>{this.connections.delete(e),this.context.closeServerOnMaxConnections!=null&&this.connections.size<this.context.closeServerOnMaxConnections.listenBelow&&this.resume().catch(o=>{this.log.error("error attempting to listen server once connection count under limit",o),this.context.closeServerOnMaxConnections?.onListenError?.(o)})}),this.context.handler!=null&&this.context.handler(n),this.context.closeServerOnMaxConnections!=null&&this.connections.size>=this.context.closeServerOnMaxConnections.closeAbove&&this.pause(!1).catch(o=>{this.log.error("error attempting to close server once connection count over limit",o)}),this.safeDispatchEvent("connection",{detail:n})}).catch(async n=>{this.log.error("inbound connection failed",n),this.metrics?.errors.increment({[`${this.addr} inbound_upgrade`]:!0}),await yc(e,{log:this.log})}).catch(n=>{this.log.error("closing inbound connection failed",n)})}catch(n){this.log.error("inbound connection failed",n),yc(e,{log:this.log}).catch(o=>{this.log.error("closing inbound connection failed",o),this.metrics?.errors.increment({[`${this.addr} inbound_closing_failed`]:!0})})}}getAddrs(){if(this.status.code===tt.INACTIVE)return[];let t=[],e=this.server.address(),{listeningAddr:n,peerId:o}=this.status;if(e==null)return[];if(typeof e=="string")t=[n];else try{n.toString().startsWith("/ip4")?t=t.concat(ci("ip4",e.address,e.port)):e.family==="IPv6"&&(t=t.concat(ci("ip6",e.address,e.port)))}catch(i){this.log.error("could not turn %s:%s into multiaddr",e.address,e.port,i)}return t.map(i=>o!=null?i.encapsulate(`/p2p/${o}`):i)}async listen(t){if(this.status.code===tt.ACTIVE||this.status.code===tt.PAUSED)throw new Y("server is already listening","ERR_SERVER_ALREADY_LISTENING");let e=t.getPeerId(),n=e==null?t.decapsulateCode(421):t,{backlog:o}=this.context;try{this.status={code:tt.ACTIVE,listeningAddr:n,peerId:e,netConfig:Ge(n,{backlog:o})},await this.resume()}catch(i){throw this.status={code:tt.INACTIVE},i}}async close(){let t=new Y("Listener is closing","ERR_LISTENER_CLOSING");this.connections.forEach(e=>{e.abort(t)}),await this.pause(!0)}async resume(){if(this.server.listening||this.status.code===tt.INACTIVE)return;let t=this.status.netConfig;await new Promise((e,n)=>{this.server.once("error",n),this.server.listen(t,e)}),this.status={...this.status,code:tt.ACTIVE},this.log("listening on %s",this.server.address())}async pause(t){if(!this.server.listening&&this.status.code===tt.PAUSED&&t){this.status={code:tt.INACTIVE};return}!this.server.listening||this.status.code!==tt.ACTIVE||(this.log("closing server on %s",this.server.address()),this.status=t?{code:tt.INACTIVE}:{...this.status,code:tt.PAUSED},await new Promise((e,n)=>{this.server.close(o=>{if(o!=null){n(o);return}e()})}))}};var ai=class{opts;metrics;components;log;constructor(t,e={}){this.log=t.logger.forComponent("libp2p:tcp"),this.opts=e,this.components=t,t.metrics!=null&&(this.metrics={dialerEvents:t.metrics.registerCounterGroup("libp2p_tcp_dialer_events_total",{label:"event",help:"Total count of TCP dialer events by type"})})}[ns]=!0;[Symbol.toStringTag]="@libp2p/tcp";[ss]=["@libp2p/transport"];async dial(t,e){e.keepAlive=e.keepAlive??!0,e.noDelay=e.noDelay??!0;let n=await this._connect(t,e);n.on("error",c=>{this.log("socket error",c)});let o=an(n,{remoteAddr:t,socketInactivityTimeout:this.opts.outboundSocketInactivityTimeout,socketCloseTimeout:this.opts.socketCloseTimeout,metrics:this.metrics?.dialerEvents,logger:this.components.logger}),i=()=>{o.close().catch(c=>{this.log.error("Error closing maConn after abort",c)})};e.signal?.addEventListener("abort",i,{once:!0}),this.log("new outbound connection %s",o.remoteAddr);let s=await e.upgrader.upgradeOutbound(o);if(this.log("outbound connection %s upgraded",o.remoteAddr),e.signal?.removeEventListener("abort",i),e.signal?.aborted===!0)throw s.close().catch(c=>{this.log.error("Error closing conn after abort",c)}),new er;return s}async _connect(t,e){return e.signal?.throwIfAborted(),e.onProgress?.(new cn("tcp:open-connection")),new Promise((n,o)=>{let i=Date.now(),s=Ge(t,{...this.opts.dialOpts??{},...e});this.log("dialing %a",t);let c=bc.default.connect(s),a=g=>{let p=s.path??`${s.host??""}:${s.port}`;g.message=`connection error ${p}: ${g.message}`,this.metrics?.dialerEvents.increment({error:!0}),y(g)},l=()=>{this.log("connection timeout %a",t),this.metrics?.dialerEvents.increment({timeout:!0});let g=new Y(`connection timeout after ${Date.now()-i}ms`,"ERR_CONNECT_TIMEOUT");c.emit("error",g)},d=()=>{this.log("connection opened %a",t),this.metrics?.dialerEvents.increment({connect:!0}),y()},u=()=>{this.log("connection aborted %a",t),this.metrics?.dialerEvents.increment({abort:!0}),c.destroy(),y(new er)},y=g=>{if(c.removeListener("error",a),c.removeListener("timeout",l),c.removeListener("connect",d),e.signal!=null&&e.signal.removeEventListener("abort",u),g!=null){o(g);return}n(c)};c.on("error",a),c.on("timeout",l),c.on("connect",d),e.signal!=null&&e.signal.addEventListener("abort",u)})}createListener(t){return new un({...this.opts.listenOpts??{},...t,maxConnections:this.opts.maxConnections,backlog:this.opts.backlog,closeServerOnMaxConnections:this.opts.closeServerOnMaxConnections,socketInactivityTimeout:this.opts.inboundSocketInactivityTimeout,socketCloseTimeout:this.opts.socketCloseTimeout,metrics:this.components.metrics,logger:this.components.logger})}listenFilter(t){return t=Array.isArray(t)?t:[t],t.filter(e=>e.protoCodes().includes(290)?!1:e.protoCodes().includes(400)?!0:se.matches(e.decapsulateCode(421)))}dialFilter(t){return this.listenFilter(t)}};function wc(r={}){return t=>new ai(t,r)}var Ec=Symbol.for("@achingbrain/uint8arraylist");function xc(r,t){if(t==null||t<0)throw new RangeError("index is out of bounds");let e=0;for(let n of r){let o=e+n.byteLength;if(t<o)return{buf:n,index:t-e};e=o}throw new RangeError("index is out of bounds")}function ln(r){return!!r?.[Ec]}var Et=class r{bufs;length;[Ec]=!0;constructor(...t){this.bufs=[],this.length=0,t.length>0&&this.appendAll(t)}*[Symbol.iterator](){yield*this.bufs}get byteLength(){return this.length}append(...t){this.appendAll(t)}appendAll(t){let e=0;for(let n of t)if(n instanceof Uint8Array)e+=n.byteLength,this.bufs.push(n);else if(ln(n))e+=n.byteLength,this.bufs.push(...n.bufs);else throw new Error("Could not append value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}prepend(...t){this.prependAll(t)}prependAll(t){let e=0;for(let n of t.reverse())if(n instanceof Uint8Array)e+=n.byteLength,this.bufs.unshift(n);else if(ln(n))e+=n.byteLength,this.bufs.unshift(...n.bufs);else throw new Error("Could not prepend value, must be an Uint8Array or a Uint8ArrayList");this.length+=e}get(t){let e=xc(this.bufs,t);return e.buf[e.index]}set(t,e){let n=xc(this.bufs,t);n.buf[n.index]=e}write(t,e=0){if(t instanceof Uint8Array)for(let n=0;n<t.length;n++)this.set(e+n,t[n]);else if(ln(t))for(let n=0;n<t.length;n++)this.set(e+n,t.get(n));else throw new Error("Could not write value, must be an Uint8Array or a Uint8ArrayList")}consume(t){if(t=Math.trunc(t),!(Number.isNaN(t)||t<=0)){if(t===this.byteLength){this.bufs=[],this.length=0;return}for(;this.bufs.length>0;)if(t>=this.bufs[0].byteLength)t-=this.bufs[0].byteLength,this.length-=this.bufs[0].byteLength,this.bufs.shift();else{this.bufs[0]=this.bufs[0].subarray(t),this.length-=t;break}}}slice(t,e){let{bufs:n,length:o}=this._subList(t,e);return bt(n,o)}subarray(t,e){let{bufs:n,length:o}=this._subList(t,e);return n.length===1?n[0]:bt(n,o)}sublist(t,e){let{bufs:n,length:o}=this._subList(t,e),i=new r;return i.length=o,i.bufs=[...n],i}_subList(t,e){if(t=t??0,e=e??this.length,t<0&&(t=this.length+t),e<0&&(e=this.length+e),t<0||e>this.length)throw new RangeError("index is out of bounds");if(t===e)return{bufs:[],length:0};if(t===0&&e===this.length)return{bufs:this.bufs,length:this.length};let n=[],o=0;for(let i=0;i<this.bufs.length;i++){let s=this.bufs[i],c=o,a=c+s.byteLength;if(o=a,t>=a)continue;let l=t>=c&&t<a,d=e>c&&e<=a;if(l&&d){if(t===c&&e===a){n.push(s);break}let u=t-c;n.push(s.subarray(u,u+(e-t)));break}if(l){if(t===0){n.push(s);continue}n.push(s.subarray(t-c));continue}if(d){if(e===a){n.push(s);break}n.push(s.subarray(0,e-c));break}n.push(s)}return{bufs:n,length:e-t}}indexOf(t,e=0){if(!ln(t)&&!(t instanceof Uint8Array))throw new TypeError('The "value" argument must be a Uint8ArrayList or Uint8Array');let n=t instanceof Uint8Array?t:t.subarray();if(e=Number(e??0),isNaN(e)&&(e=0),e<0&&(e=this.length+e),e<0&&(e=0),t.length===0)return e>this.length?this.length:e;let o=n.byteLength;if(o===0)throw new TypeError("search must be at least 1 byte long");let i=256,s=new Int32Array(i);for(let u=0;u<i;u++)s[u]=-1;for(let u=0;u<o;u++)s[n[u]]=u;let c=s,a=this.byteLength-n.byteLength,l=n.byteLength-1,d;for(let u=e;u<=a;u+=d){d=0;for(let y=l;y>=0;y--){let g=this.get(u+y);if(n[y]!==g){d=Math.max(1,y-c[g]);break}}if(d===0)return u}return-1}getInt8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getInt8(0)}setInt8(t,e){let n=lt(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setInt8(0,e),this.write(n,t)}getInt16(t,e){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt16(0,e)}setInt16(t,e,n){let o=Kt(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt16(0,e,n),this.write(o,t)}getInt32(t,e){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getInt32(0,e)}setInt32(t,e,n){let o=Kt(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setInt32(0,e,n),this.write(o,t)}getBigInt64(t,e){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigInt64(0,e)}setBigInt64(t,e,n){let o=Kt(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigInt64(0,e,n),this.write(o,t)}getUint8(t){let e=this.subarray(t,t+1);return new DataView(e.buffer,e.byteOffset,e.byteLength).getUint8(0)}setUint8(t,e){let n=lt(1);new DataView(n.buffer,n.byteOffset,n.byteLength).setUint8(0,e),this.write(n,t)}getUint16(t,e){let n=this.subarray(t,t+2);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint16(0,e)}setUint16(t,e,n){let o=Kt(2);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint16(0,e,n),this.write(o,t)}getUint32(t,e){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getUint32(0,e)}setUint32(t,e,n){let o=Kt(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setUint32(0,e,n),this.write(o,t)}getBigUint64(t,e){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getBigUint64(0,e)}setBigUint64(t,e,n){let o=Kt(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setBigUint64(0,e,n),this.write(o,t)}getFloat32(t,e){let n=this.subarray(t,t+4);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat32(0,e)}setFloat32(t,e,n){let o=Kt(4);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat32(0,e,n),this.write(o,t)}getFloat64(t,e){let n=this.subarray(t,t+8);return new DataView(n.buffer,n.byteOffset,n.byteLength).getFloat64(0,e)}setFloat64(t,e,n){let o=Kt(8);new DataView(o.buffer,o.byteOffset,o.byteLength).setFloat64(0,e,n),this.write(o,t)}equals(t){if(t==null||!(t instanceof r)||t.bufs.length!==this.bufs.length)return!1;for(let e=0;e<this.bufs.length;e++)if(!Ot(this.bufs[e],t.bufs[e]))return!1;return!0}static fromUint8Arrays(t,e){let n=new r;return n.bufs=t,e==null&&(e=t.reduce((o,i)=>o+i.byteLength,0)),n.length=e,n}};function fn(r){return r[Symbol.asyncIterator]!=null}var dn=r=>{let t=z(r),e=lt(t);return Ut(r,e),dn.bytes=t,e};dn.bytes=0;function hn(r,t){t=t??{};let e=t.lengthEncoder??dn;function*n(o){let i=e(o.byteLength);i instanceof Uint8Array?yield i:yield*i,o instanceof Uint8Array?yield o:yield*o}return fn(r)?async function*(){for await(let o of r)yield*n(o)}():function*(){for(let o of r)yield*n(o)}()}hn.single=(r,t)=>{t=t??{};let e=t.lengthEncoder??dn;return new Et(e(r.byteLength),r)};var pn=class extends Error{name="InvalidMessageLengthError";code="ERR_INVALID_MSG_LENGTH"},mn=class extends Error{name="InvalidDataLengthError";code="ERR_MSG_DATA_TOO_LONG"},yn=class extends Error{name="InvalidDataLengthLengthError";code="ERR_MSG_LENGTH_TOO_LONG"},lr=class extends Error{name="UnexpectedEOFError";code="ERR_UNEXPECTED_EOF"};var Ml=8,Kl=1024*1024*4,Ie;(function(r){r[r.LENGTH=0]="LENGTH",r[r.DATA=1]="DATA"})(Ie||(Ie={}));var li=r=>{let t=Pt(r);return li.bytes=z(t),t};li.bytes=0;function ui(r,t){let e=new Et,n=Ie.LENGTH,o=-1,i=t?.lengthDecoder??li,s=t?.maxLengthLength??Ml,c=t?.maxDataLength??Kl;function*a(){for(;e.byteLength>0;){if(n===Ie.LENGTH)try{if(o=i(e),o<0)throw new pn("Invalid message length");if(o>c)throw new mn("Message length too long");let l=i.bytes;e.consume(l),t?.onLength!=null&&t.onLength(o),n=Ie.DATA}catch(l){if(l instanceof RangeError){if(e.byteLength>s)throw new yn("Message length length too long");break}throw l}if(n===Ie.DATA){if(e.byteLength<o)break;let l=e.sublist(0,o);e.consume(o),t?.onData!=null&&t.onData(l),yield l,n=Ie.LENGTH}}}return fn(r)?async function*(){for await(let l of r)e.append(l),yield*a();if(e.byteLength>0)throw new lr("Unexpected end of input")}():function*(){for(let l of r)e.append(l),yield*a();if(e.byteLength>0)throw new lr("Unexpected end of input")}()}ui.fromReader=(r,t)=>{let e=1,n=async function*(){for(;;)try{let{done:i,value:s}=await r.next(e);if(i===!0)return;s!=null&&(yield s)}catch(i){if(i.code==="ERR_UNDER_READ")return{done:!0,value:null};throw i}finally{e=1}}();return ui(n,{...t??{},onLength:i=>{e=i}})};function zt(){let r={};return r.promise=new Promise((t,e)=>{r.resolve=t,r.reject=e}),r}var gn=class extends Error{type;code;constructor(t,e,n){super(t??"The operation was aborted"),this.type="aborted",this.name=n??"AbortError",this.code=e??"ABORT_ERR"}};async function vc(r,t,e){if(t==null)return r;if(t.aborted)return Promise.reject(new gn(e?.errorMessage,e?.errorCode,e?.errorName));let n,o=new gn(e?.errorMessage,e?.errorCode,e?.errorName);try{return await Promise.race([r,new Promise((i,s)=>{n=()=>{s(o)},t.addEventListener("abort",n)})])}finally{n!=null&&t.removeEventListener("abort",n)}}var fi=class{readNext;haveNext;ended;nextResult;constructor(){this.ended=!1,this.readNext=zt(),this.haveNext=zt()}[Symbol.asyncIterator](){return this}async next(){if(this.nextResult==null&&await this.haveNext.promise,this.nextResult==null)throw new Error("HaveNext promise resolved but nextResult was undefined");let t=this.nextResult;return this.nextResult=void 0,this.readNext.resolve(),this.readNext=zt(),t}async throw(t){return this.ended=!0,t!=null&&(this.haveNext.promise.catch(()=>{}),this.haveNext.reject(t)),{done:!0,value:void 0}}async return(){let t={done:!0,value:void 0};return await this._push(void 0),t}async push(t,e){await this._push(t,e)}async end(t,e){t!=null?await this.throw(t):await this._push(void 0,e)}async _push(t,e){if(t!=null&&this.ended)throw new Error("Cannot push value onto an ended pushable");for(;this.nextResult!=null;)await this.readNext.promise;t!=null?this.nextResult={done:!1,value:t}:(this.ended=!0,this.nextResult={done:!0,value:void 0}),this.haveNext.resolve(),this.haveNext=zt(),await vc(this.readNext.promise,e?.signal,e)}};function Ic(){return new fi}var bn=class extends Error{name="UnexpectedEOFError";code="ERR_UNEXPECTED_EOF"};var di=class extends Error{code;constructor(t,e){super(t),this.code=e}},hi=class extends di{type;constructor(t){super(t,"ABORT_ERR"),this.type="aborted",this.name="AbortError"}};function Sc(r,t){let e=Ic();r.sink(e).catch(async s=>{await e.end(s)}),r.sink=async s=>{for await(let c of s)await e.push(c);await e.end()};let n=r.source;r.source[Symbol.iterator]!=null?n=r.source[Symbol.iterator]():r.source[Symbol.asyncIterator]!=null&&(n=r.source[Symbol.asyncIterator]());let o=new Et;return{read:async(s,c)=>{c?.signal?.throwIfAborted();let a,l=new Promise((d,u)=>{a=()=>{u(new hi("Read aborted"))},c?.signal?.addEventListener("abort",a)});try{if(s==null){let{done:u,value:y}=await Promise.race([n.next(),l]);return u===!0?new Et:y}for(;o.byteLength<s;){let{value:u,done:y}=await Promise.race([n.next(),l]);if(y===!0)throw new bn("unexpected end of input");o.append(u)}let d=o.sublist(0,s);return o.consume(s),d}finally{a!=null&&c?.signal?.removeEventListener("abort",a)}},write:async(s,c)=>{c?.signal?.throwIfAborted(),s instanceof Uint8Array?await e.push(s,c):await e.push(s.subarray(),c)},unwrap:()=>{if(o.byteLength>0){let s=r.source;r.source=async function*(){t?.yieldBytes===!1?yield o:yield*o,yield*s}()}return r}}}var wn=class extends Error{name="InvalidMessageLengthError";code="ERR_INVALID_MSG_LENGTH"},xn=class extends Error{name="InvalidDataLengthError";code="ERR_MSG_DATA_TOO_LONG"},En=class extends Error{name="InvalidDataLengthLengthError";code="ERR_MSG_LENGTH_TOO_LONG"};function Fe(r,t={}){let e=Sc(r,t);t.maxDataLength!=null&&t.maxLengthLength==null&&(t.maxLengthLength=z(t.maxDataLength));let n=t?.lengthDecoder??Pt,o=t?.lengthEncoder??Ut;return{read:async s=>{let c=-1,a=new Et;for(;;){a.append(await e.read(1,s));try{c=n(a)}catch(l){if(l instanceof RangeError)continue;throw l}if(c<0)throw new wn("Invalid message length");if(t?.maxLengthLength!=null&&a.byteLength>t.maxLengthLength)throw new En("message length length too long");if(c>-1)break}if(t?.maxDataLength!=null&&c>t.maxDataLength)throw new xn("message length too long");return e.read(c,s)},write:async(s,c)=>{await e.write(new Et(o(s.byteLength),s),c)},writeV:async(s,c)=>{let a=new Et(...s.flatMap(l=>[o(l.byteLength),l]));await e.write(a,c)},unwrap:()=>e.unwrap()}}var vn=class{buffer;mask;top;btm;next;constructor(t){if(!(t>0)||t-1&t)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(t),this.mask=t-1,this.top=0,this.btm=0,this.next=null}push(t){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=t,this.top=this.top+1&this.mask,!0)}shift(){let t=this.buffer[this.btm];if(t!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,t}isEmpty(){return this.buffer[this.btm]===void 0}},ze=class{size;hwm;head;tail;constructor(t={}){this.hwm=t.splitLimit??16,this.head=new vn(this.hwm),this.tail=this.head,this.size=0}calculateSize(t){return t?.byteLength!=null?t.byteLength:1}push(t){if(t?.value!=null&&(this.size+=this.calculateSize(t.value)),!this.head.push(t)){let e=this.head;this.head=e.next=new vn(2*this.head.buffer.length),this.head.push(t)}}shift(){let t=this.tail.shift();if(t===void 0&&this.tail.next!=null){let e=this.tail.next;this.tail.next=null,this.tail=e,t=this.tail.shift()}return t?.value!=null&&(this.size-=this.calculateSize(t.value)),t}isEmpty(){return this.head.isEmpty()}};var pi=class extends Error{type;code;constructor(t,e){super(t??"The operation was aborted"),this.type="aborted",this.code=e??"ABORT_ERR"}};function He(r={}){return Vl(e=>{let n=e.shift();if(n==null)return{done:!0};if(n.error!=null)throw n.error;return{done:n.done===!0,value:n.value}},r)}function Vl(r,t){t=t??{};let e=t.onEnd,n=new ze,o,i,s,c=zt(),a=async()=>{try{return n.isEmpty()?s?{done:!0}:await new Promise((h,m)=>{i=b=>{i=null,n.push(b);try{h(r(n))}catch(v){m(v)}return o}}):r(n)}finally{n.isEmpty()&&queueMicrotask(()=>{c.resolve(),c=zt()})}},l=h=>i!=null?i(h):(n.push(h),o),d=h=>(n=new ze,i!=null?i({error:h}):(n.push({error:h}),o)),u=h=>{if(s)return o;if(t?.objectMode!==!0&&h?.byteLength==null)throw new Error("objectMode was not true but tried to push non-Uint8Array value");return l({done:!1,value:h})},y=h=>s?o:(s=!0,h!=null?d(h):l({done:!0})),g=()=>(n=new ze,y(),{done:!0}),p=h=>(y(h),{done:!0});if(o={[Symbol.asyncIterator](){return this},next:a,return:g,throw:p,push:u,end:y,get readableLength(){return n.size},onEmpty:async h=>{let m=h?.signal;if(m?.throwIfAborted(),n.isEmpty())return;let b,v;m!=null&&(b=new Promise((P,T)=>{v=()=>{T(new pi)},m.addEventListener("abort",v)}));try{await Promise.race([c.promise,b])}finally{v!=null&&m!=null&&m?.removeEventListener("abort",v)}}},e==null)return o;let f=o;return o={[Symbol.asyncIterator](){return this},next(){return f.next()},throw(h){return f.throw(h),e!=null&&(e(h),e=void 0),{done:!0}},return(){return f.return(),e!=null&&(e(),e=void 0),{done:!0}},push:u,end(h){return f.end(h),e!=null&&(e(h),e=void 0),o},get readableLength(){return f.readableLength},onEmpty:h=>f.onEmpty(h)},o}function Gl(r){return r[Symbol.asyncIterator]!=null}function Fl(...r){let t=[];for(let e of r)Gl(e)||t.push(e);return t.length===r.length?function*(){for(let e of t)yield*e}():async function*(){let e=He({objectMode:!0});Promise.resolve().then(async()=>{try{await Promise.all(r.map(async n=>{for await(let o of n)e.push(o)})),e.end()}catch(n){e.end(n)}}),yield*e}()}var Ac=Fl;function yi(r,...t){if(r==null)throw new Error("Empty pipeline");if(mi(r)){let n=r;r=()=>n.source}else if(Lc(r)||Tc(r)){let n=r;r=()=>n}let e=[r,...t];if(e.length>1&&mi(e[e.length-1])&&(e[e.length-1]=e[e.length-1].sink),e.length>2)for(let n=1;n<e.length-1;n++)mi(e[n])&&(e[n]=Hl(e[n]));return zl(...e)}var zl=(...r)=>{let t;for(;r.length>0;)t=r.shift()(t);return t},Tc=r=>r?.[Symbol.asyncIterator]!=null,Lc=r=>r?.[Symbol.iterator]!=null,mi=r=>r==null?!1:r.sink!=null&&r.source!=null,Hl=r=>t=>{let e=r.sink(t);if(e?.then!=null){let n=He({objectMode:!0});e.then(()=>{n.end()},s=>{n.end(s)});let o,i=r.source;if(Tc(i))o=async function*(){yield*i,n.end()};else if(Lc(i))o=function*(){yield*i,n.end()};else throw new Error("Unknown duplex source type - must be Iterable or AsyncIterable");return Ac(n,o())}return r.source};function Nc(r,t){let e=Fe(r,t),n={read:async(o,i)=>{let s=await e.read(i);return o.decode(s)},write:async(o,i,s)=>{await e.write(i.encode(o),s)},writeV:async(o,i,s)=>{await e.writeV(o.map(c=>i.encode(c)),s)},pb:o=>({read:async i=>n.read(o,i),write:async(i,s)=>n.write(i,o,s),writeV:async(i,s)=>n.writeV(i,o,s),unwrap:()=>n}),unwrap:()=>e.unwrap()};return n}function ql(r){return r[Symbol.asyncIterator]!=null}function Wl(r){if(ql(r))return(async()=>{for await(let t of r);})();for(let t of r);}var gi=Wl;function dt(r){return H.encode({type:H.Type.OK,peers:[],...r}).subarray()}function it(r){return H.encode({type:H.Type.ERROR,error:{msg:r.message},peers:[]}).subarray()}var In=he("libp2p:daemon-server:dht"),Sn=class{dht;constructor(t){let{dht:e}=t;this.dht=e}async*provide(t){try{await gi(this.dht.provide(t)),yield dt()}catch(e){In.error(e),yield it(e)}}async*getClosestPeers(t){yield dt({dht:{type:et.Type.BEGIN}});for await(let e of this.dht.getClosestPeers(t))e.name==="PEER_RESPONSE"&&(yield*e.closer.map(n=>et.encode({type:et.Type.VALUE,value:n.id.toMultihash().bytes})));yield et.encode({type:et.Type.END})}async*getPublicKey(t){yield it(new Error("FIX ME: not implemented"))}async*getValue(t){try{for await(let e of this.dht.get(t))e.name==="VALUE"&&(yield dt({dht:{type:et.Type.VALUE,value:e.value}}))}catch(e){In.error(e),yield it(e)}}async*putValue(t,e){try{await gi(this.dht.put(t,e)),yield dt()}catch(n){In.error(n),yield it(n)}}async*findPeer(t){try{for await(let e of this.dht.findPeer(t))e.name==="FINAL_PEER"&&(yield dt({dht:{type:et.Type.VALUE,peer:{id:e.peer.id.toMultihash().bytes,addrs:e.peer.multiaddrs.map(n=>n.bytes)}}}));throw new Error("Peer not found")}catch(e){In.error(e),yield it(e)}}async*findProviders(t,e){yield dt({dht:{type:et.Type.BEGIN}});try{let n=e,o=0;for await(let i of this.dht.findProviders(t))if(i.name==="PEER_RESPONSE"){for(let s of i.providers)o++,yield et.encode({type:et.Type.VALUE,peer:{id:s.id.toMultihash().bytes,addrs:(s.multiaddrs??[]).map(c=>c.bytes)}});if(n===o)break}}catch(n){yield it(n)}yield et.encode({type:et.Type.END})}};var An=he("libp2p:daemon-server:pubsub"),Tn=class{pubsub;constructor(t){let{pubsub:e}=t;this.pubsub=e}async*getTopics(){try{yield dt({pubsub:{topics:this.pubsub.getTopics(),peerIDs:[]}})}catch(t){An.error(t),yield it(t)}}async*subscribe(t){try{let e=He();this.pubsub.subscribe(t),this.pubsub.addEventListener("message",n=>{let o=n.detail;o.topic===t&&(o.type==="signed"?e.push(tr.encode({from:o.from.toMultihash().bytes,data:o.data,seqno:o.sequenceNumber==null?void 0:Mt(o.sequenceNumber.toString(16).padStart(16,"0"),"base16"),topicIDs:[o.topic],signature:o.signature,key:Ce(o.key)}).subarray()):e.push(tr.encode({data:o.data,topicIDs:[o.topic]}).subarray()))}),yield dt(),yield*e}catch(e){An.error(e),yield it(e)}}async*publish(t,e){try{await this.pubsub.publish(t,e),yield dt()}catch(n){An.error(n),yield it(n)}}async*listPeers(t){try{yield dt({pubsub:{topics:[t],peerIDs:this.pubsub.getSubscribers(t).map(e=>e.toMultihash().bytes)}})}catch(e){An.error(e),yield it(e)}}};var Yl=1<<22,st=he("libp2p:daemon-server"),Ln=class{multiaddr;libp2p;tcp;listener;dhtOperations;pubsubOperations;constructor(t){let{multiaddr:e,libp2pNode:n}=t;this.multiaddr=e,this.libp2p=n,this.tcp=wc()({logger:es()}),this.listener=this.tcp.createListener({handler:this.handleConnection.bind(this),upgrader:bo}),this._onExit=this._onExit.bind(this),n.services.dht!=null&&(this.dhtOperations=new Sn({dht:n.services.dht})),n.services.pubsub!=null&&(this.pubsubOperations=new Tn({pubsub:n.services.pubsub}))}async connect(t){if(t.connect?.addrs==null)throw new Error("Invalid request");let e=t.connect.peer,n=t.connect.addrs.map(i=>ft(i)),o=$e(Bt(e));return st("connect - adding multiaddrs %a to peer %p",n,o),await this.libp2p.peerStore.merge(o,{multiaddrs:n}),st("connect - dial %p",o),this.libp2p.dial(o)}async openStream(t){if(t.streamOpen?.proto==null)throw new Error("Invalid request");let{peer:e,proto:n}=t.streamOpen,o=$e(Bt(e));st("openStream - dial %p",o);let i=await this.libp2p.dial(o);st("openStream - open stream for protocol %s",n);let s=await i.newStream(n,{runOnLimitedConnection:!0});return{streamInfo:{peer:o.toMultihash().bytes,addr:i.remoteAddr.bytes,proto:s.protocol??""},connection:s}}async registerStreamHandler(t){if(t.streamHandler?.proto==null)throw new Error("Invalid request");let e=t.streamHandler.proto,n=ft(t.streamHandler.addr),o;st("registerStreamHandler - handle %s",e),await this.libp2p.handle(e,({connection:i,stream:s})=>{Promise.resolve().then(async()=>{o=await this.tcp.dial(n,{upgrader:bo});let c=Re.encode({peer:i.remotePeer.toMultihash().bytes,addr:i.remoteAddr.bytes,proto:s.protocol??""}),a=hn.single(c);await yi(async function*(){yield a,yield*s.source}(),async function*(l){for await(let d of l)yield*d},o,s.sink)}).catch(async c=>{st.error(c),o!=null&&await o.close(c)}).finally(()=>{o?.close().catch(c=>{st.error(c)})})},{runOnLimitedConnection:!0})}_listen(){process.on("SIGTERM",this._onExit),process.on("SIGINT",this._onExit),process.on("SIGHUP",this._onExit)}_onExit(){this.stop({exit:!0}).catch(t=>{st.error(t)})}async start(){this._listen(),await this.libp2p.start(),await this.listener.listen(this.multiaddr)}getMultiaddr(){let t=this.listener.getAddrs();if(t.length>0)return t[0];throw new Error("Not started")}async stop(t={exit:!1}){await this.libp2p.stop(),await this.listener.close(),t.exit&&st("server closed, exiting"),process.removeListener("SIGTERM",this._onExit),process.removeListener("SIGINT",this._onExit),process.removeListener("SIGHUP",this._onExit)}async*handlePeerStoreRequest(t){try{switch(t.type){case de.Type.GET_PROTOCOLS:if(t.id==null)throw new Error("Invalid request");let e=$e(Bt(t.id)),o=(await this.libp2p.peerStore.get(e)).protocols;yield dt({peerStore:{protos:o}});return;case de.Type.GET_PEER_INFO:throw new Error("ERR_NOT_IMPLEMENTED");default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){st.error(e),yield it(e)}}async*handlePubsubRequest(t){try{if(this.libp2p.services.pubsub==null||this.pubsubOperations==null)throw new Error("PubSub not configured");switch(t.type){case Vt.Type.GET_TOPICS:yield*this.pubsubOperations.getTopics();return;case Vt.Type.SUBSCRIBE:if(t.topic==null)throw new Error("Invalid request");yield*this.pubsubOperations.subscribe(t.topic);return;case Vt.Type.PUBLISH:if(t.topic==null||t.data==null)throw new Error("Invalid request");yield*this.pubsubOperations.publish(t.topic,t.data);return;case Vt.Type.LIST_PEERS:if(t.topic==null)throw new Error("Invalid request");yield*this.pubsubOperations.listPeers(t.topic);return;default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){st.error(e),yield it(e)}}async*handleDHTRequest(t){try{if(this.libp2p.services.dht==null||this.dhtOperations==null)throw new Error("DHT not configured");switch(t.type){case St.Type.FIND_PEER:if(t.peer==null)throw new Error("Invalid request");yield*this.dhtOperations.findPeer($e(Bt(t.peer)));return;case St.Type.FIND_PROVIDERS:if(t.cid==null)throw new Error("Invalid request");yield*this.dhtOperations.findProviders(J.decode(t.cid),t.count??20);return;case St.Type.PROVIDE:if(t.cid==null)throw new Error("Invalid request");yield*this.dhtOperations.provide(J.decode(t.cid));return;case St.Type.GET_CLOSEST_PEERS:if(t.key==null)throw new Error("Invalid request");yield*this.dhtOperations.getClosestPeers(t.key);return;case St.Type.GET_PUBLIC_KEY:if(t.peer==null)throw new Error("Invalid request");yield*this.dhtOperations.getPublicKey($e(Bt(t.peer)));return;case St.Type.GET_VALUE:if(t.key==null)throw new Error("Invalid request");yield*this.dhtOperations.getValue(t.key);return;case St.Type.PUT_VALUE:if(t.key==null||t.value==null)throw new Error("Invalid request");yield*this.dhtOperations.putValue(t.key,t.value);return;default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(e){st.error(e),yield it(e)}}handleConnection(t){Promise.resolve().then(async()=>{let e=this,n=Nc(t,{maxDataLength:Yl}),o=await n.read(It);st("read",o);try{switch(o.type){case It.Type.CONNECT:{await e.connect(o),await n.write({type:H.Type.OK},H);break}case It.Type.IDENTIFY:{await n.write({type:H.Type.OK,identify:{id:e.libp2p.peerId.toMultihash().bytes,addrs:e.libp2p.getMultiaddrs().map(i=>i.decapsulateCode(R("p2p").code)).map(i=>i.bytes)}},H);break}case It.Type.LIST_PEERS:{let i=[],s=new Set;for(let c of e.libp2p.getConnections()){let a=c.remotePeer.toString();s.has(a)||(s.add(a),i.push({id:c.remotePeer.toMultihash().bytes,addrs:[c.remoteAddr.bytes]}))}await n.write({type:H.Type.OK,peers:i},H);break}case It.Type.STREAM_OPEN:{let i=await e.openStream(o);await n.write({type:H.Type.OK,streamInfo:i.streamInfo},H);let s=n.unwrap();await yi(s,i.connection,s);break}case It.Type.STREAM_HANDLER:{await e.registerStreamHandler(o),await n.write({type:H.Type.OK},H);break}case It.Type.PEERSTORE:{if(o.peerStore==null)throw new Error("ERR_INVALID_REQUEST");let i=n.unwrap(),s=Fe(i);for await(let c of e.handlePeerStoreRequest(o.peerStore))await s.write(c);break}case It.Type.PUBSUB:{if(o.pubsub==null)throw new Error("ERR_INVALID_REQUEST");let i=n.unwrap(),s=Fe(i);for await(let c of e.handlePubsubRequest(o.pubsub))await s.write(c);break}case It.Type.DHT:{if(o.dht==null)throw new Error("ERR_INVALID_REQUEST");let i=n.unwrap(),s=Fe(i);for await(let c of e.handleDHTRequest(o.dht))await s.write(c);break}default:throw new Error("ERR_INVALID_REQUEST_TYPE")}}catch(i){st.error(i),await n.write({type:H.Type.ERROR,error:{msg:i.message},peers:[]},H)}finally{await n.unwrap().close()}}).catch(e=>{st.error("error handling incoming connection",e)})}},Zl=(r,t)=>new Ln({multiaddr:r,libp2pNode:t});return Oc(Xl);})();
+/*! Bundled license information:
+
+@noble/hashes/esm/utils.js:
+  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/abstract/utils.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/abstract/modular.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/abstract/curve.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/abstract/weierstrass.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/_shortw_utils.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+
+@noble/curves/esm/secp256k1.js:
+  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
+*/
 return Libp2PDaemonServer}));
diff --git a/node_modules/@libp2p/daemon-server/dist/src/dht.js b/node_modules/@libp2p/daemon-server/dist/src/dht.js
index f74795d..7664dcd 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/dht.js
+++ b/node_modules/@libp2p/daemon-server/dist/src/dht.js
@@ -30,7 +30,7 @@ export class DHTOperations {
             if (event.name === 'PEER_RESPONSE') {
                 yield* event.closer.map(peer => DHTResponse.encode({
                     type: DHTResponse.Type.VALUE,
-                    value: peer.id.toBytes()
+                    value: peer.id.toMultihash().bytes
                 }));
             }
         }
@@ -77,7 +77,7 @@ export class DHTOperations {
                         dht: {
                             type: DHTResponse.Type.VALUE,
                             peer: {
-                                id: event.peer.id.toBytes(),
+                                id: event.peer.id.toMultihash().bytes,
                                 addrs: event.peer.multiaddrs.map(m => m.bytes)
                             }
                         }
@@ -107,7 +107,7 @@ export class DHTOperations {
                         yield DHTResponse.encode({
                             type: DHTResponse.Type.VALUE,
                             peer: {
-                                id: provider.id.toBytes(),
+                                id: provider.id.toMultihash().bytes,
                                 addrs: (provider.multiaddrs ?? []).map(m => m.bytes)
                             }
                         });
diff --git a/node_modules/@libp2p/daemon-server/dist/src/dht.js.map b/node_modules/@libp2p/daemon-server/dist/src/dht.js.map
index 44c6b82..f911c4b 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/dht.js.map
+++ b/node_modules/@libp2p/daemon-server/dist/src/dht.js.map
@@ -1 +1 @@
-{"version":3,"file":"dht.js","sourceRoot":"","sources":["../../src/dht.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"dht.js","sourceRoot":"","sources":["../../src/dht.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/src/index.d.ts.map b/node_modules/@libp2p/daemon-server/dist/src/index.d.ts.map
index be91dc6..6a0cb63 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/index.d.ts.map
+++ b/node_modules/@libp2p/daemon-server/dist/src/index.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EACL,OAAO,EAEP,UAAU,EACV,gBAAgB,EAChB,SAAS,EACT,UAAU,EACX,MAAM,yBAAyB,CAAA;AAchC,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAA;AAC5D,OAAO,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,EAAuB,MAAM,mBAAmB,CAAA;AAC7G,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAA;AAC7C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAA;AAKxD,MAAM,WAAW,UAAU;IACzB,UAAU,EAAE,UAAU,CAAA;IACtB,UAAU,EAAE,MAAM,CAAA;CACnB;AAED,MAAM,WAAW,UAAU;IACzB,SAAS,EAAE,SAAS,CAAA;IACpB,UAAU,EAAE,MAAM,CAAC;QAAE,GAAG,EAAE,MAAM,CAAC;QAAC,MAAM,EAAE,SAAS,CAAA;KAAE,CAAC,CAAA;CACvD;AAED,MAAM,WAAW,YAAY;IAC3B,KAAK,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA;IACtB,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA;IACrB,YAAY,IAAI,SAAS,CAAA;CAC1B;AAED,qBAAa,MAAO,YAAW,YAAY;IACzC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAW;IACrC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAA4C;IACnE,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAW;IAC/B,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAU;IACnC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAe;IAC9C,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAkB;gBAEvC,IAAI,EAAE,UAAU;IAwB7B;;OAEG;IACG,OAAO,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;IAkBrD;;OAEG;IACG,UAAU,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;IA4BxD;;;;OAIG;IACG,qBAAqB,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;IAkE7D;;OAEG;IACH,OAAO,IAAK,IAAI;IAOhB,OAAO,IAAK,IAAI;IAMhB;;OAEG;IACG,KAAK,IAAK,OAAO,CAAC,IAAI,CAAC;IAM7B,YAAY,IAAK,SAAS;IAU1B;;OAEG;IACG,IAAI,CAAE,OAAO;;KAAkB,GAAG,OAAO,CAAC,IAAI,CAAC;IAW7C,sBAAsB,CAAE,OAAO,EAAE,gBAAgB,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAwBvG;;OAEG;IACK,mBAAmB,CAAE,OAAO,EAAE,SAAS,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAwC7F;;OAEG;IACK,gBAAgB,CAAE,OAAO,EAAE,UAAU,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAiE3F;;OAEG;IACH,gBAAgB,CAAE,MAAM,EAAE,mBAAmB,GAAG,IAAI;CA2JrD;AAED;;GAEG;AACH,eAAO,MAAM,YAAY,cAAe,SAAS,cAAc,OAAO;IAAE,GAAG,EAAE,MAAM,CAAC;IAAC,MAAM,EAAE,SAAS,CAAA;CAAE,CAAC,KAAG,YAO3G,CAAA"}
\ No newline at end of file
+{"version":3,"file":"index.d.ts","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAEA,OAAO,EACL,OAAO,EAEP,UAAU,EACV,gBAAgB,EAChB,SAAS,EACT,UAAU,EACX,MAAM,yBAAyB,CAAA;AAehC,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAA;AAC5D,OAAO,KAAK,EAAE,MAAM,EAAE,UAAU,EAAE,mBAAmB,EAAE,MAAM,EAAuB,MAAM,mBAAmB,CAAA;AAC7G,OAAO,KAAK,EAAE,MAAM,EAAE,MAAM,iBAAiB,CAAA;AAC7C,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAA;AAKxD,MAAM,WAAW,UAAU;IACzB,UAAU,EAAE,UAAU,CAAA;IACtB,UAAU,EAAE,MAAM,CAAA;CACnB;AAED,MAAM,WAAW,UAAU;IACzB,SAAS,EAAE,SAAS,CAAA;IACpB,UAAU,EAAE,MAAM,CAAC;QAAE,GAAG,EAAE,MAAM,CAAC;QAAC,MAAM,EAAE,SAAS,CAAA;KAAE,CAAC,CAAA;CACvD;AAED,MAAM,WAAW,YAAY;IAC3B,KAAK,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA;IACtB,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC,CAAA;IACrB,YAAY,IAAI,SAAS,CAAA;CAC1B;AAED,qBAAa,MAAO,YAAW,YAAY;IACzC,OAAO,CAAC,QAAQ,CAAC,SAAS,CAAW;IACrC,OAAO,CAAC,QAAQ,CAAC,MAAM,CAA4C;IACnE,OAAO,CAAC,QAAQ,CAAC,GAAG,CAAW;IAC/B,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAU;IACnC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAe;IAC9C,OAAO,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAkB;gBAEvC,IAAI,EAAE,UAAU;IAwB7B;;OAEG;IACG,OAAO,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;IAkBrD;;OAEG;IACG,UAAU,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,UAAU,CAAC;IA0BxD;;;;OAIG;IACG,qBAAqB,CAAE,OAAO,EAAE,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC;IAgE7D;;OAEG;IACH,OAAO,IAAK,IAAI;IAOhB,OAAO,IAAK,IAAI;IAMhB;;OAEG;IACG,KAAK,IAAK,OAAO,CAAC,IAAI,CAAC;IAM7B,YAAY,IAAK,SAAS;IAU1B;;OAEG;IACG,IAAI,CAAE,OAAO;;KAAkB,GAAG,OAAO,CAAC,IAAI,CAAC;IAW7C,sBAAsB,CAAE,OAAO,EAAE,gBAAgB,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAwBvG;;OAEG;IACK,mBAAmB,CAAE,OAAO,EAAE,SAAS,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAwC7F;;OAEG;IACK,gBAAgB,CAAE,OAAO,EAAE,UAAU,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAiE3F;;OAEG;IACH,gBAAgB,CAAE,MAAM,EAAE,mBAAmB,GAAG,IAAI;CA2JrD;AAED;;GAEG;AACH,eAAO,MAAM,YAAY,cAAe,SAAS,cAAc,OAAO;IAAE,GAAG,EAAE,MAAM,CAAC;IAAC,MAAM,EAAE,SAAS,CAAA;CAAE,CAAC,KAAG,YAO3G,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/src/index.js b/node_modules/@libp2p/daemon-server/dist/src/index.js
index 11b832d..a34624f 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/index.js
+++ b/node_modules/@libp2p/daemon-server/dist/src/index.js
@@ -2,7 +2,7 @@
 import { Request, Response, DHTRequest, PeerstoreRequest, PSRequest, StreamInfo } from '@libp2p/daemon-protocol';
 import { passThroughUpgrader } from '@libp2p/daemon-protocol/upgrader';
 import { defaultLogger, logger } from '@libp2p/logger';
-import { peerIdFromBytes } from '@libp2p/peer-id';
+import { peerIdFromMultihash } from '@libp2p/peer-id';
 import { tcp } from '@libp2p/tcp';
 import { multiaddr, protocols } from '@multiformats/multiaddr';
 import * as lp from 'it-length-prefixed';
@@ -10,6 +10,7 @@ import { lpStream } from 'it-length-prefixed-stream';
 import { pipe } from 'it-pipe';
 import { pbStream } from 'it-protobuf-stream';
 import { CID } from 'multiformats/cid';
+import * as Digest from 'multiformats/hashes/digest';
 import { DHTOperations } from './dht.js';
 import { PubSubOperations } from './pubsub.js';
 import { ErrorResponse, OkResponse } from './responses.js';
@@ -46,12 +47,12 @@ export class Server {
      * Connects the daemons libp2p node to the peer provided
      */
     async connect(request) {
-        if (request.connect == null || request.connect.addrs == null) {
+        if (request.connect?.addrs == null) {
             throw new Error('Invalid request');
         }
         const peer = request.connect.peer;
         const addrs = request.connect.addrs.map((a) => multiaddr(a));
-        const peerId = peerIdFromBytes(peer);
+        const peerId = peerIdFromMultihash(Digest.decode(peer));
         log('connect - adding multiaddrs %a to peer %p', addrs, peerId);
         await this.libp2p.peerStore.merge(peerId, {
             multiaddrs: addrs
@@ -63,22 +64,20 @@ export class Server {
      * Opens a stream on one of the given protocols to the given peer
      */
     async openStream(request) {
-        if (request.streamOpen == null || request.streamOpen.proto == null) {
+        if (request.streamOpen?.proto == null) {
             throw new Error('Invalid request');
         }
         const { peer, proto } = request.streamOpen;
-        const peerId = peerIdFromBytes(peer);
+        const peerId = peerIdFromMultihash(Digest.decode(peer));
         log('openStream - dial %p', peerId);
         const connection = await this.libp2p.dial(peerId);
         log('openStream - open stream for protocol %s', proto);
         const stream = await connection.newStream(proto, {
-            runOnTransientConnection: true,
-            // @ts-expect-error this has not been released yet
             runOnLimitedConnection: true
         });
         return {
             streamInfo: {
-                peer: peerId.toBytes(),
+                peer: peerId.toMultihash().bytes,
                 addr: connection.remoteAddr.bytes,
                 proto: stream.protocol ?? ''
             },
@@ -91,7 +90,7 @@ export class Server {
      * is registered at the path, it will be overridden.
      */
     async registerStreamHandler(request) {
-        if (request.streamHandler == null || request.streamHandler.proto == null) {
+        if (request.streamHandler?.proto == null) {
             throw new Error('Invalid request');
         }
         const protocols = request.streamHandler.proto;
@@ -108,7 +107,7 @@ export class Server {
                     upgrader: passThroughUpgrader
                 });
                 const message = StreamInfo.encode({
-                    peer: connection.remotePeer.toBytes(),
+                    peer: connection.remotePeer.toMultihash().bytes,
                     addr: connection.remoteAddr.bytes,
                     proto: stream.protocol ?? ''
                 });
@@ -140,8 +139,6 @@ export class Server {
                 }
             });
         }, {
-            runOnTransientConnection: true,
-            // @ts-expect-error this has not been released yet
             runOnLimitedConnection: true
         });
     }
@@ -194,7 +191,7 @@ export class Server {
                     if (request.id == null) {
                         throw new Error('Invalid request');
                     }
-                    const peerId = peerIdFromBytes(request.id); // eslint-disable-line no-case-declarations
+                    const peerId = peerIdFromMultihash(Digest.decode(request.id)); // eslint-disable-line no-case-declarations
                     const peer = await this.libp2p.peerStore.get(peerId); // eslint-disable-line no-case-declarations
                     const protos = peer.protocols; // eslint-disable-line no-case-declarations
                     yield OkResponse({ peerStore: { protos } });
@@ -262,7 +259,7 @@ export class Server {
                     if (request.peer == null) {
                         throw new Error('Invalid request');
                     }
-                    yield* this.dhtOperations.findPeer(peerIdFromBytes(request.peer));
+                    yield* this.dhtOperations.findPeer(peerIdFromMultihash(Digest.decode(request.peer)));
                     return;
                 case DHTRequest.Type.FIND_PROVIDERS:
                     if (request.cid == null) {
@@ -286,7 +283,7 @@ export class Server {
                     if (request.peer == null) {
                         throw new Error('Invalid request');
                     }
-                    yield* this.dhtOperations.getPublicKey(peerIdFromBytes(request.peer));
+                    yield* this.dhtOperations.getPublicKey(peerIdFromMultihash(Digest.decode(request.peer)));
                     return;
                 case DHTRequest.Type.GET_VALUE:
                     if (request.key == null) {
@@ -335,7 +332,7 @@ export class Server {
                         await pb.write({
                             type: Response.Type.OK,
                             identify: {
-                                id: daemon.libp2p.peerId.toBytes(),
+                                id: daemon.libp2p.peerId.toMultihash().bytes,
                                 addrs: daemon.libp2p.getMultiaddrs().map(ma => ma.decapsulateCode(protocols('p2p').code)).map(m => m.bytes)
                             }
                         }, Response);
@@ -352,7 +349,7 @@ export class Server {
                             }
                             seen.add(peerId);
                             peers.push({
-                                id: connection.remotePeer.toBytes(),
+                                id: connection.remotePeer.toMultihash().bytes,
                                 addrs: [connection.remoteAddr.bytes]
                             });
                         }
diff --git a/node_modules/@libp2p/daemon-server/dist/src/index.js.map b/node_modules/@libp2p/daemon-server/dist/src/index.js.map
index 32f02e7..133761e 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/index.js.map
+++ b/node_modules/@libp2p/daemon-server/dist/src/index.js.map
@@ -1 +1 @@
-{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"AAAA,oCAAoC;AAEpC,OAAO,EACL,OAAO,EACP,QAAQ,EACR,UAAU,EACV,gBAAgB,EAChB,SAAS,EACT,UAAU,EACX,MAAM,yBAAyB,CAAA;AAChC,OAAO,EAAE,mBAAmB,EAAE,MAAM,kCAAkC,CAAA;AACtE,OAAO,EAAE,aAAa,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAA;AACtD,OAAO,EAAE,eAAe,EAAE,MAAM,iBAAiB,CAAA;AACjD,OAAO,EAAE,GAAG,EAAE,MAAM,aAAa,CAAA;AACjC,OAAO,EAAE,SAAS,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAA;AAC9D,OAAO,KAAK,EAAE,MAAM,oBAAoB,CAAA;AACxC,OAAO,EAAE,QAAQ,EAAE,MAAM,2BAA2B,CAAA;AACpD,OAAO,EAAE,IAAI,EAAE,MAAM,SAAS,CAAA;AAC9B,OAAO,EAAE,QAAQ,EAAE,MAAM,oBAAoB,CAAA;AAC7C,OAAO,EAAE,GAAG,EAAE,MAAM,kBAAkB,CAAA;AACtC,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAA;AACxC,OAAO,EAAE,gBAAgB,EAAE,MAAM,aAAa,CAAA;AAC9C,OAAO,EAAE,aAAa,EAAE,UAAU,EAAE,MAAM,gBAAgB,CAAA;AAM1D,MAAM,KAAK,GAAG,CAAC,IAAI,EAAE,CAAA,CAAC,MAAM;AAC5B,MAAM,GAAG,GAAG,MAAM,CAAC,sBAAsB,CAAC,CAAA;AAkB1C,MAAM,OAAO,MAAM;IACA,SAAS,CAAW;IACpB,MAAM,CAA4C;IAClD,GAAG,CAAW;IACd,QAAQ,CAAU;IAClB,aAAa,CAAgB;IAC7B,gBAAgB,CAAmB;IAEpD,YAAa,IAAgB;QAC3B,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,GAAG,IAAI,CAAA;QAEtC,IAAI,CAAC,SAAS,GAAG,SAAS,CAAA;QAC1B,IAAI,CAAC,MAAM,GAAG,UAAU,CAAA;QACxB,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,CAAC;YACf,MAAM,EAAE,aAAa,EAAE;SACxB,CAAC,CAAA;QACF,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,CAAC;YACtC,wDAAwD;YACxD,OAAO,EAAE,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC;YACzC,QAAQ,EAAE,mBAAmB;SAC9B,CAAC,CAAA;QACF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QAEtC,IAAI,UAAU,CAAC,QAAQ,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;YACpC,IAAI,CAAC,aAAa,GAAG,IAAI,aAAa,CAAC,EAAE,GAAG,EAAE,UAAU,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC,CAAA;QAC1E,CAAC;QAED,IAAI,UAAU,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,EAAE,CAAC;YACvC,IAAI,CAAC,gBAAgB,GAAG,IAAI,gBAAgB,CAAC,EAAE,MAAM,EAAE,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAA;QACtF,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,OAAO,CAAE,OAAgB;QAC7B,IAAI,OAAO,CAAC,OAAO,IAAI,IAAI,IAAI,OAAO,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;YAC7D,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;QACpC,CAAC;QAED,MAAM,IAAI,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,CAAA;QACjC,MAAM,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAA;QAC5D,MAAM,MAAM,GAAG,eAAe,CAAC,IAAI,CAAC,CAAA;QAEpC,GAAG,CAAC,2CAA2C,EAAE,KAAK,EAAE,MAAM,CAAC,CAAA;QAC/D,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,MAAM,EAAE;YACxC,UAAU,EAAE,KAAK;SAClB,CAAC,CAAA;QAEF,GAAG,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAA;QAChC,OAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;IACjC,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,UAAU,CAAE,OAAgB;QAChC,IAAI,OAAO,CAAC,UAAU,IAAI,IAAI,IAAI,OAAO,CAAC,UAAU,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;YACnE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;QACpC,CAAC;QAED,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,OAAO,CAAC,UAAU,CAAA;QAC1C,MAAM,MAAM,GAAG,eAAe,CAAC,IAAI,CAAC,CAAA;QAEpC,GAAG,CAAC,sBAAsB,EAAE,MAAM,CAAC,CAAA;QACnC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;QAEjD,GAAG,CAAC,0CAA0C,EAAE,KAAK,CAAC,CAAA;QACtD,MAAM,MAAM,GAAG,MAAM,UAAU,CAAC,SAAS,CAAC,KAAK,EAAE;YAC/C,wBAAwB,EAAE,IAAI;YAC9B,kDAAkD;YAClD,sBAAsB,EAAE,IAAI;SAC7B,CAAC,CAAA;QAEF,OAAO;YACL,UAAU,EAAE;gBACV,IAAI,EAAE,MAAM,CAAC,OAAO,EAAE;gBACtB,IAAI,EAAE,UAAU,CAAC,UAAU,CAAC,KAAK;gBACjC,KAAK,EAAE,MAAM,CAAC,QAAQ,IAAI,EAAE;aAC7B;YACD,UAAU,EAAE,MAAM;SACnB,CAAA;IACH,CAAC;IAED;;;;OAIG;IACH,KAAK,CAAC,qBAAqB,CAAE,OAAgB;QAC3C,IAAI,OAAO,CAAC,aAAa,IAAI,IAAI,IAAI,OAAO,CAAC,aAAa,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;YACzE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;QACpC,CAAC;QAED,MAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,KAAK,CAAA;QAC7C,MAAM,IAAI,GAAG,SAAS,CAAC,OAAO,CAAC,aAAa,CAAC,IAAI,CAAC,CAAA;QAClD,IAAI,IAAyB,CAAA;QAE7B,GAAG,CAAC,mCAAmC,EAAE,SAAS,CAAC,CAAA;QACnD,MAAM,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,EAAE,EAAE;YAC7D,OAAO,CAAC,OAAO,EAAE;iBACd,IAAI,CAAC,KAAK,IAAI,EAAE;gBACf,uDAAuD;gBACvD,0DAA0D;gBAC1D,8DAA8D;gBAC9D,IAAI,GAAG,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;oBAC/B,QAAQ,EAAE,mBAAmB;iBAC9B,CAAC,CAAA;gBAEF,MAAM,OAAO,GAAG,UAAU,CAAC,MAAM,CAAC;oBAChC,IAAI,EAAE,UAAU,CAAC,UAAU,CAAC,OAAO,EAAE;oBACrC,IAAI,EAAE,UAAU,CAAC,UAAU,CAAC,KAAK;oBACjC,KAAK,EAAE,MAAM,CAAC,QAAQ,IAAI,EAAE;iBAC7B,CAAC,CAAA;gBACF,MAAM,cAAc,GAAG,EAAE,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAA;gBAEhD,2CAA2C;gBAC3C,uDAAuD;gBACvD,MAAM,IAAI,CACR,CAAC,KAAK,SAAU,CAAC;oBACf,MAAM,cAAc,CAAA;oBACpB,KAAM,CAAC,CAAC,MAAM,CAAC,MAAM,CAAA;gBACvB,CAAC,EAAE,CAAC,EACJ,KAAK,SAAU,CAAC,EAAE,MAAM;oBACtB,IAAI,KAAK,EAAE,MAAM,IAAI,IAAI,MAAM,EAAE,CAAC;wBAChC,uDAAuD;wBACvD,KAAM,CAAC,CAAC,IAAI,CAAA;oBACd,CAAC;gBACH,CAAC,EACD,IAAI,EACJ,MAAM,CAAC,IAAI,CACZ,CAAA;YACH,CAAC,CAAC;iBACD,KAAK,CAAC,KAAK,EAAC,GAAG,EAAC,EAAE;gBACjB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBAEd,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;oBACjB,MAAM,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBACvB,CAAC;YACH,CAAC,CAAC;iBACD,OAAO,CAAC,GAAG,EAAE;gBACZ,IAAI,IAAI,IAAI,IAAI,EAAE,CAAC;oBACjB,IAAI,CAAC,KAAK,EAAE;yBACT,KAAK,CAAC,GAAG,CAAC,EAAE;wBACX,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;oBAChB,CAAC,CAAC,CAAA;gBACN,CAAC;YACH,CAAC,CAAC,CAAA;QACN,CAAC,EAAE;YACD,wBAAwB,EAAE,IAAI;YAC9B,kDAAkD;YAClD,sBAAsB,EAAE,IAAI;SAC7B,CAAC,CAAA;IACJ,CAAC;IAED;;OAEG;IACH,OAAO;QACL,kCAAkC;QAClC,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;QACnC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;QAClC,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;IACpC,CAAC;IAED,OAAO;QACL,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE;YACzC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;QAChB,CAAC,CAAC,CAAA;IACJ,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,KAAK;QACT,IAAI,CAAC,OAAO,EAAE,CAAA;QACd,MAAM,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAA;QACzB,MAAM,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAA;IAC5C,CAAC;IAED,YAAY;QACV,MAAM,KAAK,GAAG,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAA;QAEtC,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC;YACrB,OAAO,KAAK,CAAC,CAAC,CAAC,CAAA;QACjB,CAAC;QAED,MAAM,IAAI,KAAK,CAAC,aAAa,CAAC,CAAA;IAChC,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,IAAI,CAAE,OAAO,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE;QACnC,MAAM,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAA;QACxB,MAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,CAAA;QAC3B,IAAI,OAAO,CAAC,IAAI,EAAE,CAAC;YACjB,GAAG,CAAC,wBAAwB,CAAC,CAAA;QAC/B,CAAC;QACD,OAAO,CAAC,cAAc,CAAC,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;QAC/C,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;QAC9C,OAAO,CAAC,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;IAChD,CAAC;IAED,KAAK,CAAC,CAAE,sBAAsB,CAAE,OAAyB;QACvD,IAAI,CAAC;YACH,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;gBACrB,KAAK,gBAAgB,CAAC,IAAI,CAAC,aAAa;oBACtC,IAAI,OAAO,CAAC,EAAE,IAAI,IAAI,EAAE,CAAC;wBACvB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,MAAM,MAAM,GAAG,eAAe,CAAC,OAAO,CAAC,EAAE,CAAC,CAAA,CAAC,2CAA2C;oBACtF,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA,CAAC,2CAA2C;oBAChG,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAA,CAAC,2CAA2C;oBACzE,MAAM,UAAU,CAAC,EAAE,SAAS,EAAE,EAAE,MAAM,EAAE,EAAE,CAAC,CAAA;oBAC3C,OAAM;gBACR,KAAK,gBAAgB,CAAC,IAAI,CAAC,aAAa;oBACtC,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAA;gBACxC;oBACE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;YAC/C,CAAC;QACH,CAAC;QAAC,OAAO,GAAQ,EAAE,CAAC;YAClB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACd,MAAM,aAAa,CAAC,GAAG,CAAC,CAAA;QAC1B,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,CAAE,mBAAmB,CAAE,OAAkB;QAC7C,IAAI,CAAC;YACH,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,IAAI,IAAI,CAAC,EAAE,CAAC;gBAC3E,MAAM,IAAI,KAAK,CAAC,uBAAuB,CAAC,CAAA;YAC1C,CAAC;YAED,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;gBACrB,KAAK,SAAS,CAAC,IAAI,CAAC,UAAU;oBAC5B,KAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAA;oBACzC,OAAM;gBACR,KAAK,SAAS,CAAC,IAAI,CAAC,SAAS;oBAC3B,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;wBAC1B,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;oBACtD,OAAM;gBACR,KAAK,SAAS,CAAC,IAAI,CAAC,OAAO;oBACzB,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC;wBAClD,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,IAAI,CAAC,CAAA;oBAClE,OAAM;gBACR,KAAK,SAAS,CAAC,IAAI,CAAC,UAAU;oBAC5B,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;wBAC1B,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAA;oBACtD,OAAM;gBACR;oBACE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;YAC/C,CAAC;QACH,CAAC;QAAC,OAAO,GAAQ,EAAE,CAAC;YAClB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACd,MAAM,aAAa,CAAC,GAAG,CAAC,CAAA;QAC1B,CAAC;IACH,CAAC;IAED;;OAEG;IACH,KAAK,CAAC,CAAE,gBAAgB,CAAE,OAAmB;QAC3C,IAAI,CAAC;YACH,IAAI,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,IAAI,CAAC,EAAE,CAAC;gBACrE,MAAM,IAAI,KAAK,CAAC,oBAAoB,CAAC,CAAA;YACvC,CAAC;YAED,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;gBACrB,KAAK,UAAU,CAAC,IAAI,CAAC,SAAS;oBAC5B,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC;wBACzB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAA;oBAClE,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,cAAc;oBACjC,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;wBACxB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,OAAO,CAAC,KAAK,IAAI,EAAE,CAAC,CAAA;oBACtF,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,OAAO;oBAC1B,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;wBACxB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAA;oBAC3D,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,iBAAiB;oBACpC,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;wBACxB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;oBACvD,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,cAAc;oBACjC,IAAI,OAAO,CAAC,IAAI,IAAI,IAAI,EAAE,CAAC;wBACzB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,eAAe,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAA;oBACtE,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,SAAS;oBAC5B,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;wBACxB,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;oBAChD,OAAM;gBACR,KAAK,UAAU,CAAC,IAAI,CAAC,SAAS;oBAC5B,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,IAAI,OAAO,CAAC,KAAK,IAAI,IAAI,EAAE,CAAC;wBACjD,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;oBACpC,CAAC;oBAED,KAAM,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,EAAE,OAAO,CAAC,KAAK,CAAC,CAAA;oBAC/D,OAAM;gBACR;oBACE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;YAC/C,CAAC;QACH,CAAC;QAAC,OAAO,GAAQ,EAAE,CAAC;YAClB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;YACd,MAAM,aAAa,CAAC,GAAG,CAAC,CAAA;QAC1B,CAAC;IACH,CAAC;IAED;;OAEG;IACH,gBAAgB,CAAE,MAA2B;QAC3C,KAAK,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE;YACrC,MAAM,MAAM,GAAG,IAAI,CAAA,CAAC,uDAAuD;YAE3E,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,EAAE;gBAC1B,aAAa,EAAE,KAAK;aACrB,CAAC,CAAA;YAEF,MAAM,OAAO,GAAG,MAAM,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;YACtC,GAAG,CAAC,MAAM,EAAE,OAAO,CAAC,CAAA;YAEpB,IAAI,CAAC;gBACH,QAAQ,OAAO,CAAC,IAAI,EAAE,CAAC;oBACrB,0BAA0B;oBAC1B,KAAK,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;wBAC1B,MAAM,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,CAAA;wBAC7B,MAAM,EAAE,CAAC,KAAK,CAAC;4BACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;yBACvB,EAAE,QAAQ,CAAC,CAAA;wBAEZ,MAAK;oBACP,CAAC;oBACD,uCAAuC;oBACvC,KAAK,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;wBAC3B,MAAM,EAAE,CAAC,KAAK,CAAC;4BACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtB,QAAQ,EAAE;gCACR,EAAE,EAAE,MAAM,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE;gCAClC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,aAAa,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,eAAe,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC;6BAC5G;yBACF,EAAE,QAAQ,CAAC,CAAA;wBAEZ,MAAK;oBACP,CAAC;oBACD,kCAAkC;oBAClC,KAAK,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;wBAC7B,MAAM,KAAK,GAAG,EAAE,CAAA;wBAChB,MAAM,IAAI,GAAG,IAAI,GAAG,EAAU,CAAA;wBAE9B,KAAK,MAAM,UAAU,IAAI,MAAM,CAAC,MAAM,CAAC,cAAc,EAAE,EAAE,CAAC;4BACxD,MAAM,MAAM,GAAG,UAAU,CAAC,UAAU,CAAC,QAAQ,EAAE,CAAA;4BAE/C,IAAI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;gCACrB,SAAQ;4BACV,CAAC;4BAED,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;4BAEhB,KAAK,CAAC,IAAI,CAAC;gCACT,EAAE,EAAE,UAAU,CAAC,UAAU,CAAC,OAAO,EAAE;gCACnC,KAAK,EAAE,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC;6BACrC,CAAC,CAAA;wBACJ,CAAC;wBAED,MAAM,EAAE,CAAC,KAAK,CAAC;4BACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtB,KAAK;yBACN,EAAE,QAAQ,CAAC,CAAA;wBAEZ,MAAK;oBACP,CAAC;oBACD,KAAK,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;wBAC9B,MAAM,QAAQ,GAAG,MAAM,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,CAAA;wBAEjD,qBAAqB;wBACrB,MAAM,EAAE,CAAC,KAAK,CAAC;4BACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;4BACtB,UAAU,EAAE,QAAQ,CAAC,UAAU;yBAChC,EAAE,QAAQ,CAAC,CAAA;wBAEZ,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,CAAA;wBAE1B,yCAAyC;wBACzC,MAAM,IAAI,CACR,MAAM,EACN,QAAQ,CAAC,UAAU,EACnB,MAAM,CACP,CAAA;wBAED,uDAAuD;wBACvD,MAAK;oBACP,CAAC;oBACD,KAAK,OAAO,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;wBACjC,MAAM,MAAM,CAAC,qBAAqB,CAAC,OAAO,CAAC,CAAA;wBAE3C,qBAAqB;wBACrB,MAAM,EAAE,CAAC,KAAK,CAAC;4BACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,EAAE;yBACvB,EAAE,QAAQ,CAAC,CAAA;wBAEZ,MAAK;oBACP,CAAC;oBACD,KAAK,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;wBAC5B,IAAI,OAAO,CAAC,SAAS,IAAI,IAAI,EAAE,CAAC;4BAC9B,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAA;wBACxC,CAAC;wBAED,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,CAAA;wBAC1B,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAA;wBAE3B,IAAI,KAAK,EAAE,MAAM,GAAG,IAAI,MAAM,CAAC,sBAAsB,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,CAAC;4BACzE,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;wBACrB,CAAC;wBAED,MAAK;oBACP,CAAC;oBACD,KAAK,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBACzB,IAAI,OAAO,CAAC,MAAM,IAAI,IAAI,EAAE,CAAC;4BAC3B,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAA;wBACxC,CAAC;wBAED,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,CAAA;wBAC1B,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAA;wBAE3B,IAAI,KAAK,EAAE,MAAM,GAAG,IAAI,MAAM,CAAC,mBAAmB,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,CAAC;4BACnE,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;wBACrB,CAAC;wBAED,MAAK;oBACP,CAAC;oBACD,KAAK,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;wBACtB,IAAI,OAAO,CAAC,GAAG,IAAI,IAAI,EAAE,CAAC;4BACxB,MAAM,IAAI,KAAK,CAAC,qBAAqB,CAAC,CAAA;wBACxC,CAAC;wBAED,MAAM,MAAM,GAAG,EAAE,CAAC,MAAM,EAAE,CAAA;wBAC1B,MAAM,EAAE,GAAG,QAAQ,CAAC,MAAM,CAAC,CAAA;wBAE3B,IAAI,KAAK,EAAE,MAAM,GAAG,IAAI,MAAM,CAAC,gBAAgB,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;4BAC7D,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;wBACrB,CAAC;wBAED,MAAK;oBACP,CAAC;oBACD,qCAAqC;oBACrC;wBACE,MAAM,IAAI,KAAK,CAAC,0BAA0B,CAAC,CAAA;gBAC/C,CAAC;YACH,CAAC;YAAC,OAAO,GAAQ,EAAE,CAAC;gBAClB,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAA;gBACd,MAAM,EAAE,CAAC,KAAK,CAAC;oBACb,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,KAAK;oBACzB,KAAK,EAAE;wBACL,GAAG,EAAE,GAAG,CAAC,OAAO;qBACjB;oBACD,KAAK,EAAE,EAAE;iBACV,EAAE,QAAQ,CAAC,CAAA;YACd,CAAC;oBAAS,CAAC;gBACT,MAAM,EAAE,CAAC,MAAM,EAAE,CAAC,KAAK,EAAE,CAAA;YAC3B,CAAC;QACH,CAAC,CAAC;aACC,KAAK,CAAC,GAAG,CAAC,EAAE;YACX,GAAG,CAAC,KAAK,CAAC,oCAAoC,EAAE,GAAG,CAAC,CAAA;QACtD,CAAC,CAAC,CAAA;IACN,CAAC;CACF;AAED;;GAEG;AACH,MAAM,CAAC,MAAM,YAAY,GAAG,CAAC,SAAoB,EAAE,UAAsD,EAAgB,EAAE;IACzH,MAAM,MAAM,GAAG,IAAI,MAAM,CAAC;QACxB,SAAS;QACT,UAAU;KACX,CAAC,CAAA;IAEF,OAAO,MAAM,CAAA;AACf,CAAC,CAAA"}
\ No newline at end of file
+{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/index.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/src/pubsub.d.ts.map b/node_modules/@libp2p/daemon-server/dist/src/pubsub.d.ts.map
index e21e60d..6bd2c8a 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/pubsub.d.ts.map
+++ b/node_modules/@libp2p/daemon-server/dist/src/pubsub.d.ts.map
@@ -1 +1 @@
-{"version":3,"file":"pubsub.d.ts","sourceRoot":"","sources":["../../src/pubsub.ts"],"names":[],"mappings":"AASA,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAA;AAI5D,MAAM,WAAW,oBAAoB;IACnC,MAAM,EAAE,SAAS,CAAA;CAClB;AAED,qBAAa,gBAAgB;IAC3B,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAW;gBAErB,IAAI,EAAE,oBAAoB;IAM/B,SAAS,IAAK,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAczD,SAAS,CAAE,KAAK,EAAE,MAAM,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAqCtE,OAAO,CAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAUtF,SAAS,CAAE,KAAK,EAAE,MAAM,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;CAa/E"}
\ No newline at end of file
+{"version":3,"file":"pubsub.d.ts","sourceRoot":"","sources":["../../src/pubsub.ts"],"names":[],"mappings":"AAUA,OAAO,KAAK,EAAE,SAAS,EAAE,MAAM,6BAA6B,CAAA;AAI5D,MAAM,WAAW,oBAAoB;IACnC,MAAM,EAAE,SAAS,CAAA;CAClB;AAED,qBAAa,gBAAgB;IAC3B,OAAO,CAAC,QAAQ,CAAC,MAAM,CAAW;gBAErB,IAAI,EAAE,oBAAoB;IAM/B,SAAS,IAAK,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAczD,SAAS,CAAE,KAAK,EAAE,MAAM,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAqCtE,OAAO,CAAE,KAAK,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;IAUtF,SAAS,CAAE,KAAK,EAAE,MAAM,GAAG,cAAc,CAAC,UAAU,EAAE,IAAI,EAAE,SAAS,CAAC;CAa/E"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/src/pubsub.js b/node_modules/@libp2p/daemon-server/dist/src/pubsub.js
index 22888b6..9e2ef97 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/pubsub.js
+++ b/node_modules/@libp2p/daemon-server/dist/src/pubsub.js
@@ -1,4 +1,5 @@
 /* eslint max-depth: ["error", 6] */
+import { publicKeyToProtobuf } from '@libp2p/crypto/keys';
 import { PSMessage } from '@libp2p/daemon-protocol';
 import { logger } from '@libp2p/logger';
 import { pushable } from 'it-pushable';
@@ -36,12 +37,12 @@ export class PubSubOperations {
                 }
                 if (msg.type === 'signed') {
                     onMessage.push(PSMessage.encode({
-                        from: msg.from.toBytes(),
+                        from: msg.from.toMultihash().bytes,
                         data: msg.data,
                         seqno: msg.sequenceNumber == null ? undefined : uint8ArrayFromString(msg.sequenceNumber.toString(16).padStart(16, '0'), 'base16'),
                         topicIDs: [msg.topic],
                         signature: msg.signature,
-                        key: msg.key
+                        key: publicKeyToProtobuf(msg.key)
                     }).subarray());
                 }
                 else {
@@ -74,7 +75,7 @@ export class PubSubOperations {
             yield OkResponse({
                 pubsub: {
                     topics: [topic],
-                    peerIDs: this.pubsub.getSubscribers(topic).map(peer => peer.toBytes())
+                    peerIDs: this.pubsub.getSubscribers(topic).map(peer => peer.toMultihash().bytes)
                 }
             });
         }
diff --git a/node_modules/@libp2p/daemon-server/dist/src/pubsub.js.map b/node_modules/@libp2p/daemon-server/dist/src/pubsub.js.map
index b9c48f5..9c2bb69 100644
--- a/node_modules/@libp2p/daemon-server/dist/src/pubsub.js.map
+++ b/node_modules/@libp2p/daemon-server/dist/src/pubsub.js.map
@@ -1 +1 @@
-{"version":3,"file":"pubsub.js","sourceRoot":"","sources":["../../src/pubsub.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
+{"version":3,"file":"pubsub.js","sourceRoot":"","sources":["../../src/pubsub.ts"],"names":[],"mappings":"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"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts b/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts
new file mode 100644
index 0000000..b37c2d2
--- /dev/null
+++ b/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts
@@ -0,0 +1,2 @@
+export {};
+//# sourceMappingURL=index.spec.d.ts.map
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts.map b/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts.map
new file mode 100644
index 0000000..5c89780
--- /dev/null
+++ b/node_modules/@libp2p/daemon-server/dist/test/index.spec.d.ts.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.spec.d.ts","sourceRoot":"","sources":["../../test/index.spec.ts"],"names":[],"mappings":""}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/test/index.spec.js b/node_modules/@libp2p/daemon-server/dist/test/index.spec.js
new file mode 100644
index 0000000..22ff926
--- /dev/null
+++ b/node_modules/@libp2p/daemon-server/dist/test/index.spec.js
@@ -0,0 +1,33 @@
+/* eslint-env mocha */
+/* eslint max-nested-callbacks: ["error", 5] */
+import { multiaddr } from '@multiformats/multiaddr';
+import { expect } from 'aegir/chai';
+import { stubInterface } from 'sinon-ts';
+import { createServer } from '../src/index.js';
+const ma = multiaddr('/ip4/0.0.0.0/tcp/0');
+describe('server', () => {
+    it('should start', async () => {
+        const libp2p = stubInterface();
+        const server = createServer(ma, libp2p);
+        await server.start();
+        expect(libp2p.start.called).to.be.true();
+        await server.stop();
+    });
+    it('should stop', async () => {
+        const libp2p = stubInterface();
+        const server = createServer(ma, libp2p);
+        await server.start();
+        await server.stop();
+        expect(libp2p.stop.called).to.be.true();
+    });
+    it('should return multiaddrs', async () => {
+        const libp2p = stubInterface();
+        const server = createServer(ma, libp2p);
+        expect(() => server.getMultiaddr()).to.throw(/Not started/);
+        await server.start();
+        expect(server.getMultiaddr()).to.be.ok();
+        await server.stop();
+        expect(() => server.getMultiaddr()).to.throw(/Not started/);
+    });
+});
+//# sourceMappingURL=index.spec.js.map
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/test/index.spec.js.map b/node_modules/@libp2p/daemon-server/dist/test/index.spec.js.map
new file mode 100644
index 0000000..5ac16e9
--- /dev/null
+++ b/node_modules/@libp2p/daemon-server/dist/test/index.spec.js.map
@@ -0,0 +1 @@
+{"version":3,"file":"index.spec.js","sourceRoot":"","sources":["../../test/index.spec.ts"],"names":[],"mappings":"AAAA,sBAAsB;AACtB,+CAA+C;AAE/C,OAAO,EAAE,SAAS,EAAE,MAAM,yBAAyB,CAAA;AACnD,OAAO,EAAE,MAAM,EAAE,MAAM,YAAY,CAAA;AACnC,OAAO,EAAE,aAAa,EAAE,MAAM,UAAU,CAAA;AACxC,OAAO,EAAE,YAAY,EAAE,MAAM,iBAAiB,CAAA;AAK9C,MAAM,EAAE,GAAG,SAAS,CAAC,oBAAoB,CAAC,CAAA;AAE1C,QAAQ,CAAC,QAAQ,EAAE,GAAG,EAAE;IACtB,EAAE,CAAC,cAAc,EAAE,KAAK,IAAI,EAAE;QAC5B,MAAM,MAAM,GAAG,aAAa,EAA8C,CAAA;QAE1E,MAAM,MAAM,GAAG,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,CAAA;QAEvC,MAAM,MAAM,CAAC,KAAK,EAAE,CAAA;QAEpB,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,EAAE,CAAA;QAExC,MAAM,MAAM,CAAC,IAAI,EAAE,CAAA;IACrB,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,aAAa,EAAE,KAAK,IAAI,EAAE;QAC3B,MAAM,MAAM,GAAG,aAAa,EAA8C,CAAA;QAE1E,MAAM,MAAM,GAAG,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,CAAA;QAEvC,MAAM,MAAM,CAAC,KAAK,EAAE,CAAA;QACpB,MAAM,MAAM,CAAC,IAAI,EAAE,CAAA;QAEnB,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,EAAE,CAAA;IACzC,CAAC,CAAC,CAAA;IAEF,EAAE,CAAC,0BAA0B,EAAE,KAAK,IAAI,EAAE;QACxC,MAAM,MAAM,GAAG,aAAa,EAA8C,CAAA;QAE1E,MAAM,MAAM,GAAG,YAAY,CAAC,EAAE,EAAE,MAAM,CAAC,CAAA;QAEvC,MAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,CAAA;QAE3D,MAAM,MAAM,CAAC,KAAK,EAAE,CAAA;QAEpB,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAA;QAExC,MAAM,MAAM,CAAC,IAAI,EAAE,CAAA;QAEnB,MAAM,CAAC,GAAG,EAAE,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,aAAa,CAAC,CAAA;IAC7D,CAAC,CAAC,CAAA;AACJ,CAAC,CAAC,CAAA"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/tsconfig.tsbuildinfo b/node_modules/@libp2p/daemon-server/dist/tsconfig.tsbuildinfo
new file mode 100644
index 0000000..74fecc1
--- /dev/null
+++ b/node_modules/@libp2p/daemon-server/dist/tsconfig.tsbuildinfo
@@ -0,0 +1 @@
+{"program":{"fileNames":["../../../node_modules/typescript/lib/lib.es5.d.ts","../../../node_modules/typescript/lib/lib.es2015.d.ts","../../../node_modules/typescript/lib/lib.es2016.d.ts","../../../node_modules/typescript/lib/lib.es2017.d.ts","../../../node_modules/typescript/lib/lib.es2018.d.ts","../../../node_modules/typescript/lib/lib.es2019.d.ts","../../../node_modules/typescript/lib/lib.es2020.d.ts","../../../node_modules/typescript/lib/lib.es2021.d.ts","../../../node_modules/typescript/lib/lib.es2022.d.ts","../../../node_modules/typescript/lib/lib.es2023.d.ts","../../../node_modules/typescript/lib/lib.dom.d.ts","../../../node_modules/typescript/lib/lib.dom.iterable.d.ts","../../../node_modules/typescript/lib/lib.webworker.d.ts","../../../node_modules/typescript/lib/lib.es2015.core.d.ts","../../../node_modules/typescript/lib/lib.es2015.collection.d.ts","../../../node_modules/typescript/lib/lib.es2015.generator.d.ts","../../../node_modules/typescript/lib/lib.es2015.iterable.d.ts","../../../node_modules/typescript/lib/lib.es2015.promise.d.ts","../../../node_modules/typescript/lib/lib.es2015.proxy.d.ts","../../../node_modules/typescript/lib/lib.es2015.reflect.d.ts","../../../node_modules/typescript/lib/lib.es2015.symbol.d.ts","../../../node_modules/typescript/lib/lib.es2015.symbol.wellknown.d.ts","../../../node_modules/typescript/lib/lib.es2016.array.include.d.ts","../../../node_modules/typescript/lib/lib.es2016.intl.d.ts","../../../node_modules/typescript/lib/lib.es2017.date.d.ts","../../../node_modules/typescript/lib/lib.es2017.object.d.ts","../../../node_modules/typescript/lib/lib.es2017.sharedmemory.d.ts","../../../node_modules/typescript/lib/lib.es2017.string.d.ts","../../../node_modules/typescript/lib/lib.es2017.intl.d.ts","../../../node_modules/typescript/lib/lib.es2017.typedarrays.d.ts","../../../node_modules/typescript/lib/lib.es2018.asyncgenerator.d.ts","../../../node_modules/typescript/lib/lib.es2018.asynciterable.d.ts","../../../node_modules/typescript/lib/lib.es2018.intl.d.ts","../../../node_modules/typescript/lib/lib.es2018.promise.d.ts","../../../node_modules/typescript/lib/lib.es2018.regexp.d.ts","../../../node_modules/typescript/lib/lib.es2019.array.d.ts","../../../node_modules/typescript/lib/lib.es2019.object.d.ts","../../../node_modules/typescript/lib/lib.es2019.string.d.ts","../../../node_modules/typescript/lib/lib.es2019.symbol.d.ts","../../../node_modules/typescript/lib/lib.es2019.intl.d.ts","../../../node_modules/typescript/lib/lib.es2020.bigint.d.ts","../../../node_modules/typescript/lib/lib.es2020.date.d.ts","../../../node_modules/typescript/lib/lib.es2020.promise.d.ts","../../../node_modules/typescript/lib/lib.es2020.sharedmemory.d.ts","../../../node_modules/typescript/lib/lib.es2020.string.d.ts","../../../node_modules/typescript/lib/lib.es2020.symbol.wellknown.d.ts","../../../node_modules/typescript/lib/lib.es2020.intl.d.ts","../../../node_modules/typescript/lib/lib.es2020.number.d.ts","../../../node_modules/typescript/lib/lib.es2021.promise.d.ts","../../../node_modules/typescript/lib/lib.es2021.string.d.ts","../../../node_modules/typescript/lib/lib.es2021.weakref.d.ts","../../../node_modules/typescript/lib/lib.es2021.intl.d.ts","../../../node_modules/typescript/lib/lib.es2022.array.d.ts","../../../node_modules/typescript/lib/lib.es2022.error.d.ts","../../../node_modules/typescript/lib/lib.es2022.intl.d.ts","../../../node_modules/typescript/lib/lib.es2022.object.d.ts","../../../node_modules/typescript/lib/lib.es2022.sharedmemory.d.ts","../../../node_modules/typescript/lib/lib.es2022.string.d.ts","../../../node_modules/typescript/lib/lib.es2022.regexp.d.ts","../../../node_modules/typescript/lib/lib.es2023.array.d.ts","../../../node_modules/typescript/lib/lib.es2023.collection.d.ts","../../../node_modules/typescript/lib/lib.esnext.intl.d.ts","../../../node_modules/typescript/lib/lib.decorators.d.ts","../../../node_modules/typescript/lib/lib.decorators.legacy.d.ts","../../../node_modules/protons-runtime/dist/src/codec.d.ts","../../../node_modules/uint8arraylist/dist/src/index.d.ts","../../../node_modules/protons-runtime/dist/src/decode.d.ts","../../../node_modules/protons-runtime/dist/src/encode.d.ts","../../../node_modules/protons-runtime/dist/src/codecs/enum.d.ts","../../../node_modules/protons-runtime/dist/src/codecs/message.d.ts","../../../node_modules/protons-runtime/dist/src/utils/reader.d.ts","../../../node_modules/protons-runtime/dist/src/utils/writer.d.ts","../../../node_modules/protons-runtime/dist/src/index.d.ts","../../libp2p-daemon-protocol/dist/src/index.d.ts","../../../node_modules/multiformats/dist/src/bases/interface.d.ts","../../../node_modules/multiformats/dist/src/block/interface.d.ts","../../../node_modules/multiformats/dist/src/hashes/interface.d.ts","../../../node_modules/multiformats/dist/src/link/interface.d.ts","../../../node_modules/multiformats/dist/src/cid.d.ts","../../../node_modules/@libp2p/interface/dist/src/keys/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-id/index.d.ts","../../../node_modules/@multiformats/multiaddr/dist/src/protocols-table.d.ts","../../../node_modules/@multiformats/dns/dist/src/resolvers/dns-over-https.d.ts","../../../node_modules/@multiformats/dns/dist/src/resolvers/dns-json-over-https.d.ts","../../../node_modules/@multiformats/dns/dist/src/resolvers/index.d.ts","../../../node_modules/progress-events/dist/src/index.d.ts","../../../node_modules/@multiformats/dns/dist/src/index.d.ts","../../../node_modules/@multiformats/multiaddr/dist/src/resolvers/dnsaddr.d.ts","../../../node_modules/@multiformats/multiaddr/dist/src/resolvers/index.d.ts","../../../node_modules/@multiformats/multiaddr/dist/src/filter/multiaddr-filter.d.ts","../../../node_modules/@multiformats/multiaddr/dist/src/index.d.ts","../../../node_modules/it-stream-types/dist/src/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/connection/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-info/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/content-routing/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/event-target.d.ts","../../../node_modules/@libp2p/interface/dist/src/metrics/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-routing/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-store/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/startable.d.ts","../../../node_modules/@libp2p/interface/dist/src/stream-handler/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/topology/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/stream-muxer/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/transport/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/connection-encrypter/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/connection-gater/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-discovery/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/peer-store/tags.d.ts","../../../node_modules/it-pushable/dist/src/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/pubsub/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/record/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/errors.d.ts","../../../node_modules/@types/node/assert.d.ts","../../../node_modules/@types/node/assert/strict.d.ts","../../../node_modules/buffer/index.d.ts","../../../node_modules/undici-types/header.d.ts","../../../node_modules/undici-types/readable.d.ts","../../../node_modules/undici-types/file.d.ts","../../../node_modules/undici-types/fetch.d.ts","../../../node_modules/undici-types/formdata.d.ts","../../../node_modules/undici-types/connector.d.ts","../../../node_modules/undici-types/client.d.ts","../../../node_modules/undici-types/errors.d.ts","../../../node_modules/undici-types/dispatcher.d.ts","../../../node_modules/undici-types/global-dispatcher.d.ts","../../../node_modules/undici-types/global-origin.d.ts","../../../node_modules/undici-types/pool-stats.d.ts","../../../node_modules/undici-types/pool.d.ts","../../../node_modules/undici-types/handlers.d.ts","../../../node_modules/undici-types/balanced-pool.d.ts","../../../node_modules/undici-types/agent.d.ts","../../../node_modules/undici-types/mock-interceptor.d.ts","../../../node_modules/undici-types/mock-agent.d.ts","../../../node_modules/undici-types/mock-client.d.ts","../../../node_modules/undici-types/mock-pool.d.ts","../../../node_modules/undici-types/mock-errors.d.ts","../../../node_modules/undici-types/proxy-agent.d.ts","../../../node_modules/undici-types/env-http-proxy-agent.d.ts","../../../node_modules/undici-types/retry-handler.d.ts","../../../node_modules/undici-types/retry-agent.d.ts","../../../node_modules/undici-types/api.d.ts","../../../node_modules/undici-types/interceptors.d.ts","../../../node_modules/undici-types/util.d.ts","../../../node_modules/undici-types/cookies.d.ts","../../../node_modules/undici-types/patch.d.ts","../../../node_modules/undici-types/websocket.d.ts","../../../node_modules/undici-types/eventsource.d.ts","../../../node_modules/undici-types/filereader.d.ts","../../../node_modules/undici-types/diagnostics-channel.d.ts","../../../node_modules/undici-types/content-type.d.ts","../../../node_modules/undici-types/cache.d.ts","../../../node_modules/undici-types/index.d.ts","../../../node_modules/@types/node/globals.d.ts","../../../node_modules/@types/node/async_hooks.d.ts","../../../node_modules/@types/node/buffer.d.ts","../../../node_modules/@types/node/child_process.d.ts","../../../node_modules/@types/node/cluster.d.ts","../../../node_modules/@types/node/console.d.ts","../../../node_modules/@types/node/constants.d.ts","../../../node_modules/@types/node/crypto.d.ts","../../../node_modules/@types/node/dgram.d.ts","../../../node_modules/@types/node/diagnostics_channel.d.ts","../../../node_modules/@types/node/dns.d.ts","../../../node_modules/@types/node/dns/promises.d.ts","../../../node_modules/@types/node/domain.d.ts","../../../node_modules/@types/node/dom-events.d.ts","../../../node_modules/@types/node/events.d.ts","../../../node_modules/@types/node/fs.d.ts","../../../node_modules/@types/node/fs/promises.d.ts","../../../node_modules/@types/node/http.d.ts","../../../node_modules/@types/node/http2.d.ts","../../../node_modules/@types/node/https.d.ts","../../../node_modules/@types/node/inspector.d.ts","../../../node_modules/@types/node/module.d.ts","../../../node_modules/@types/node/net.d.ts","../../../node_modules/@types/node/os.d.ts","../../../node_modules/@types/node/path.d.ts","../../../node_modules/@types/node/perf_hooks.d.ts","../../../node_modules/@types/node/process.d.ts","../../../node_modules/@types/node/punycode.d.ts","../../../node_modules/@types/node/querystring.d.ts","../../../node_modules/@types/node/readline.d.ts","../../../node_modules/@types/node/readline/promises.d.ts","../../../node_modules/@types/node/repl.d.ts","../../../node_modules/@types/node/sea.d.ts","../../../node_modules/@types/node/stream.d.ts","../../../node_modules/@types/node/stream/promises.d.ts","../../../node_modules/@types/node/stream/consumers.d.ts","../../../node_modules/@types/node/stream/web.d.ts","../../../node_modules/@types/node/string_decoder.d.ts","../../../node_modules/@types/node/test.d.ts","../../../node_modules/@types/node/timers.d.ts","../../../node_modules/@types/node/timers/promises.d.ts","../../../node_modules/@types/node/tls.d.ts","../../../node_modules/@types/node/trace_events.d.ts","../../../node_modules/@types/node/tty.d.ts","../../../node_modules/@types/node/url.d.ts","../../../node_modules/@types/node/util.d.ts","../../../node_modules/@types/node/v8.d.ts","../../../node_modules/@types/node/vm.d.ts","../../../node_modules/@types/node/wasi.d.ts","../../../node_modules/@types/node/worker_threads.d.ts","../../../node_modules/@types/node/zlib.d.ts","../../../node_modules/@types/node/globals.global.d.ts","../../../node_modules/@types/node/index.d.ts","../../../node_modules/@libp2p/interface/dist/src/events.d.ts","../../../node_modules/@libp2p/interface/dist/src/index.d.ts","../../../node_modules/@libp2p/logger/dist/src/index.d.ts","../../../node_modules/it-drain/dist/src/index.d.ts","../src/responses.ts","../../../node_modules/@libp2p/kad-dht/dist/src/message/dht.d.ts","../../../node_modules/multiformats/dist/src/codecs/interface.d.ts","../../../node_modules/multiformats/dist/src/codecs/json.d.ts","../../../node_modules/multiformats/dist/src/codecs/raw.d.ts","../../../node_modules/multiformats/dist/src/bytes.d.ts","../../../node_modules/multiformats/dist/src/hashes/digest.d.ts","../../../node_modules/multiformats/dist/src/hashes/hasher.d.ts","../../../node_modules/multiformats/dist/src/varint.d.ts","../../../node_modules/multiformats/dist/src/interface.d.ts","../../../node_modules/multiformats/dist/src/index.d.ts","../../../node_modules/multiformats/dist/src/bases/base.d.ts","../../../node_modules/multiformats/dist/src/basics.d.ts","../../../node_modules/uint8arrays/dist/src/util/bases.d.ts","../../../node_modules/uint8arrays/dist/src/to-string.d.ts","../../../node_modules/interface-datastore/dist/src/key.d.ts","../../../node_modules/@libp2p/kad-dht/dist/src/utils.d.ts","../../../node_modules/interface-store/dist/src/errors.d.ts","../../../node_modules/interface-store/dist/src/index.d.ts","../../../node_modules/interface-datastore/dist/src/index.d.ts","../../../node_modules/@libp2p/kad-dht/dist/src/providers.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/address-manager/index.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/map.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/set.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/list.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/filter.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/tracked-map.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/tracked-set.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/tracked-list.d.ts","../../../node_modules/@libp2p/peer-collections/dist/src/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/connection-manager/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/random-walk/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/record/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/registrar/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/transport-manager/index.d.ts","../../../node_modules/@libp2p/interface-internal/dist/src/index.d.ts","../../../node_modules/any-signal/dist/src/index.d.ts","../../../node_modules/@libp2p/utils/dist/src/adaptive-timeout.d.ts","../../../node_modules/@libp2p/record/dist/src/record.d.ts","../../../node_modules/@libp2p/record/dist/src/index.d.ts","../../../node_modules/@libp2p/kad-dht/dist/src/index.d.ts","../src/dht.ts","../../libp2p-daemon-protocol/dist/src/upgrader.d.ts","../../../node_modules/@libp2p/peer-id/dist/src/index.d.ts","../../../node_modules/@libp2p/tcp/dist/src/listener.d.ts","../../../node_modules/@libp2p/tcp/dist/src/index.d.ts","../../../node_modules/it-length-prefixed/dist/src/encode.d.ts","../../../node_modules/it-reader/dist/src/index.d.ts","../../../node_modules/it-length-prefixed/dist/src/decode.d.ts","../../../node_modules/it-length-prefixed/dist/src/index.d.ts","../../../node_modules/it-byte-stream/dist/src/index.d.ts","../../../node_modules/it-length-prefixed-stream/dist/src/index.d.ts","../../../node_modules/it-pipe/dist/src/index.d.ts","../../../node_modules/it-protobuf-stream/dist/src/index.d.ts","../../../node_modules/@libp2p/crypto/dist/src/keys/interface.d.ts","../../../node_modules/@libp2p/crypto/dist/src/keys/ecdh.d.ts","../../../node_modules/@libp2p/crypto/dist/src/keys/key-stretcher.d.ts","../../../node_modules/@libp2p/crypto/dist/src/keys/index.d.ts","../../../node_modules/uint8arrays/dist/src/from-string.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/message/decoderpc.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/codec.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/decode.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/encode.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/codecs/enum.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/codecs/message.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/utils/reader.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/utils/writer.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/node_modules/protons-runtime/dist/src/index.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/message/rpc.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/types.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/message-cache.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score-thresholds.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/metrics.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score-params.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/utils/set.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-stats.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/compute-score.d.ts","../../../node_modules/denque/index.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/message-deliveries.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/peer-score.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/score/index.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/stream.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/tracer.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/config.d.ts","../../../node_modules/@chainsafe/libp2p-gossipsub/dist/src/index.d.ts","../src/pubsub.ts","../src/index.ts","../../../node_modules/@types/chai/index.d.ts","../../../node_modules/@types/chai-as-promised/index.d.ts","../../../node_modules/chai-parentheses/index.d.ts","../../../node_modules/@types/chai-subset/index.d.ts","../../../node_modules/chai-bites/index.d.ts","../../../node_modules/@types/chai-string/index.d.ts","../../../node_modules/aegir/dist/utils/chai.d.ts","../../../node_modules/@types/sinonjs__fake-timers/index.d.ts","../../../node_modules/@types/sinon/index.d.ts","../../../node_modules/sinon-ts/dist/src/index.d.ts","../test/index.spec.ts","../../../node_modules/keyv/src/index.d.ts","../../../node_modules/@types/http-cache-semantics/index.d.ts","../../../node_modules/@types/responselike/index.d.ts","../../../node_modules/@types/cacheable-request/index.d.ts","../../../node_modules/@types/ms/index.d.ts","../../../node_modules/@types/debug/index.d.ts","../../../node_modules/@types/dns-packet/index.d.ts","../../../node_modules/@types/istanbul-lib-coverage/index.d.ts","../../../node_modules/@types/json-schema/index.d.ts","../../../node_modules/@types/json5/index.d.ts","../../../node_modules/@types/keyv/index.d.ts","../../../node_modules/@types/linkify-it/build/index.cjs.d.ts","../../../node_modules/@types/linkify-it/index.d.ts","../../../node_modules/@types/mdurl/build/index.cjs.d.ts","../../../node_modules/@types/mdurl/index.d.ts","../../../node_modules/@types/markdown-it/dist/index.cjs.d.ts","../../../node_modules/@types/markdown-it/index.d.ts","../../../node_modules/@types/unist/index.d.ts","../../../node_modules/@types/mdast/index.d.ts","../../../node_modules/@types/minimatch/index.d.ts","../../../node_modules/@types/minimist/index.d.ts","../../../node_modules/@types/mocha/index.d.ts","../../../node_modules/@types/murmurhash3js-revisited/index.d.ts","../../../node_modules/@types/normalize-package-data/index.d.ts","../../../node_modules/@types/parse-json/index.d.ts","../../../node_modules/@types/retry/index.d.ts","../../../node_modules/@types/semver/classes/semver.d.ts","../../../node_modules/@types/semver/functions/parse.d.ts","../../../node_modules/@types/semver/functions/valid.d.ts","../../../node_modules/@types/semver/functions/clean.d.ts","../../../node_modules/@types/semver/functions/inc.d.ts","../../../node_modules/@types/semver/functions/diff.d.ts","../../../node_modules/@types/semver/functions/major.d.ts","../../../node_modules/@types/semver/functions/minor.d.ts","../../../node_modules/@types/semver/functions/patch.d.ts","../../../node_modules/@types/semver/functions/prerelease.d.ts","../../../node_modules/@types/semver/functions/compare.d.ts","../../../node_modules/@types/semver/functions/rcompare.d.ts","../../../node_modules/@types/semver/functions/compare-loose.d.ts","../../../node_modules/@types/semver/functions/compare-build.d.ts","../../../node_modules/@types/semver/functions/sort.d.ts","../../../node_modules/@types/semver/functions/rsort.d.ts","../../../node_modules/@types/semver/functions/gt.d.ts","../../../node_modules/@types/semver/functions/lt.d.ts","../../../node_modules/@types/semver/functions/eq.d.ts","../../../node_modules/@types/semver/functions/neq.d.ts","../../../node_modules/@types/semver/functions/gte.d.ts","../../../node_modules/@types/semver/functions/lte.d.ts","../../../node_modules/@types/semver/functions/cmp.d.ts","../../../node_modules/@types/semver/functions/coerce.d.ts","../../../node_modules/@types/semver/classes/comparator.d.ts","../../../node_modules/@types/semver/classes/range.d.ts","../../../node_modules/@types/semver/functions/satisfies.d.ts","../../../node_modules/@types/semver/ranges/max-satisfying.d.ts","../../../node_modules/@types/semver/ranges/min-satisfying.d.ts","../../../node_modules/@types/semver/ranges/to-comparators.d.ts","../../../node_modules/@types/semver/ranges/min-version.d.ts","../../../node_modules/@types/semver/ranges/valid.d.ts","../../../node_modules/@types/semver/ranges/outside.d.ts","../../../node_modules/@types/semver/ranges/gtr.d.ts","../../../node_modules/@types/semver/ranges/ltr.d.ts","../../../node_modules/@types/semver/ranges/intersects.d.ts","../../../node_modules/@types/semver/ranges/simplify.d.ts","../../../node_modules/@types/semver/ranges/subset.d.ts","../../../node_modules/@types/semver/internals/identifiers.d.ts","../../../node_modules/@types/semver/index.d.ts","../../../node_modules/@types/strip-bom/index.d.ts","../../../node_modules/@types/strip-json-comments/index.d.ts","../../../node_modules/@types/yargs-parser/index.d.ts","../../../node_modules/@types/yargs/index.d.ts","../../../node_modules/@types/yauzl/index.d.ts"],"fileInfos":[{"version":"824cb491a40f7e8fdeb56f1df5edf91b23f3e3ee6b4cde84d4a99be32338faee","affectsGlobalScope":true},"45b7ab580deca34ae9729e97c13cfd999df04416a79116c3bfb483804f85ded4","3facaf05f0c5fc569c5649dd359892c98a85557e3e0c847964caeb67076f4d75","9a68c0c07ae2fa71b44384a839b7b8d81662a236d4b9ac30916718f7510b1b2d","5e1c4c362065a6b95ff952c0eab010f04dcd2c3494e813b493ecfd4fcb9fc0d8","68d73b4a11549f9c0b7d352d10e91e5dca8faa3322bfb77b661839c42b1ddec7","5efce4fc3c29ea84e8928f97adec086e3dc876365e0982cc8479a07954a3efd4","feecb1be483ed332fad555aff858affd90a48ab19ba7272ee084704eb7167569","5514e54f17d6d74ecefedc73c504eadffdeda79c7ea205cf9febead32d45c4bc","1c0cdb8dc619bc549c3e5020643e7cf7ae7940058e8c7e5aefa5871b6d86f44b",{"version":"87d693a4920d794a73384b3c779cadcb8548ac6945aa7a925832fe2418c9527a","affectsGlobalScope":true},{"version":"76f838d5d49b65de83bc345c04aa54c62a3cfdb72a477dc0c0fce89a30596c30","affectsGlobalScope":true},{"version":"db88e2781075c7bca86634724f38a132de718ddf3a470a3a2cdb182f4364af9e","affectsGlobalScope":true},{"version":"138fb588d26538783b78d1e3b2c2cc12d55840b97bf5e08bca7f7a174fbe2f17","affectsGlobalScope":true},{"version":"dc2df20b1bcdc8c2d34af4926e2c3ab15ffe1160a63e58b7e09833f616efff44","affectsGlobalScope":true},{"version":"4443e68b35f3332f753eacc66a04ac1d2053b8b035a0e0ac1d455392b5e243b3","affectsGlobalScope":true},{"version":"bc47685641087c015972a3f072480889f0d6c65515f12bd85222f49a98952ed7","affectsGlobalScope":true},{"version":"0dc1e7ceda9b8b9b455c3a2d67b0412feab00bd2f66656cd8850e8831b08b537","affectsGlobalScope":true},{"version":"ce691fb9e5c64efb9547083e4a34091bcbe5bdb41027e310ebba8f7d96a98671","affectsGlobalScope":true},{"version":"8d697a2a929a5fcb38b7a65594020fcef05ec1630804a33748829c5ff53640d0","affectsGlobalScope":true},{"version":"4ff2a353abf8a80ee399af572debb8faab2d33ad38c4b4474cff7f26e7653b8d","affectsGlobalScope":true},{"version":"93495ff27b8746f55d19fcbcdbaccc99fd95f19d057aed1bd2c0cafe1335fbf0","affectsGlobalScope":true},{"version":"6fc23bb8c3965964be8c597310a2878b53a0306edb71d4b5a4dfe760186bcc01","affectsGlobalScope":true},{"version":"ea011c76963fb15ef1cdd7ce6a6808b46322c527de2077b6cfdf23ae6f5f9ec7","affectsGlobalScope":true},{"version":"38f0219c9e23c915ef9790ab1d680440d95419ad264816fa15009a8851e79119","affectsGlobalScope":true},{"version":"bb42a7797d996412ecdc5b2787720de477103a0b2e53058569069a0e2bae6c7e","affectsGlobalScope":true},{"version":"4738f2420687fd85629c9efb470793bb753709c2379e5f85bc1815d875ceadcd","affectsGlobalScope":true},{"version":"2f11ff796926e0832f9ae148008138ad583bd181899ab7dd768a2666700b1893","affectsGlobalScope":true},{"version":"4de680d5bb41c17f7f68e0419412ca23c98d5749dcaaea1896172f06435891fc","affectsGlobalScope":true},{"version":"9fc46429fbe091ac5ad2608c657201eb68b6f1b8341bd6d670047d32ed0a88fa","affectsGlobalScope":true},{"version":"61c37c1de663cf4171e1192466e52c7a382afa58da01b1dc75058f032ddf0839","affectsGlobalScope":true},{"version":"b541a838a13f9234aba650a825393ffc2292dc0fc87681a5d81ef0c96d281e7a","affectsGlobalScope":true},{"version":"b20fe0eca9a4e405f1a5ae24a2b3290b37cf7f21eba6cbe4fc3fab979237d4f3","affectsGlobalScope":true},{"version":"811ec78f7fefcabbda4bfa93b3eb67d9ae166ef95f9bff989d964061cbf81a0c","affectsGlobalScope":true},{"version":"717937616a17072082152a2ef351cb51f98802fb4b2fdabd32399843875974ca","affectsGlobalScope":true},{"version":"d7e7d9b7b50e5f22c915b525acc5a49a7a6584cf8f62d0569e557c5cfc4b2ac2","affectsGlobalScope":true},{"version":"71c37f4c9543f31dfced6c7840e068c5a5aacb7b89111a4364b1d5276b852557","affectsGlobalScope":true},{"version":"576711e016cf4f1804676043e6a0a5414252560eb57de9faceee34d79798c850","affectsGlobalScope":true},{"version":"89c1b1281ba7b8a96efc676b11b264de7a8374c5ea1e6617f11880a13fc56dc6","affectsGlobalScope":true},{"version":"49ed889be54031e1044af0ad2c603d627b8bda8b50c1a68435fe85583901d072","affectsGlobalScope":true},{"version":"e93d098658ce4f0c8a0779e6cab91d0259efb88a318137f686ad76f8410ca270","affectsGlobalScope":true},{"version":"063600664504610fe3e99b717a1223f8b1900087fab0b4cad1496a114744f8df","affectsGlobalScope":true},{"version":"934019d7e3c81950f9a8426d093458b65d5aff2c7c1511233c0fd5b941e608ab","affectsGlobalScope":true},{"version":"bf14a426dbbf1022d11bd08d6b8e709a2e9d246f0c6c1032f3b2edb9a902adbe","affectsGlobalScope":true},{"version":"5e07ed3809d48205d5b985642a59f2eba47c402374a7cf8006b686f79efadcbd","affectsGlobalScope":true},{"version":"2b72d528b2e2fe3c57889ca7baef5e13a56c957b946906d03767c642f386bbc3","affectsGlobalScope":true},{"version":"8073890e29d2f46fdbc19b8d6d2eb9ea58db9a2052f8640af20baff9afbc8640","affectsGlobalScope":true},{"version":"368af93f74c9c932edd84c58883e736c9e3d53cec1fe24c0b0ff451f529ceab1","affectsGlobalScope":true},{"version":"af3dd424cf267428f30ccfc376f47a2c0114546b55c44d8c0f1d57d841e28d74","affectsGlobalScope":true},{"version":"995c005ab91a498455ea8dfb63aa9f83fa2ea793c3d8aa344be4a1678d06d399","affectsGlobalScope":true},{"version":"51e547984877a62227042850456de71a5c45e7fe86b7c975c6e68896c86fa23b","affectsGlobalScope":true},{"version":"956d27abdea9652e8368ce029bb1e0b9174e9678a273529f426df4b3d90abd60","affectsGlobalScope":true},{"version":"4fa6ed14e98aa80b91f61b9805c653ee82af3502dc21c9da5268d3857772ca05","affectsGlobalScope":true},{"version":"e6633e05da3ff36e6da2ec170d0d03ccf33de50ca4dc6f5aeecb572cedd162fb","affectsGlobalScope":true},{"version":"d8670852241d4c6e03f2b89d67497a4bbefe29ecaa5a444e2c11a9b05e6fccc6","affectsGlobalScope":true},{"version":"8444af78980e3b20b49324f4a16ba35024fef3ee069a0eb67616ea6ca821c47a","affectsGlobalScope":true},{"version":"caccc56c72713969e1cfe5c3d44e5bab151544d9d2b373d7dbe5a1e4166652be","affectsGlobalScope":true},{"version":"3287d9d085fbd618c3971944b65b4be57859f5415f495b33a6adc994edd2f004","affectsGlobalScope":true},{"version":"50d53ccd31f6667aff66e3d62adf948879a3a16f05d89882d1188084ee415bbc","affectsGlobalScope":true},{"version":"08a58483392df5fcc1db57d782e87734f77ae9eab42516028acbfe46f29a3ef7","affectsGlobalScope":true},{"version":"436aaf437562f276ec2ddbee2f2cdedac7664c1e4c1d2c36839ddd582eeb3d0a","affectsGlobalScope":true},{"version":"13f6e6380c78e15e140243dc4be2fa546c287c6d61f4729bc2dd7cf449605471","affectsGlobalScope":true},{"version":"33358442698bb565130f52ba79bfd3d4d484ac85fe33f3cb1759c54d18201393","affectsGlobalScope":true},{"version":"782dec38049b92d4e85c1585fbea5474a219c6984a35b004963b00beb1aab538","affectsGlobalScope":true},"6d268309f0e15dd820b2df9806234166554cb4e2fe00d11737adcb4e5489f700","d35b5db21a04a45ae6323c4d4b25acc983dfe2870fc670fd05249eb19d839a5e","58cf96187feb10cc8ad3bb080871cd30888ef63bc5db131f11458850ef8f6245","9102986ff52326a2016e8cddc1cf3092f0808ac916dcc8dc2d2c7195cd181987","fa82b7b22d9df87323e31e9e2ad75911028f3e544647fd212424b3c4452fee3f","01f20dac9dc14f0d306e5d1215c5c1c3b4d1805905e60ae92fabac4031eae7da","9ceec2a882368c0160a8a3879aa0efce0fb985751fc23ff6191006030969cfa4","cad5d6451789234434c28dd2d6a8267b0d64c479b1ad267321faa31ba90d570b","6516fc98fa10b0cb22c7e332bacea4a7ea80257e113f6cdddd924d03bfde218e","be8d072f400254824429edab10acbe595299b702c97b99cc47f8e8018b7102ff","4a3605bef1a5ef29fd5a1696dd95b0b4e2259e2d07a4d88fac79f3a9765c44a2","370079895f1acdd4bb5194a403c85bf60cfbb2654bced9430a6c7210e7246be8","90240231e730deed31569f6c686766a538e4a024bbc33ea1738fe924f477ba61","552223520e823223ee13c5764e9b69b1819c985818a8bcda435d8d1dbd909bee","49b7c3ddd683c09aa437dd92681699387441f522524b14d2331ce494a9bf2f27","637b97f727f21c07a73f09130dc7bf5ac94d04511b179b5eb3e9a4d85a16147a","fb69a046d9f55e2c182c07e793017518b002859497084c0f69f3ee74edd0c4b9","5212dd78d1d63ab33332c8846a0ea5ce248159e74033cde16de48373036b4704","954b3c04ee9f94ca1e262f3e5a6e833b0da0066514b3d4b97b92b7f0c85f8700","a2fc9ce1ae5bed7068d701d8aeebf13321de0f42c217dc2e10f1622dcaa53a7f","8e81f220cb935d551e88cff11541d5e89d3a3494a52fe6247e98016a9dbd4c2d","6b2576a04253626ba41b7dc7ec5977bec07f3b6952b16249d9fa8a3a0d79901c","9de17491f2bfbccea92500e174079d53bdedae34dbebe5d4a12a06ab09814710","e88481085a8576fa52efc913e631c1a833d16179486469b8538d8c4fab2f7381","aec68502c8f4ffaecb4440b37363473582fec0bfee4fb8668a87daa7f700f708","d71577e78c7a4257074aaf82f595724175210c89e8b467ef82f949a6cbd891bc","cf548af8b03cbbc79fdc4f357b5560f618c6d2f68c8688e6eb759c3c11d962c3","c84146dbc9d2e5f43d2cbf15485a4eabf90219dbb66c0d481f20f12d3851bffc","9dc5a1d8f09f9faf21207253a92b461190d59c81ee12c9ac612630e699749990","99c24f331c9f4e75a779b9a988e942442db3cf29923ceb820d3bdd4ed1edfef2","25b1f20d5868ef9ef18132f7dd76b40b7038688ff7c56c58930537a8dff9f231","4105fa0ecfaffb578c8051c3de22e8c984191aac8de14641ee99beed9c5e5bd9","9bba18dcac8cc9bdce65a4e34122d90474617cdf857feddeeba1e7a3638097d4","8c92080253bac0506d82b83d555a029582595f0944abb349954ea732322baa5c","45d4c8d63a67224af62bebff18da32bb2817e306c9fd9e5d1dac6ef8d2da7ead","230eb449f719119cab1728252f20ecdd36d7a20cef659e4a51ada1a232a8aaad","5f264ca312dfcbf23917febc8d7a73ef5be9c248af605939de1c7c4129aa65f2","c1c7b50665ce0b8aa4b95f3843167ac7ac25d1f724d77c2a07b597abb9cf394c","1bf687d978bdd6d5aff10b9eb0ff0695179f8594d4446946fd0182d6d25fa433","ec26029e3a4eccf8ee79d5c76093fbe928cedc83d813fca9be4f055d61530013","e0ff6a627dfbfb9d32e49f34879a763680e37758c509ddd809cb316b96f34390","2113d72680c7ddad6d3b6f70a29432a35c074c94ec6823a7c16ccd69847d965c","c8ffd61bf2db2e7bccb996dd70c9499805cb338f1b1c781987e38ba99dd5b296","55e5a976b594dc02f054860fb59a5299872a5b3c8c90e96733a5c9c9d4ed1fb8","fac83d4c6898d5bf90c508cc84409ded40fdc14611cf42d7fb750fb2c7847979","1668310e691181966c371fce881c88cb1c2e65ac832ef5470434ad926998da2f","4f1eb6b9c2b666278e09019281953fc4ecadad3b2ba2781b2602445743eaaeca","cd4a19200e7e4b235f85c3a15176f84b68bca0a171e802df091553e679238621","2db0dd3aaa2ed285950273ce96ae8a450b45423aa9da2d10e194570f1233fa6b","7394959e5a741b185456e1ef5d64599c36c60a323207450991e7a42e08911419","4967529644e391115ca5592184d4b63980569adf60ee685f968fd59ab1557188","5929864ce17fba74232584d90cb721a89b7ad277220627cc97054ba15a98ea8f","24bd580b5743dc56402c440dc7f9a4f5d592ad7a419f25414d37a7bfe11e342b","25c8056edf4314820382a5fdb4bb7816999acdcb929c8f75e3f39473b87e85bc","c464d66b20788266e5353b48dc4aa6bc0dc4a707276df1e7152ab0c9ae21fad8","78d0d27c130d35c60b5e5566c9f1e5be77caf39804636bc1a40133919a949f21","c6fd2c5a395f2432786c9cb8deb870b9b0e8ff7e22c029954fabdd692bff6195","1d6e127068ea8e104a912e42fc0a110e2aa5a66a356a917a163e8cf9a65e4a75","5ded6427296cdf3b9542de4471d2aa8d3983671d4cac0f4bf9c637208d1ced43","6bdc71028db658243775263e93a7db2fd2abfce3ca569c3cca5aee6ed5eb186d","cadc8aced301244057c4e7e73fbcae534b0f5b12a37b150d80e5a45aa4bebcbd","385aab901643aa54e1c36f5ef3107913b10d1b5bb8cbcd933d4263b80a0d7f20","9670d44354bab9d9982eca21945686b5c24a3f893db73c0dae0fd74217a4c219","0b8a9268adaf4da35e7fa830c8981cfa22adbbe5b3f6f5ab91f6658899e657a7","11396ed8a44c02ab9798b7dca436009f866e8dae3c9c25e8c1fbc396880bf1bb","ba7bc87d01492633cb5a0e5da8a4a42a1c86270e7b3d2dea5d156828a84e4882","4893a895ea92c85345017a04ed427cbd6a1710453338df26881a6019432febdd","c21dc52e277bcfc75fac0436ccb75c204f9e1b3fa5e12729670910639f27343e","13f6f39e12b1518c6650bbb220c8985999020fe0f21d818e28f512b7771d00f9","9b5369969f6e7175740bf51223112ff209f94ba43ecd3bb09eefff9fd675624a","4fe9e626e7164748e8769bbf74b538e09607f07ed17c2f20af8d680ee49fc1da","24515859bc0b836719105bb6cc3d68255042a9f02a6022b3187948b204946bd2","ea0148f897b45a76544ae179784c95af1bd6721b8610af9ffa467a518a086a43","24c6a117721e606c9984335f71711877293a9651e44f59f3d21c1ea0856f9cc9","dd3273ead9fbde62a72949c97dbec2247ea08e0c6952e701a483d74ef92d6a17","405822be75ad3e4d162e07439bac80c6bcc6dbae1929e179cf467ec0b9ee4e2e","0db18c6e78ea846316c012478888f33c11ffadab9efd1cc8bcc12daded7a60b6","4d2b0eb911816f66abe4970898f97a2cfc902bcd743cbfa5017fad79f7ef90d8","bd0532fd6556073727d28da0edfd1736417a3f9f394877b6d5ef6ad88fba1d1a","89167d696a849fce5ca508032aabfe901c0868f833a8625d5a9c6e861ef935d2","e53a3c2a9f624d90f24bf4588aacd223e7bec1b9d0d479b68d2f4a9e6011147f","24b8685c62562f5d98615c5a0c1d05f297cf5065f15246edfe99e81ec4c0e011","93507c745e8f29090efb99399c3f77bec07db17acd75634249dc92f961573387","339dc5265ee5ed92e536a93a04c4ebbc2128f45eeec6ed29f379e0085283542c","4732aec92b20fb28c5fe9ad99521fb59974289ed1e45aecb282616202184064f","2e85db9e6fd73cfa3d7f28e0ab6b55417ea18931423bd47b409a96e4a169e8e6","c46e079fe54c76f95c67fb89081b3e399da2c7d109e7dca8e4b58d83e332e605","bf67d53d168abc1298888693338cb82854bdb2e69ef83f8a0092093c2d562107",{"version":"e7be367719c613d580d4b27fdf8fe64c9736f48217f4b322c0d63b2971460918","affectsGlobalScope":true},"3d77c73be94570813f8cadd1f05ebc3dc5e2e4fdefe4d340ca20cd018724ee36",{"version":"9d8f6e55f5a038f4dca0cacd6566f9b82c576eee35c694b89230e9dec1895a77","affectsGlobalScope":true},"62f1c00d3d246e0e3cf0224f91e122d560428ec1ccc36bb51d4574a84f1dbad0","53f0960fdcc53d097918adfd8861ffbe0db989c56ffc16c052197bf115da5ed6",{"version":"662163e5327f260b23ca0a1a1ad8a74078aabb587c904fcb5ef518986987eaff","affectsGlobalScope":true},"a40826e8476694e90da94aa008283a7de50d1dafd37beada623863f1901cb7fb",{"version":"f85c06e750743acf31f0cfd3be284a364d469761649e29547d0dd6be48875150","affectsGlobalScope":true},"b0c0d1d13be149f790a75b381b413490f98558649428bb916fd2d71a3f47a134","3c884d9d9ec454bdf0d5a0b8465bf8297d2caa4d853851d92cc417ac6f30b969","0364f8bb461d6e84252412d4e5590feda4eb582f77d47f7a024a7a9ff105dfdc","5433f7f77cd1fd53f45bd82445a4e437b2f6a72a32070e907530a4fea56c30c8","d0ca5d7df114035258a9d01165be309371fcccf0cccd9d57b1453204686d1ed0",{"version":"ee1ee365d88c4c6c0c0a5a5701d66ebc27ccd0bcfcfaa482c6e2e7fe7b98edf7","affectsGlobalScope":true},{"version":"9a30b7fefd7f8abbca4828d481c61c18e40fe5ff107e113b1c1fcd2c8dcf2743","affectsGlobalScope":true},"173b6275a81ebdb283b180654890f46516c21199734fed01a773b1c168b8c45c","304f66274aa8119e8d65a49b1cff84cbf803def6afe1b2cc987386e9a9890e22","1b9adafe8a7fefaeaf9099a0e06f602903f6268438147b843a33a5233ac71745","98273274f2dbb79b0b2009b20f74eca4a7146a3447c912d580cd5d2d94a7ae30","c933f7ba4b201c98b14275fd11a14abb950178afd2074703250fe3654fc10cd2","dccdf1677e531e33f8ac961a68bc537418c9a414797c1ea7e91307501cdc3f5e",{"version":"ea455cc68871b049bcecd9f56d4cf27b852d6dafd5e3b54468ca87cc11604e4d","affectsGlobalScope":true},"8f5814f29dbaf8bacd1764aebdf1c8a6eb86381f6a188ddbac0fcbaab855ce52","a63d03de72adfb91777784015bd3b4125abd2f5ef867fc5a13920b5649e8f52b","d20e003f3d518a7c1f749dbe27c6ab5e3be7b3c905a48361b04a9557de4a6900",{"version":"452e8a437aa57fe832dece2a5d3ea8dd0ab1de03ca778d09798c56ece0a29e80","affectsGlobalScope":true},{"version":"a20f1e119615bf7632729fd89b6c0b5ffdc2df3b512d6304146294528e3ebe19","affectsGlobalScope":true},"575fb200043b11b464db8e42cc64379c5fd322b6d787638e005b5ee98a64486d","6de2f225d942562733e231a695534b30039bdf1875b377bb7255881f0df8ede8","56249fd3ef1f6b90888e606f4ea648c43978ef43a7263aafad64f8d83cd3b8aa","139ad1dc93a503da85b7a0d5f615bddbae61ad796bc68fedd049150db67a1e26","7b166975fdbd3b37afb64707b98bca88e46577bbc6c59871f9383a7df2daacd1","9eece5e586312581ccd106d4853e861aaaa1a39f8e3ea672b8c3847eedd12f6e","81505c54d7cad0009352eaa21bd923ab7cdee7ec3405357a54d9a5da033a2084","269929a24b2816343a178008ac9ae9248304d92a8ba8e233055e0ed6dbe6ef71","93452d394fdd1dc551ec62f5042366f011a00d342d36d50793b3529bfc9bd633","3c1f19c7abcda6b3a4cf9438a15c7307a080bd3b51dfd56b198d9f86baf19447","2ee1645e0df9d84467cfe1d67b0ad3003c2f387de55874d565094464ee6f2927",{"version":"a321f588d51d742955993766d2969ed19006110a080572bfd24054178a5be640","affectsGlobalScope":true},{"version":"9cf780e96b687e4bdfd1907ed26a688c18b89797490a00598fa8b8ab683335dd","affectsGlobalScope":true},"98e00f3613402504bc2a2c9a621800ab48e0a463d1eed062208a4ae98ad8f84c","9ae88ce9f73446c24b2d2452e993b676da1b31fca5ceb7276e7f36279f693ed1","e49d7625faff2a7842e4e7b9b197f972633fca685afcf6b4403400c97d087c36","b82c38abc53922b1b3670c3af6f333c21b735722a8f156e7d357a2da7c53a0a0",{"version":"b423f53647708043299ded4daa68d95c967a2ac30aa1437adc4442129d7d0a6c","affectsGlobalScope":true},{"version":"21fcdcb618236f0feaca7e511e2da10c19970f86e09c934cef2d45b340ad92b5","affectsGlobalScope":true},"4f0fc7b7f54422bd97cfaf558ddb4bca86893839367b746a8f86b60ac7619673","4cdd8b6b51599180a387cc7c1c50f49eca5ce06595d781638fd0216520d98246","d91a7d8b5655c42986f1bdfe2105c4408f472831c8f20cf11a8c3345b6b56c8c",{"version":"8704423bf338bff381ebc951ed819935d0252d90cd6de7dffe5b0a5debb65d07","affectsGlobalScope":true},"b33379077284c9e55d2410d814b71b15522c5f71f9e93e15a8c3c41d463b00f6",{"version":"ab9b9a36e5284fd8d3bf2f7d5fcbc60052f25f27e4d20954782099282c60d23e","affectsGlobalScope":true},"a42be67ed1ddaec743582f41fc219db96a1b69719fccac6d1464321178d610fc","c663a7e4ee2cb54d99cf095479a5bcf1dd18d762ffdfa038aa1b2d79b070b0d7","5463c98206a890ea7a759fbcc97b0c042ab1a740b3e24037f7fbf40bae70a3c5","841f7ca2af7f4d9cca1f9fa2288a4849fc9d49ca15b47336892efd06a14dd1d8","687ec53a7422d8cf80477fffa82a2db211f724039267931642befcd4907aec26",{"version":"ff9d62c9e30bd1a0318ec4bbde75ab0a22ee72c37c357746ed0f5460776067d8","signature":"32150c887f2cf017e1f433defc11cdb2798ba8a9244a4aa6e204b13ae8a5b894"},"94432b8ce4402dd579be8dbf8d798dd64b57d9df617b9dfe4f10f93c1540540f","1447d46bff9e7c5c77da14515a7456ea5e919ce6e28f5e6746edf99818e4be47","ba3f6f0ee47f46cdce55620aec5726de80e92a930982634afe9918c114c38f0b","6f38045547cdfd54ec19abcd943cace72c775fde739c5e0e1d917cf3030c16b5","929fc31f7523aaa1d19735b77e637af06e58d76007648ec088ecfbec1521cbfe","8510595d2ca2660e6407be65d8bf95f0c53877dbb812e269cdd980fc34de5f78","a6eb23f2a83113ce0ab7203bfda2be0888720f8d694a20abaef83b9f62832061","363dca5004ac5a3d9c2bba12812b97a64461911762f0b8f9320a8856ec53bcad","557b8c7481296f4b7ed362320f3bbb40bb87404edf880c81224f365a8d1e17f3","283ed3d075bf7d3e8793f63b2a52f475ed84d95b7b6351c5d5bcc6c49d4b845b","6544dab49004fecb69a4ef775e9ad2773a6148b1f9bfd9b75508e3afa11f5d35","bd4c741820ec3574b7ed3b782c8d78034d6e4631d11997e701e6b955b86a87c1","e2dd36a524ea5b13de1ed104ede9cea79696588175c1df1940d6a29113a4aee0","a878d4c7237a7af50e96534295fcf723134d70cbb1e9bfd8365266b912aee6ec","a1f708ddf34053065f8f53682123421af299cee37ae110a86ba07851adf940da","913fbbd374393d3473dcae4b64a5eff2dea93306bb065ae7111be724a8ca57e1","395e6fa1fc8f46f827a5f7d3b7dabc836627ae57e41338f93c221b88d4978f15","749effab6d7e72df8d126868c82b8166cdde84d48453e44f65cbad42ad900b06","11705a4aad6e2e724b82ffee6c4fa271d798f0fb68806ace4b1c425c266f8d98","b81972aff48d9f08543cb19cc5d73f50eb9901d25daecabc46a53866f99d27b2","af89ab13b40dd28cd91818fc6329914d2b9663591831f032ff0f0cb4a028d4a5","63007f1618ada5041fb3b47630b64a9987d268bf740dd72334c38b5d23f5239b","3395f90467d2bb9db039a5c22ed6659ca2ff6f0b4f7ee5f223b0f77288f54ea7","20df2907d398e369d49e8906d6e0f096c465501e9ceff9d61293bf0f4e9020f1","302aa8248dab7c689c103162e542224aa7f3b0db46e29d0fb468fac721cf1c41","ea0a3bb69845621165c21e80ebb0d2b28dad22cd9920564516ce8e927a828f79","6a81475a67505af60be3242841c65ce4bf6d0b624d8b3fada646ba459a3eaad8","6834dd6cc060648604278cdb920a9316fa916e9116134b17dfad90e42800ca47","19fba62f1aab90f0110738261ed8bc1da82c89433fc43265f14870d4380d10b8","fbb2df54f4778b4d691bbc7c0a6e1e241dfffaca19f443cc9f230f450458bf89","da98d8109f379be48d459a6821ebd7cc728af62557e1c44f864e04360686af93","ef6e6d838cc600162626a53167046484f38e9a4bab9454e72350bed76c497228","8adf9a02b0c2508f81516b561a6c8080ea2169126f166e39767bcb5389b9cfbc","c8b50ecedc9ff1b0e83c96f0a334d022874199f7c2d00d182ca6672176b0ea9d","b66ede73039e8751e06e3cab843e5a4265c1124a3285c3d854092c37a966b1f5","ca027df9fd496a200d99ca0db4b0077463ce4926a6c8e05cfae522c5971ccbc0","e043a9288022e8d802117e5e9e718443296f9c69a5eab7ed89b2fb76128a0140","1834770fc1d5e5240fe8f3de72205c9e79b1c321224fb4af8bd2529202a6960c","3b1901191af5f232f0a950a914649749c3447c445cae6b896e74fe987b379701","3641a97eab56e401bc6ab265ef34e54d926017181e2cbbd8ee36d87b7e19345b",{"version":"4aaeb015886c437ff30b027da32851eec8f75de4a3514a26a99508facb7c5142","signature":"70f20d06939449488f1d7456fce5202d6d03b8281e7f2dfc5f8a9bc6a52191fc"},"82f507498b118e727c99b2b24b66fe95e475db73959a5af372526e2aabeba2bd","5bccd6ffc11fed820a432ac819200e6af38f8c3625e6eae0cf0f07ca85856392","a014705f62ab3731cd6e83cc0d47055301bda50e883a7c5b308c5fc294384f00","c123e41196eb293cd30ff19b31d55192d3a3ffbbab8409d5c4b328844c5e93fc","f30cfcfff28ee8f87563225b47239bb07b9b11edd09dda0ea6499b18cca1a30e","0edb8a97ead1fefd337458449050857e80740e31a3f76cffa656262f4e651a50","6d2d14bb016a70a5ee1afb1cc7718d4369fb645979c725454c688f791ac7218f","8d7622e53b676dfd20828ba435649c217a5d9dee9cdc3713ee808fa2140513da","4729c40012c9b4ae235cdeb76bc9cf5c127e09eb08ecf5b1b51b8d03d58e5555","38aaec0cd25bec1bec8511430fcfc6a7ce53ec44fa7e4e68717c551d0c786ef0","56558ae167446acf230ea2cc072a835309a37ae63d286b484308afd8c504c2d6","ec6adf14f44d63199b70a1117f13d380dfd0b1e1f0a6357b0ecf04cf0c56ab68","7a6f74294b8fb90f5e3832be21e25898dd81b2a1adc36dda6929813ba4135311","89a5d8e15c48814223e8c3abc5dfc9cabbe36bce09d665dde5091729955ad663","5d40e6a7071d0d1e6e558e17214ff786ecb3ea73e31b25a88c2cbe2435fa1252","3931f0e7d90c0c6b3b52d5010c6f7156adcfcbb54f2325774135d77640df36c0","ac63a01fcac70315fc9b416e9a57e568b18032c7cfcaa314e1751f03ef71286f","7ad3e0aaeb840047fa4711306188cac803514091f251b6baecb9b2aacf15b976","6d268309f0e15dd820b2df9806234166554cb4e2fe00d11737adcb4e5489f700","58cf96187feb10cc8ad3bb080871cd30888ef63bc5db131f11458850ef8f6245","9102986ff52326a2016e8cddc1cf3092f0808ac916dcc8dc2d2c7195cd181987","fa82b7b22d9df87323e31e9e2ad75911028f3e544647fd212424b3c4452fee3f","01f20dac9dc14f0d306e5d1215c5c1c3b4d1805905e60ae92fabac4031eae7da","9ceec2a882368c0160a8a3879aa0efce0fb985751fc23ff6191006030969cfa4","cad5d6451789234434c28dd2d6a8267b0d64c479b1ad267321faa31ba90d570b","d5197053be441d40f4d074185a40d461137c8fa8db9e00cceedf2d9ca6583157","3cd33c37432c2de7bdd9f1d48b3ea4fd03afad4969cfc5ba88d81e6ed03f432c","6db29cf7af1d68c8194d98f1c444cea3b30a2c65deda3428452efaa05717b81d","561ef05d7e369040c28800d878d7e6461af62e459460263e911d508f319c8d5d","a1b60bd2328318dcbec30bdf529dad31a13315ff2df60c8bd71630c58a575b06","a399dd9b73e4bbfbed2ad1c1259d707f5f147f40dc5e3eeb541bf0bf2da42b25","8cc6a35806cd10d448b0f2ab01fe0b6194ca57fdaced2d71781b68e83c55bd88","8f364fec0ef20506aa9cf00b5cd8b620c1c0389687b11a3a32b0b5d4716ad894","5d11703e2c5d4dbe00bbe79f3bc864d178cf8d6ebccc2d1448ea29e93654f029","f4e82c91aac3b61f3ad04f11a44c5b79f724ff8a09281d0afa24a6624633ff25","ed849d616865076f44a41c87f27698f7cdf230290c44bafc71d7c2bc6919b202","7b8b9017156ef8bf3bbe42785fac8956e5c9869f4a494536d7f548a7c1c7d98a","07c34d1f83dfc5746de4229e01f0cb4d388a9f128eab6beadb4ae1621ebb87c6","763bb8df872cbb8783e29e19bd7a1dea0f88f7fd7398343af38be8509a65df82","372b3681eb9618821c0e0e10bcc775b838e45b51912b8998bc5ba035100dc9e5","c286b410193495d067668bcdbd13ea3f3a39001edff02edee248babf2652e563","87c73268165bf20f01c101ac785e8a9d1d95ff203d05d3548a6c49952597e321","580ac7757b426f045be01f7e47fff9910b922442b45266fd3fe39c44b53ef5ad",{"version":"67a8ad0b968bf4b758c8c699180578c1f5d7242771d817456231a52230579a82","signature":"775344116f031ee7fbc0ca091ba2e5dce9d9b13694fc7e341b1f2ceb78a99408"},{"version":"1f00dd8bcb5fb72027d953dfe2c69f73dc71668142cc8d2d941a420ff0bfe275","signature":"1e84b75e59ed7fff2883625dc3d3d8a6828c878a1b7e4e9ea54fa67ab574eb1e"},{"version":"6a9eb9c5d3f7474937973fe4b0a9e53025634c2e39118eda436d89f3e9df976f","affectsGlobalScope":true},{"version":"86e56d97b13ef0a58bc9c59aee782ae7d47d63802b5b32129ec5e5d62c20dbfa","affectsGlobalScope":true},{"version":"c1f79c6d85cd84518fd7349588b3c61bdc189f58e3866f925cbf4631c81e31f9","affectsGlobalScope":true},{"version":"54db406753da16e177f094aa66da79840f447de6d87ddd1543a80c9418c52545","affectsGlobalScope":true},{"version":"42f28f4cfca4a70bd89c1d55d76c7978275030b894f6793f36890265c11a83a4","affectsGlobalScope":true},{"version":"7cf1027da9599f056355b46bbea31dbf7f715f797dffb9cbb3402d4490c503e5","affectsGlobalScope":true},"96dbd0787b57ae02981d26d5f2441f0f8444fb46d7578c56527eab89cff13a7d","7d2a0ba1297be385a89b5515b88cd31b4a1eeef5236f710166dc1b36b1741e1b","8e87660f5170c195ade218937e360484775be6a4e75a098665d9ba5a2e4cdc15","8d16e3ff29dd0650435766702b01c2f7e9d1f289a48fcbf8e93687d6ecf33f26",{"version":"2286f8b25ce280d3628fda4f62909ea8099631d77df305cde07b3c94d9bf53ec","signature":"8e609bb71c20b858c77f0e9f90bb1319db8477b13f9f965f1a1e18524bf50881"},"42baf4ca38c38deaf411ea73f37bc39ff56c6e5c761a968b64ac1b25c92b5cd8","d7dbe0ad36bdca8a6ecf143422a48e72cc8927bab7b23a1a2485c2f78a7022c6","8718fa41d7cf4aa91de4e8f164c90f88e0bf343aa92a1b9b725a9c675c64e16b","f992cd6cc0bcbaa4e6c810468c90f2d8595f8c6c3cf050c806397d3de8585562","68cc8d6fcc2f270d7108f02f3ebc59480a54615be3e09a47e14527f349e9d53e","3eb11dbf3489064a47a2e1cf9d261b1f100ef0b3b50ffca6c44dd99d6dd81ac1","bc222163edcb8df6ba9b506d053d6c5afcae50e85695151cf4636a3107deaba9","035a5df183489c2e22f3cf59fc1ed2b043d27f357eecc0eb8d8e840059d44245","f3d8c757e148ad968f0d98697987db363070abada5f503da3c06aefd9d4248c1","96d14f21b7652903852eef49379d04dbda28c16ed36468f8c9fa08f7c14c9538","fec943fdb3275eb6e006b35e04a8e2e99e9adf3f4b969ddf15315ac7575a93e4","742f21debb3937c3839a63245648238555bdab1ea095d43fd10c88a64029bf76","7cfdf3b9a5ba934a058bfc9390c074104dc7223b7e3c16fd5335206d789bc3d3","0944f27ebff4b20646b71e7e3faaaae50a6debd40bc63e225de1320dd15c5795","5d30565583300c9256072a013ac0318cc603ff769b4c5cafc222394ea93963e1","8a7219b41d3c1c93f3f3b779146f313efade2404eeece88dcd366df7e2364977","a109c4289d59d9019cfe1eeab506fe57817ee549499b02a83a7e9d3bdf662d63","89121c1bf2990f5219bfd802a3e7fc557de447c62058d6af68d6b6348d64499a","d4a22007b481fe2a2e6bfd3a42c00cd62d41edb36d30fc4697df2692e9891fc8","8841e2aa774b89bd23302dede20663306dc1b9902431ac64b24be8b8d0e3f649","fbca5ffaebf282ec3cdac47b0d1d4a138a8b0bb32105251a38acb235087d3318",{"version":"90ebf5865e27d8966ef44b073e6e83b0ddd45058bab1d58b1e4b5a47d36396c4","affectsGlobalScope":true},"cb482592bfcbdfcefa8d155590399e8bff66277e60e17bfada7c2f31322e7b87","22293bd6fa12747929f8dfca3ec1684a3fe08638aa18023dd286ab337e88a592","916be7d770b0ae0406be9486ac12eb9825f21514961dd050594c4b250617d5a8","510616459e6edd01acbce333fb256e06bdffdad43ca233a9090164bf8bb83912","cf3d384d082b933d987c4e2fe7bfb8710adfd9dc8155190056ed6695a25a559e","9871b7ee672bc16c78833bdab3052615834b08375cb144e4d2cba74473f4a589","c863198dae89420f3c552b5a03da6ed6d0acfa3807a64772b895db624b0de707","8b03a5e327d7db67112ebbc93b4f744133eda2c1743dbb0a990c61a8007823ef","86c73f2ee1752bac8eeeece234fd05dfcf0637a4fbd8032e4f5f43102faa8eec","42fad1f540271e35ca37cecda12c4ce2eef27f0f5cf0f8dd761d723c744d3159","ff3743a5de32bee10906aff63d1de726f6a7fd6ee2da4b8229054dfa69de2c34","83acd370f7f84f203e71ebba33ba61b7f1291ca027d7f9a662c6307d74e4ac22","1445cec898f90bdd18b2949b9590b3c012f5b7e1804e6e329fb0fe053946d5ec","0e5318ec2275d8da858b541920d9306650ae6ac8012f0e872fe66eb50321a669","cf530297c3fb3a92ec9591dd4fa229d58b5981e45fe6702a0bd2bea53a5e59be","c1f6f7d08d42148ddfe164d36d7aba91f467dbcb3caa715966ff95f55048b3a4","f4e9bf9103191ef3b3612d3ec0044ca4044ca5be27711fe648ada06fad4bcc85","0c1ee27b8f6a00097c2d6d91a21ee4d096ab52c1e28350f6362542b55380059a","7677d5b0db9e020d3017720f853ba18f415219fb3a9597343b1b1012cfd699f7","bc1c6bc119c1784b1a2be6d9c47addec0d83ef0d52c8fbe1f14a51b4dfffc675","52cf2ce99c2a23de70225e252e9822a22b4e0adb82643ab0b710858810e00bf1","770625067bb27a20b9826255a8d47b6b5b0a2d3dfcbd21f89904c731f671ba77","d1ed6765f4d7906a05968fb5cd6d1db8afa14dbe512a4884e8ea5c0f5e142c80","799c0f1b07c092626cf1efd71d459997635911bb5f7fc1196efe449bba87e965","2a184e4462b9914a30b1b5c41cf80c6d3428f17b20d3afb711fff3f0644001fd","9eabde32a3aa5d80de34af2c2206cdc3ee094c6504a8d0c2d6d20c7c179503cc","397c8051b6cfcb48aa22656f0faca2553c5f56187262135162ee79d2b2f6c966","a8ead142e0c87dcd5dc130eba1f8eeed506b08952d905c47621dc2f583b1bff9","a02f10ea5f73130efca046429254a4e3c06b5475baecc8f7b99a0014731be8b3","c2576a4083232b0e2d9bd06875dd43d371dee2e090325a9eac0133fd5650c1cb","4c9a0564bb317349de6a24eb4efea8bb79898fa72ad63a1809165f5bd42970dd","f40ac11d8859092d20f953aae14ba967282c3bb056431a37fced1866ec7a2681","cc11e9e79d4746cc59e0e17473a59d6f104692fd0eeea1bdb2e206eabed83b03","b444a410d34fb5e98aa5ee2b381362044f4884652e8bc8a11c8fe14bbd85518e","c35808c1f5e16d2c571aa65067e3cb95afeff843b259ecfa2fc107a9519b5392","14d5dc055143e941c8743c6a21fa459f961cbc3deedf1bfe47b11587ca4b3ef5","a3ad4e1fc542751005267d50a6298e6765928c0c3a8dce1572f2ba6ca518661c","f237e7c97a3a89f4591afd49ecb3bd8d14f51a1c4adc8fcae3430febedff5eb6","3ffdfbec93b7aed71082af62b8c3e0cc71261cc68d796665faa1e91604fbae8f","662201f943ed45b1ad600d03a90dffe20841e725203ced8b708c91fcd7f9379a","c9ef74c64ed051ea5b958621e7fb853fe3b56e8787c1587aefc6ea988b3c7e79","2462ccfac5f3375794b861abaa81da380f1bbd9401de59ffa43119a0b644253d","34baf65cfee92f110d6653322e2120c2d368ee64b3c7981dff08ed105c4f19b0","7d8ddf0f021c53099e34ee831a06c394d50371816caa98684812f089b4c6b3d4","4006c872e38a2c4e09c593bc0cdd32b7b4f5c4843910bea0def631c483fff6c5","ab6aa3a65d473871ee093e3b7b71ed0f9c69e07d1d4295f45c9efd91a771241d","bae8d023ef6b23df7da26f51cea44321f95817c190342a36882e93b80d07a960","26a770cec4bd2e7dbba95c6e536390fffe83c6268b78974a93727903b515c4e7","74d5a87c3616cd5d8691059d531504403aa857e09cbaecb1c64dfb9ace0db185"],"root":[210,251,295,296,307],"options":{"allowJs":true,"checkJs":true,"composite":true,"declaration":true,"declarationMap":true,"emitDeclarationOnly":false,"esModuleInterop":true,"module":7,"noEmitOnError":true,"outDir":"./","removeComments":false,"skipLibCheck":true,"sourceMap":true,"strict":true,"stripInternal":true,"target":9},"fileIdsList":[[207,245,269,278,279,280,282,290,291,292,293],[278,279],[66,277],[207,278,279,281],[283,285],[281,283,289],[287],[207,279,282,283,284,285,286,288],[279],[66,207],[279,282],[91,207,278],[277],[270],[66,270],[270,271,272,273,274,275,276],[264],[207,220,265,266],[91],[86,91,207,239],[231,240,241,242,243,244],[207],[86,91,207],[66,81,92,93,207],[81,91,93],[66,81,91,92,207],[79,94,207],[167,205],[80,81,86,91,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,110,111,112,206],[66,77,79],[93],[94,96],[77,79,80],[81,91],[81,94,207],[80,81,91],[66,80,81,93,96,109],[66,80],[66,92,93,207],[81,93],[86,91,93,96,103,207],[79,86,207,211,226,229,230,245,247,249],[66,73],[207,220,229],[91,207,225],[232,233,234,235,236,237,238],[207,234],[207,232],[207,233],[77,79,207],[66,248],[86,91,207,254],[91,207,255],[207,246],[85,86],[85],[83,84,87],[82,87,89,90],[87,89,91],[88,91],[167,170,197,205,308,309,310],[297],[312],[205],[319],[320,322],[323],[325],[321],[113],[154],[155,160,189],[156,161,167,168,175,186,197],[156,157,167,175],[158,198],[159,160,168,176],[160,186,194],[161,163,167,175],[154,162],[163,164],[167],[165,167],[154,167],[167,168,169,186,197],[167,168,169,182,186,189],[152,155,202],[163,167,170,175,186,197],[167,168,170,171,175,186,194,197],[170,172,186,194,197],[113,114,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204],[167,173],[174,197,202],[163,167,175,186],[176],[177],[154,178],[113,114,154,155,156,157,158,159,160,161,162,163,164,165,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203],[180],[181],[167,182,183],[182,184,198,200],[155,167,186,187,188,189],[155,186,188],[186,187],[189],[190],[113,186],[167,192,193],[192,193],[160,175,186,194],[195],[175,196],[155,170,181,197],[160,198],[186,199],[174,200],[201],[155,160,167,169,178,186,197,200,202],[186,203],[170,186,205],[334,373],[334,358,373],[373],[334],[334,359,373],[334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360,361,362,363,364,365,366,367,368,369,370,371,372],[359,373],[304],[376],[167,186,205],[297,298,299,300,301,302],[297,298],[225,228],[224],[227],[66,92],[66,92,260],[66,92,257,259],[66,92,259],[66,256,258],[92],[66,92,261],[75],[213,214,220,221],[78,79],[78],[76],[212],[77],[77,216],[79,215,216,217,218,219],[75,76,77,78,212],[75,76,77],[73],[65],[65,66],[65,67,68,69,70,71,72],[305],[223],[220,222],[124,128,197],[124,186,197],[119],[121,124,194,197],[175,194],[119,205],[121,124,175,197],[116,117,120,123,155,167,186,197],[124,131],[116,122],[124,145,146],[120,124,155,189,197,205],[155,205],[145,155,205],[118,119,205],[124],[118,119,120,121,122,123,124,125,126,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,146,147,148,149,150,151],[124,139],[124,131,132],[122,124,132,133],[123],[116,119,124],[124,128,132,133],[128],[122,124,127,197],[116,121,124,131],[155,186],[119,124,145,155,202,205],[74,79,207,208,209,210,250],[74,79,91,207,208,210,216,250,251,252,253,255,259,261,262,263,294,295],[74,109,208,210,267,268,294],[74],[91,207,250,294,296,303,306],[79,207,250],[74,91,207,250,294],[294]],"referencedMap":[[294,1],[280,2],[278,3],[282,4],[286,5],[290,6],[288,7],[289,8],[285,9],[291,10],[292,11],[279,12],[270,13],[273,14],[274,14],[271,15],[272,14],[277,16],[275,3],[276,13],[265,17],[267,18],[266,17],[231,19],[240,20],[245,21],[241,22],[242,10],[243,22],[244,23],[105,24],[106,25],[93,26],[95,27],[206,28],[207,29],[80,30],[97,31],[107,32],[81,33],[94,34],[98,35],[99,36],[110,37],[111,38],[101,31],[103,39],[102,40],[104,41],[250,42],[211,43],[230,44],[226,45],[208,22],[235,22],[239,46],[234,22],[232,22],[233,22],[238,47],[236,48],[237,49],[253,50],[249,51],[248,43],[255,52],[254,53],[247,54],[87,55],[84,56],[83,56],[85,57],[90,19],[91,58],[82,19],[88,59],[89,60],[311,61],[298,62],[302,62],[300,62],[313,63],[314,64],[318,28],[320,65],[323,66],[324,67],[326,68],[322,69],[113,70],[114,70],[154,71],[155,72],[156,73],[157,74],[158,75],[159,76],[160,77],[161,78],[162,79],[163,80],[164,80],[166,81],[165,82],[167,83],[168,84],[169,85],[153,86],[170,87],[171,88],[172,89],[205,90],[173,91],[174,92],[175,93],[176,94],[177,95],[178,96],[179,97],[180,98],[181,99],[182,100],[183,100],[184,101],[186,102],[188,103],[187,104],[189,105],[190,106],[191,107],[192,108],[193,109],[194,110],[195,111],[196,112],[197,113],[198,114],[199,115],[200,116],[201,117],[202,118],[203,119],[310,120],[358,121],[359,122],[334,123],[337,123],[356,121],[357,121],[347,121],[346,124],[344,121],[339,121],[352,121],[350,121],[354,121],[338,121],[351,121],[355,121],[340,121],[341,121],[353,121],[335,121],[342,121],[343,121],[345,121],[349,121],[360,125],[348,121],[336,121],[373,126],[367,125],[369,127],[368,125],[361,125],[362,125],[364,125],[366,125],[370,127],[371,127],[363,127],[365,127],[305,128],[377,129],[378,130],[303,131],[301,62],[299,132],[229,133],[225,134],[228,135],[260,136],[261,137],[258,138],[256,139],[259,140],[262,141],[263,142],[257,136],[308,81],[221,143],[222,144],[76,145],[79,146],[212,147],[213,148],[214,148],[216,149],[217,150],[220,151],[219,152],[78,153],[65,154],[69,155],[70,155],[67,156],[68,155],[73,157],[71,43],[72,154],[306,158],[268,159],[224,159],[223,160],[131,161],[141,162],[130,161],[151,163],[122,164],[121,165],[150,64],[144,166],[149,167],[124,168],[138,169],[123,170],[147,171],[119,172],[118,173],[148,174],[120,175],[125,176],[129,176],[152,177],[142,178],[133,179],[134,180],[136,181],[132,182],[135,183],[145,64],[127,184],[128,185],[137,186],[117,187],[140,178],[139,176],[146,188],[74,43],[252,22],[251,189],[296,190],[295,191],[210,192],[307,193]],"exportedModulesMap":[[294,1],[280,2],[278,3],[282,4],[286,5],[290,6],[288,7],[289,8],[285,9],[291,10],[292,11],[279,12],[270,13],[273,14],[274,14],[271,15],[272,14],[277,16],[275,3],[276,13],[265,17],[267,18],[266,17],[231,19],[240,20],[245,21],[241,22],[242,10],[243,22],[244,23],[105,24],[106,25],[93,26],[95,27],[206,28],[207,29],[80,30],[97,31],[107,32],[81,33],[94,34],[98,35],[99,36],[110,37],[111,38],[101,31],[103,39],[102,40],[104,41],[250,42],[211,43],[230,44],[226,45],[208,22],[235,22],[239,46],[234,22],[232,22],[233,22],[238,47],[236,48],[237,49],[253,50],[249,51],[248,43],[255,52],[254,53],[247,54],[87,55],[84,56],[83,56],[85,57],[90,19],[91,58],[82,19],[88,59],[89,60],[311,61],[298,62],[302,62],[300,62],[313,63],[314,64],[318,28],[320,65],[323,66],[324,67],[326,68],[322,69],[113,70],[114,70],[154,71],[155,72],[156,73],[157,74],[158,75],[159,76],[160,77],[161,78],[162,79],[163,80],[164,80],[166,81],[165,82],[167,83],[168,84],[169,85],[153,86],[170,87],[171,88],[172,89],[205,90],[173,91],[174,92],[175,93],[176,94],[177,95],[178,96],[179,97],[180,98],[181,99],[182,100],[183,100],[184,101],[186,102],[188,103],[187,104],[189,105],[190,106],[191,107],[192,108],[193,109],[194,110],[195,111],[196,112],[197,113],[198,114],[199,115],[200,116],[201,117],[202,118],[203,119],[310,120],[358,121],[359,122],[334,123],[337,123],[356,121],[357,121],[347,121],[346,124],[344,121],[339,121],[352,121],[350,121],[354,121],[338,121],[351,121],[355,121],[340,121],[341,121],[353,121],[335,121],[342,121],[343,121],[345,121],[349,121],[360,125],[348,121],[336,121],[373,126],[367,125],[369,127],[368,125],[361,125],[362,125],[364,125],[366,125],[370,127],[371,127],[363,127],[365,127],[305,128],[377,129],[378,130],[303,131],[301,62],[299,132],[229,133],[225,134],[228,135],[260,136],[261,137],[258,138],[256,139],[259,140],[262,141],[263,142],[257,136],[308,81],[221,143],[222,144],[76,145],[79,146],[212,147],[213,148],[214,148],[216,149],[217,150],[220,151],[219,152],[78,153],[65,154],[69,155],[70,155],[67,156],[68,155],[73,157],[71,43],[72,154],[306,158],[268,159],[224,159],[223,160],[131,161],[141,162],[130,161],[151,163],[122,164],[121,165],[150,64],[144,166],[149,167],[124,168],[138,169],[123,170],[147,171],[119,172],[118,173],[148,174],[120,175],[125,176],[129,176],[152,177],[142,178],[133,179],[134,180],[136,181],[132,182],[135,183],[145,64],[127,184],[128,185],[137,186],[117,187],[140,178],[139,176],[146,188],[74,43],[252,22],[251,194],[296,195],[295,196],[210,192]],"semanticDiagnosticsPerFile":[293,294,280,269,278,282,286,290,288,283,281,289,285,291,292,279,284,270,273,274,271,272,277,275,276,265,267,264,266,231,240,245,241,242,243,244,105,106,93,95,112,96,206,207,80,97,107,81,94,98,99,108,110,111,100,101,103,102,104,250,211,230,226,208,235,239,234,232,233,238,236,237,253,249,248,255,254,247,87,84,83,85,90,91,82,88,89,311,298,302,300,297,313,314,309,315,316,317,318,319,320,323,324,326,321,322,327,328,329,312,330,113,114,154,155,156,157,158,159,160,161,162,163,164,166,165,167,168,169,153,204,170,171,172,205,173,174,175,176,177,178,179,180,181,182,183,184,185,186,188,187,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,331,332,310,333,358,359,334,337,356,357,347,346,344,339,352,350,354,338,351,355,340,341,353,335,342,343,345,349,360,348,336,373,372,367,369,368,361,362,364,366,370,371,363,365,305,304,374,375,325,376,377,378,303,246,115,301,299,287,229,225,227,228,260,209,261,258,256,259,262,263,109,257,92,308,221,75,222,76,215,79,212,213,214,216,217,77,220,219,78,218,86,65,69,70,67,68,73,71,72,306,63,64,11,12,15,14,2,16,17,18,19,20,21,22,23,3,24,4,25,29,26,27,28,30,31,32,5,33,34,35,36,6,40,37,38,39,41,7,42,47,48,43,44,45,46,8,52,49,50,51,53,9,54,55,56,59,57,58,60,61,10,1,62,13,66,268,224,223,131,141,130,151,122,121,150,144,149,124,138,123,147,119,118,148,120,125,126,129,116,152,142,133,134,136,132,135,145,127,128,137,117,140,139,143,146,74,252,251,296,295,210,307],"latestChangedDtsFile":"./test/index.spec.d.ts"},"version":"5.4.5"}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/dist/typedoc-urls.json b/node_modules/@libp2p/daemon-server/dist/typedoc-urls.json
deleted file mode 100644
index ab78a5c..0000000
--- a/node_modules/@libp2p/daemon-server/dist/typedoc-urls.json
+++ /dev/null
@@ -1,12 +0,0 @@
-{
-  "Server": "https://libp2p.github.io/js-libp2p-daemon/classes/_libp2p_daemon_server.Server.html",
-  ".:Server": "https://libp2p.github.io/js-libp2p-daemon/classes/_libp2p_daemon_server.Server.html",
-  "DaemonInit": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.DaemonInit.html",
-  ".:DaemonInit": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.DaemonInit.html",
-  "Libp2pServer": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.Libp2pServer.html",
-  ".:Libp2pServer": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.Libp2pServer.html",
-  "OpenStream": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.OpenStream.html",
-  ".:OpenStream": "https://libp2p.github.io/js-libp2p-daemon/interfaces/_libp2p_daemon_server.OpenStream.html",
-  "createServer": "https://libp2p.github.io/js-libp2p-daemon/functions/_libp2p_daemon_server.createServer.html",
-  ".:createServer": "https://libp2p.github.io/js-libp2p-daemon/functions/_libp2p_daemon_server.createServer.html"
-}
\ No newline at end of file
diff --git a/node_modules/@libp2p/daemon-server/src/dht.ts b/node_modules/@libp2p/daemon-server/src/dht.ts
index 4ecb32a..57536db 100644
--- a/node_modules/@libp2p/daemon-server/src/dht.ts
+++ b/node_modules/@libp2p/daemon-server/src/dht.ts
@@ -46,7 +46,7 @@ export class DHTOperations {
       if (event.name === 'PEER_RESPONSE') {
         yield * event.closer.map(peer => DHTResponse.encode({
           type: DHTResponse.Type.VALUE,
-          value: peer.id.toBytes()
+          value: peer.id.toMultihash().bytes
         }))
       }
     }
@@ -97,7 +97,7 @@ export class DHTOperations {
             dht: {
               type: DHTResponse.Type.VALUE,
               peer: {
-                id: event.peer.id.toBytes(),
+                id: event.peer.id.toMultihash().bytes,
                 addrs: event.peer.multiaddrs.map(m => m.bytes)
               }
             }
@@ -131,7 +131,7 @@ export class DHTOperations {
             yield DHTResponse.encode({
               type: DHTResponse.Type.VALUE,
               peer: {
-                id: provider.id.toBytes(),
+                id: provider.id.toMultihash().bytes,
                 addrs: (provider.multiaddrs ?? []).map(m => m.bytes)
               }
             })
diff --git a/node_modules/@libp2p/daemon-server/src/index.ts b/node_modules/@libp2p/daemon-server/src/index.ts
index beb685d..177afb8 100644
--- a/node_modules/@libp2p/daemon-server/src/index.ts
+++ b/node_modules/@libp2p/daemon-server/src/index.ts
@@ -10,7 +10,7 @@ import {
 } from '@libp2p/daemon-protocol'
 import { passThroughUpgrader } from '@libp2p/daemon-protocol/upgrader'
 import { defaultLogger, logger } from '@libp2p/logger'
-import { peerIdFromBytes } from '@libp2p/peer-id'
+import { peerIdFromMultihash } from '@libp2p/peer-id'
 import { tcp } from '@libp2p/tcp'
 import { multiaddr, protocols } from '@multiformats/multiaddr'
 import * as lp from 'it-length-prefixed'
@@ -18,6 +18,7 @@ import { lpStream } from 'it-length-prefixed-stream'
 import { pipe } from 'it-pipe'
 import { pbStream } from 'it-protobuf-stream'
 import { CID } from 'multiformats/cid'
+import * as Digest from 'multiformats/hashes/digest'
 import { DHTOperations } from './dht.js'
 import { PubSubOperations } from './pubsub.js'
 import { ErrorResponse, OkResponse } from './responses.js'
@@ -81,13 +82,13 @@ export class Server implements Libp2pServer {
    * Connects the daemons libp2p node to the peer provided
    */
   async connect (request: Request): Promise<Connection> {
-    if (request.connect == null || request.connect.addrs == null) {
+    if (request.connect?.addrs == null) {
       throw new Error('Invalid request')
     }
 
     const peer = request.connect.peer
     const addrs = request.connect.addrs.map((a) => multiaddr(a))
-    const peerId = peerIdFromBytes(peer)
+    const peerId = peerIdFromMultihash(Digest.decode(peer))
 
     log('connect - adding multiaddrs %a to peer %p', addrs, peerId)
     await this.libp2p.peerStore.merge(peerId, {
@@ -102,26 +103,24 @@ export class Server implements Libp2pServer {
    * Opens a stream on one of the given protocols to the given peer
    */
   async openStream (request: Request): Promise<OpenStream> {
-    if (request.streamOpen == null || request.streamOpen.proto == null) {
+    if (request.streamOpen?.proto == null) {
       throw new Error('Invalid request')
     }
 
     const { peer, proto } = request.streamOpen
-    const peerId = peerIdFromBytes(peer)
+    const peerId = peerIdFromMultihash(Digest.decode(peer))
 
     log('openStream - dial %p', peerId)
     const connection = await this.libp2p.dial(peerId)
 
     log('openStream - open stream for protocol %s', proto)
     const stream = await connection.newStream(proto, {
-      runOnTransientConnection: true,
-      // @ts-expect-error this has not been released yet
       runOnLimitedConnection: true
     })
 
     return {
       streamInfo: {
-        peer: peerId.toBytes(),
+        peer: peerId.toMultihash().bytes,
         addr: connection.remoteAddr.bytes,
         proto: stream.protocol ?? ''
       },
@@ -135,7 +134,7 @@ export class Server implements Libp2pServer {
    * is registered at the path, it will be overridden.
    */
   async registerStreamHandler (request: Request): Promise<void> {
-    if (request.streamHandler == null || request.streamHandler.proto == null) {
+    if (request.streamHandler?.proto == null) {
       throw new Error('Invalid request')
     }
 
@@ -155,7 +154,7 @@ export class Server implements Libp2pServer {
           })
 
           const message = StreamInfo.encode({
-            peer: connection.remotePeer.toBytes(),
+            peer: connection.remotePeer.toMultihash().bytes,
             addr: connection.remoteAddr.bytes,
             proto: stream.protocol ?? ''
           })
@@ -194,8 +193,6 @@ export class Server implements Libp2pServer {
           }
         })
     }, {
-      runOnTransientConnection: true,
-      // @ts-expect-error this has not been released yet
       runOnLimitedConnection: true
     })
   }
@@ -257,7 +254,7 @@ export class Server implements Libp2pServer {
             throw new Error('Invalid request')
           }
 
-          const peerId = peerIdFromBytes(request.id) // eslint-disable-line no-case-declarations
+          const peerId = peerIdFromMultihash(Digest.decode(request.id)) // eslint-disable-line no-case-declarations
           const peer = await this.libp2p.peerStore.get(peerId) // eslint-disable-line no-case-declarations
           const protos = peer.protocols // eslint-disable-line no-case-declarations
           yield OkResponse({ peerStore: { protos } })
@@ -331,7 +328,7 @@ export class Server implements Libp2pServer {
             throw new Error('Invalid request')
           }
 
-          yield * this.dhtOperations.findPeer(peerIdFromBytes(request.peer))
+          yield * this.dhtOperations.findPeer(peerIdFromMultihash(Digest.decode(request.peer)))
           return
         case DHTRequest.Type.FIND_PROVIDERS:
           if (request.cid == null) {
@@ -359,7 +356,7 @@ export class Server implements Libp2pServer {
             throw new Error('Invalid request')
           }
 
-          yield * this.dhtOperations.getPublicKey(peerIdFromBytes(request.peer))
+          yield * this.dhtOperations.getPublicKey(peerIdFromMultihash(Digest.decode(request.peer)))
           return
         case DHTRequest.Type.GET_VALUE:
           if (request.key == null) {
@@ -414,7 +411,7 @@ export class Server implements Libp2pServer {
             await pb.write({
               type: Response.Type.OK,
               identify: {
-                id: daemon.libp2p.peerId.toBytes(),
+                id: daemon.libp2p.peerId.toMultihash().bytes,
                 addrs: daemon.libp2p.getMultiaddrs().map(ma => ma.decapsulateCode(protocols('p2p').code)).map(m => m.bytes)
               }
             }, Response)
@@ -436,7 +433,7 @@ export class Server implements Libp2pServer {
               seen.add(peerId)
 
               peers.push({
-                id: connection.remotePeer.toBytes(),
+                id: connection.remotePeer.toMultihash().bytes,
                 addrs: [connection.remoteAddr.bytes]
               })
             }
diff --git a/node_modules/@libp2p/daemon-server/src/pubsub.ts b/node_modules/@libp2p/daemon-server/src/pubsub.ts
index c59d142..ba19fcc 100644
--- a/node_modules/@libp2p/daemon-server/src/pubsub.ts
+++ b/node_modules/@libp2p/daemon-server/src/pubsub.ts
@@ -1,5 +1,6 @@
 /* eslint max-depth: ["error", 6] */
 
+import { publicKeyToProtobuf } from '@libp2p/crypto/keys'
 import {
   PSMessage
 } from '@libp2p/daemon-protocol'
@@ -52,12 +53,12 @@ export class PubSubOperations {
 
         if (msg.type === 'signed') {
           onMessage.push(PSMessage.encode({
-            from: msg.from.toBytes(),
+            from: msg.from.toMultihash().bytes,
             data: msg.data,
             seqno: msg.sequenceNumber == null ? undefined : uint8ArrayFromString(msg.sequenceNumber.toString(16).padStart(16, '0'), 'base16'),
             topicIDs: [msg.topic],
             signature: msg.signature,
-            key: msg.key
+            key: publicKeyToProtobuf(msg.key)
           }).subarray())
         } else {
           onMessage.push(PSMessage.encode({
@@ -90,7 +91,7 @@ export class PubSubOperations {
       yield OkResponse({
         pubsub: {
           topics: [topic],
-          peerIDs: this.pubsub.getSubscribers(topic).map(peer => peer.toBytes())
+          peerIDs: this.pubsub.getSubscribers(topic).map(peer => peer.toMultihash().bytes)
         }
       })
     } catch (err: any) {
